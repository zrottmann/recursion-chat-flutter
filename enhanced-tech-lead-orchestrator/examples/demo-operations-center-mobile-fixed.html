<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>üéõÔ∏è Real-Time Operations Center - Enhanced Tech-Lead Orchestrator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', system-ui, sans-serif;
            overflow-x: hidden;
        }
        
        /* Mobile-first responsive utilities */
        .mobile-nav {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .mobile-nav.open {
            transform: translateX(0);
        }
        
        .mobile-overlay {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        
        .mobile-overlay.show {
            opacity: 1;
            pointer-events: all;
        }
        
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .hamburger span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
        }
        
        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }
        
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }
        
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .connection-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        
        .connected { background-color: #10B981; }
        .connecting { background-color: #F59E0B; animation: pulse 1s infinite; }
        .disconnected { background-color: #EF4444; }
        
        .agent-card {
            transition: all 0.3s ease;
        }
        
        .agent-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .mission-progress {
            height: 6px;
            background: #E5E7EB;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .mission-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3B82F6, #06B6D4);
            transition: width 0.5s ease;
        }
        
        .alert-item {
            border-left: 4px solid;
            transition: all 0.2s ease;
        }
        
        .alert-critical { border-color: #EF4444; background-color: rgba(239, 68, 68, 0.05); }
        .alert-warning { border-color: #F59E0B; background-color: rgba(245, 158, 11, 0.05); }
        .alert-info { border-color: #06B6D4; background-color: rgba(6, 182, 212, 0.05); }
        
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .sidebar {
            background: linear-gradient(180deg, #1F2937 0%, #111827 100%);
        }
        
        /* Mobile responsive design */
        @media (max-width: 1023px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 50;
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0 !important;
                width: 100% !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 h-screen overflow-hidden">
    <!-- Mobile Overlay -->
    <div id="mobile-overlay" class="mobile-overlay fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden"></div>
    
    <!-- Mobile Header -->
    <div class="lg:hidden bg-white shadow-sm border-b px-6 py-4 flex items-center justify-between">
        <div>
            <h1 class="text-xl font-bold text-gray-900">üéõÔ∏è Operations Center</h1>
            <p class="text-sm text-gray-600">Enhanced Tech-Lead Orchestrator</p>
        </div>
        <button id="mobile-menu-btn" class="hamburger p-2">
            <span class="bg-gray-700"></span>
            <span class="bg-gray-700"></span>
            <span class="bg-gray-700"></span>
        </button>
    </div>
    
    <!-- Main Container -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar w-64 text-white flex flex-col lg:relative lg:translate-x-0">
            <!-- Header -->
            <div class="p-6 border-b border-gray-700">
                <h1 class="text-xl font-bold flex items-center">
                    üéõÔ∏è <span class="ml-2">Operations Center</span>
                </h1>
                <p class="text-sm text-gray-400 mt-1">Enhanced Tech-Lead Orchestrator</p>
                <div class="flex items-center mt-3 text-sm">
                    <span class="connection-indicator connected" id="connection-indicator"></span>
                    <span id="connection-status">Connected</span>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="flex-1 px-4 py-6 space-y-2">
                <a href="#" onclick="switchView('overview')" class="nav-item flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200" data-view="overview">
                    <span class="text-xl mr-3">üìä</span>
                    <span class="font-medium">Mission Overview</span>
                    <span class="ml-auto bg-blue-600 text-xs px-2 py-1 rounded-full">Live</span>
                </a>
                <a href="#" onclick="switchView('missions')" class="nav-item flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200" data-view="missions">
                    <span class="text-xl mr-3">üéØ</span>
                    <span class="font-medium">Active Missions</span>
                    <span class="ml-auto bg-green-600 text-xs px-2 py-1 rounded-full" id="active-missions-count">3</span>
                </a>
                <a href="#" onclick="switchView('agents')" class="nav-item flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200" data-view="agents">
                    <span class="text-xl mr-3">ü§ñ</span>
                    <span class="font-medium">Agent Fleet</span>
                    <span class="ml-auto bg-cyan-600 text-xs px-2 py-1 rounded-full" id="available-agents-count">18</span>
                </a>
                <a href="#" onclick="switchView('analytics')" class="nav-item flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200" data-view="analytics">
                    <span class="text-xl mr-3">üìà</span>
                    <span class="font-medium">Analytics</span>
                </a>
                <a href="#" onclick="switchView('alerts')" class="nav-item flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200" data-view="alerts">
                    <span class="text-xl mr-3">üö®</span>
                    <span class="font-medium">Alerts</span>
                    <span class="ml-auto bg-red-600 text-xs px-2 py-1 rounded-full" id="alert-count">2</span>
                </a>
            </nav>
            
            <!-- Quick Actions -->
            <div class="px-4 py-6 border-t border-gray-700">
                <h3 class="text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wide">Quick Actions</h3>
                <div class="space-y-2">
                    <button onclick="emergencyResponse()" class="w-full flex items-center px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm">
                        <span class="mr-2">‚ö°</span> Emergency Response
                    </button>
                    <button onclick="createMission()" class="w-full flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm">
                        <span class="mr-2">‚ûï</span> New Mission
                    </button>
                    <button onclick="agentHealthCheck()" class="w-full flex items-center px-3 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors text-sm">
                        <span class="mr-2">üè•</span> Agent Health Check
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content flex-1 flex flex-col overflow-hidden lg:ml-0">
            <!-- Top Header -->
            <header class="bg-white shadow-sm border-b px-6 py-4 hidden lg:block">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900" id="page-title">Mission Overview</h2>
                        <p class="text-sm text-gray-600" id="page-subtitle">Real-time orchestration and monitoring</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="text-sm text-gray-600">
                            <span class="font-medium">System Status:</span>
                            <span class="text-green-600 font-semibold">Operational</span>
                        </div>
                        <div class="text-sm text-gray-600">
                            <span class="font-medium">Uptime:</span>
                            <span id="system-uptime">99.8%</span>
                        </div>
                        <div class="text-sm text-gray-600">
                            <span class="font-medium">Last Update:</span>
                            <span id="last-update">Just now</span>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Main Content Area -->
            <main class="flex-1 overflow-y-auto p-4 lg:p-6">
                <!-- Overview Section -->
                <div id="overview-section" class="view-section">
                    <!-- Top Metrics -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8">
                        <!-- Active Missions Metric -->
                        <div class="metric-card rounded-xl p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm opacity-90">Active Missions</p>
                                    <p class="text-3xl font-bold" id="metric-missions">3</p>
                                    <p class="text-sm opacity-75">+12% from yesterday</p>
                                </div>
                                <div class="text-4xl opacity-80">üéØ</div>
                            </div>
                        </div>
                        
                        <!-- Available Agents Metric -->
                        <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm opacity-90">Available Agents</p>
                                    <p class="text-3xl font-bold" id="metric-agents">18</p>
                                    <p class="text-sm opacity-75">75% utilization</p>
                                </div>
                                <div class="text-4xl opacity-80">ü§ñ</div>
                            </div>
                        </div>
                        
                        <!-- Success Rate Metric -->
                        <div class="bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm opacity-90">Success Rate</p>
                                    <p class="text-3xl font-bold" id="metric-success">94%</p>
                                    <p class="text-sm opacity-75">+5% improvement</p>
                                </div>
                                <div class="text-4xl opacity-80">‚úÖ</div>
                            </div>
                        </div>
                        
                        <!-- Response Time Metric -->
                        <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm opacity-90">Avg Response</p>
                                    <p class="text-3xl font-bold" id="metric-response">2.1s</p>
                                    <p class="text-sm opacity-75">-15% faster</p>
                                </div>
                                <div class="text-4xl opacity-80">‚ö°</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Active Missions Timeline -->
                    <div class="bg-white rounded-xl shadow-sm border mb-6 lg:mb-8">
                        <div class="px-6 py-4 border-b">
                            <h3 class="text-lg font-semibold text-gray-900">üéØ Active Missions</h3>
                            <p class="text-sm text-gray-600">Real-time mission progress and status</p>
                        </div>
                        <div class="p-6">
                            <div id="missions-timeline" class="space-y-4">
                                <!-- Mission items will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Agent Fleet Status -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
                        <!-- Agent Grid -->
                        <div class="bg-white rounded-xl shadow-sm border">
                            <div class="px-6 py-4 border-b">
                                <h3 class="text-lg font-semibold text-gray-900">ü§ñ Agent Fleet</h3>
                                <p class="text-sm text-gray-600">Current agent status and assignments</p>
                            </div>
                            <div class="p-6">
                                <div id="agent-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <!-- Agent cards will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- System Health -->
                        <div class="bg-white rounded-xl shadow-sm border">
                            <div class="px-6 py-4 border-b">
                                <h3 class="text-lg font-semibold text-gray-900">üíì System Health</h3>
                                <p class="text-sm text-gray-600">Component status and performance</p>
                            </div>
                            <div class="p-6">
                                <div id="system-health" class="space-y-4">
                                    <!-- System components will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Missions Section -->
                <div id="missions-section" class="view-section hidden">
                    <div class="bg-white rounded-xl shadow-sm border">
                        <div class="px-6 py-4 border-b flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900">Mission Control Center</h3>
                                <p class="text-sm text-gray-600">Manage and monitor all active missions</p>
                            </div>
                            <button onclick="createMission()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <span class="mr-2">‚ûï</span> New Mission
                            </button>
                        </div>
                        <div class="p-6">
                            <div id="mission-table" class="overflow-x-auto">
                                <!-- Mission table will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Agents Section -->
                <div id="agents-section" class="view-section hidden">
                    <div class="bg-white rounded-xl shadow-sm border">
                        <div class="px-6 py-4 border-b">
                            <h3 class="text-lg font-semibold text-gray-900">Agent Fleet Management</h3>
                            <p class="text-sm text-gray-600">Monitor and control your AI agent workforce</p>
                        </div>
                        <div class="p-6">
                            <div id="agent-fleet" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6">
                                <!-- Agent cards will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics Section -->
                <div id="analytics-section" class="view-section hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
                        <div class="bg-white rounded-xl shadow-sm border">
                            <div class="px-6 py-4 border-b">
                                <h3 class="text-lg font-semibold text-gray-900">Success Rate Trend</h3>
                            </div>
                            <div class="p-6">
                                <canvas id="success-rate-chart" height="200"></canvas>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl shadow-sm border">
                            <div class="px-6 py-4 border-b">
                                <h3 class="text-lg font-semibold text-gray-900">Agent Performance</h3>
                            </div>
                            <div class="p-6">
                                <canvas id="agent-performance-chart" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Alerts Section -->
                <div id="alerts-section" class="view-section hidden">
                    <div class="bg-white rounded-xl shadow-sm border">
                        <div class="px-6 py-4 border-b">
                            <h3 class="text-lg font-semibold text-gray-900">üö® System Alerts</h3>
                            <p class="text-sm text-gray-600">Critical notifications and system issues</p>
                        </div>
                        <div class="p-6">
                            <div id="alerts-list" class="space-y-4">
                                <!-- Alerts will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- WebSocket Connection Script -->
    <script>
        class OperationsCenter {
            constructor() {
                this.ws = null;
                this.reconnectAttempts = 0;
                this.maxReconnectAttempts = 5;
                this.reconnectInterval = 3000;
                this.currentView = 'overview';
                
                // Sample data
                this.missions = [
                    {
                        id: 'mission-001',
                        title: 'E-commerce Platform Deployment',
                        progress: 75,
                        status: 'active',
                        priority: 'high',
                        agents: ['react-expert', 'backend-architect', 'devops-engineer'],
                        eta: '2h 30m'
                    },
                    {
                        id: 'mission-002', 
                        title: 'Mobile App Security Audit',
                        progress: 45,
                        status: 'active',
                        priority: 'critical',
                        agents: ['security-auditor', 'mobile-developer'],
                        eta: '4h 15m'
                    },
                    {
                        id: 'mission-003',
                        title: 'Database Migration and Optimization',
                        progress: 90,
                        status: 'active', 
                        priority: 'medium',
                        agents: ['database-admin', 'backend-architect'],
                        eta: '45m'
                    }
                ];
                
                this.agents = [
                    { id: 'react-expert', name: 'React Expert', type: 'Frontend', status: 'busy', performance: 95, currentTask: 'Building checkout flow' },
                    { id: 'backend-architect', name: 'Backend Architect', type: 'Backend', status: 'busy', performance: 92, currentTask: 'API optimization' },
                    { id: 'devops-engineer', name: 'DevOps Engineer', type: 'Infrastructure', status: 'available', performance: 88, currentTask: null },
                    { id: 'security-auditor', name: 'Security Auditor', type: 'Security', status: 'busy', performance: 97, currentTask: 'Vulnerability scan' },
                    { id: 'mobile-developer', name: 'Mobile Developer', type: 'Mobile', status: 'busy', performance: 89, currentTask: 'iOS security review' },
                    { id: 'database-admin', name: 'Database Admin', type: 'Database', status: 'busy', performance: 93, currentTask: 'Migration scripts' },
                    { id: 'ai-engineer', name: 'AI Engineer', type: 'AI/ML', status: 'available', performance: 91, currentTask: null },
                    { id: 'test-automator', name: 'Test Automator', type: 'Testing', status: 'available', performance: 86, currentTask: null }
                ];
                
                this.alerts = [
                    {
                        id: 'alert-001',
                        severity: 'critical',
                        title: 'High Memory Usage Detected',
                        description: 'Database server memory utilization at 95%',
                        timestamp: new Date(Date.now() - 300000),
                        status: 'active'
                    },
                    {
                        id: 'alert-002',
                        severity: 'warning',
                        title: 'Agent Performance Degradation',
                        description: 'React Expert response time increased by 25%',
                        timestamp: new Date(Date.now() - 900000),
                        status: 'active'
                    }
                ];
            }
            
            async initialize() {
                console.log('üéõÔ∏è Initializing Operations Center...');
                
                // Set up navigation
                this.setupNavigation();
                
                // Initialize WebSocket connection
                this.connectWebSocket();
                
                // Render initial view
                this.renderCurrentView();
                
                // Start data refresh
                this.startDataRefresh();
                
                console.log('‚úÖ Operations Center initialized');
            }
            
            connectWebSocket() {
                try {
                    // For demo purposes, we'll simulate the connection
                    this.updateConnectionStatus('connecting');
                    
                    setTimeout(() => {
                        this.updateConnectionStatus('connected');
                        console.log('üåê WebSocket connected (simulated)');
                        this.reconnectAttempts = 0;
                    }, 1000);
                    
                } catch (error) {
                    console.error('‚ùå WebSocket connection failed:', error);
                    this.updateConnectionStatus('disconnected');
                    this.scheduleReconnect();
                }
            }
            
            updateConnectionStatus(status) {
                const indicator = document.getElementById('connection-indicator');
                const statusText = document.getElementById('connection-status');
                
                indicator.className = 'connection-indicator ' + status;
                statusText.textContent = status.charAt(0).toUpperCase() + status.slice(1);
            }
            
            setupNavigation() {
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        const view = item.getAttribute('data-view');
                        if (view) {
                            this.switchView(view);
                        }
                    });
                });
            }
            
            switchView(viewId) {
                // Update navigation
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('bg-gray-700');
                });
                document.querySelector(`[data-view="${viewId}"]`).classList.add('bg-gray-700');
                
                // Hide all sections
                document.querySelectorAll('.view-section').forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Show selected section
                document.getElementById(`${viewId}-section`).classList.remove('hidden');
                
                // Update header
                const titles = {
                    overview: { title: 'Mission Overview', subtitle: 'Real-time orchestration and monitoring' },
                    missions: { title: 'Mission Control', subtitle: 'Manage and monitor active missions' },
                    agents: { title: 'Agent Fleet Management', subtitle: 'Monitor and control AI agents' },
                    analytics: { title: 'Performance Analytics', subtitle: 'Insights and performance metrics' },
                    alerts: { title: 'System Alerts', subtitle: 'Critical notifications and issues' }
                };
                
                const pageTitle = document.getElementById('page-title');
                const pageSubtitle = document.getElementById('page-subtitle');
                if (pageTitle && pageSubtitle) {
                    pageTitle.textContent = titles[viewId].title;
                    pageSubtitle.textContent = titles[viewId].subtitle;
                }
                
                this.currentView = viewId;
                this.renderCurrentView();
            }
            
            renderCurrentView() {
                switch (this.currentView) {
                    case 'overview':
                        this.renderOverview();
                        break;
                    case 'missions':
                        this.renderMissions();
                        break;
                    case 'agents':
                        this.renderAgents();
                        break;
                    case 'analytics':
                        this.renderAnalytics();
                        break;
                    case 'alerts':
                        this.renderAlerts();
                        break;
                }
            }
            
            renderOverview() {
                this.renderMissionsTimeline();
                this.renderAgentGrid();
                this.renderSystemHealth();
                this.updateMetrics();
            }
            
            renderMissionsTimeline() {
                const container = document.getElementById('missions-timeline');
                if (container) {
                    container.innerHTML = this.missions.map(mission => `
                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-semibold text-gray-900">${mission.title}</h4>
                                <div class="flex items-center space-x-2">
                                    <span class="px-2 py-1 text-xs rounded-full ${
                                        mission.priority === 'critical' ? 'bg-red-100 text-red-800' :
                                        mission.priority === 'high' ? 'bg-orange-100 text-orange-800' :
                                        'bg-blue-100 text-blue-800'
                                    }">${mission.priority}</span>
                                    <span class="text-sm text-gray-600">ETA: ${mission.eta}</span>
                                </div>
                            </div>
                            <div class="mission-progress mb-3">
                                <div class="mission-progress-bar" style="width: ${mission.progress}%"></div>
                            </div>
                            <div class="flex items-center justify-between text-sm">
                                <span class="text-gray-600">${mission.progress}% complete</span>
                                <div class="flex items-center space-x-2">
                                    <span class="text-gray-500">Agents:</span>
                                    ${mission.agents.map(agent => `<span class="bg-gray-100 px-2 py-1 rounded text-xs">${agent}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            renderAgentGrid() {
                const container = document.getElementById('agent-grid');
                if (container) {
                    const availableAgents = this.agents.filter(agent => agent.status === 'available').slice(0, 4);
                    const busyAgents = this.agents.filter(agent => agent.status === 'busy').slice(0, 4);
                    const displayAgents = [...busyAgents, ...availableAgents].slice(0, 4);
                    
                    container.innerHTML = displayAgents.map(agent => `
                        <div class="agent-card border rounded-lg p-4 hover:shadow-md transition-all">
                            <div class="flex items-center justify-between mb-2">
                                <h5 class="font-medium text-gray-900">${agent.name}</h5>
                                <span class="w-3 h-3 rounded-full ${
                                    agent.status === 'available' ? 'bg-green-500' :
                                    agent.status === 'busy' ? 'bg-yellow-500 pulse-dot' :
                                    'bg-gray-400'
                                }"></span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">${agent.type}</p>
                            <div class="text-xs text-gray-500">
                                ${agent.currentTask || 'Available for assignment'}
                            </div>
                            <div class="mt-2 text-xs text-right text-gray-500">
                                Performance: ${agent.performance}%
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            renderSystemHealth() {
                const components = [
                    { name: 'Orchestration Engine', status: 'healthy', uptime: '99.8%' },
                    { name: 'Risk Management', status: 'healthy', uptime: '99.9%' },
                    { name: 'Quality Gates', status: 'warning', uptime: '98.5%' },
                    { name: 'Resource Manager', status: 'healthy', uptime: '99.7%' },
                    { name: 'WebSocket Server', status: 'healthy', uptime: '100%' }
                ];
                
                const container = document.getElementById('system-health');
                if (container) {
                    container.innerHTML = components.map(component => `
                        <div class="flex items-center justify-between py-2">
                            <div class="flex items-center">
                                <span class="w-3 h-3 rounded-full mr-3 ${
                                    component.status === 'healthy' ? 'bg-green-500' :
                                    component.status === 'warning' ? 'bg-yellow-500' :
                                    'bg-red-500'
                                }"></span>
                                <span class="text-sm font-medium text-gray-900">${component.name}</span>
                            </div>
                            <span class="text-sm text-gray-600">${component.uptime}</span>
                        </div>
                    `).join('');
                }
            }
            
            updateMetrics() {
                const metricMissions = document.getElementById('metric-missions');
                const metricAgents = document.getElementById('metric-agents');
                const metricSuccess = document.getElementById('metric-success');
                const metricResponse = document.getElementById('metric-response');
                
                if (metricMissions) metricMissions.textContent = this.missions.filter(m => m.status === 'active').length;
                if (metricAgents) metricAgents.textContent = this.agents.filter(a => a.status === 'available').length;
                if (metricSuccess) metricSuccess.textContent = '94%';
                if (metricResponse) metricResponse.textContent = (Math.random() * 2 + 1).toFixed(1) + 's';
                
                // Update sidebar counters
                const activeMissionsCount = document.getElementById('active-missions-count');
                const availableAgentsCount = document.getElementById('available-agents-count');
                const alertCount = document.getElementById('alert-count');
                
                if (activeMissionsCount) activeMissionsCount.textContent = this.missions.length;
                if (availableAgentsCount) availableAgentsCount.textContent = this.agents.filter(a => a.status === 'available').length;
                if (alertCount) alertCount.textContent = this.alerts.length;
            }
            
            renderMissions() {
                const container = document.getElementById('mission-table');
                if (container) {
                    container.innerHTML = `
                        <table class="min-w-full">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Mission</th>
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Progress</th>
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Agents</th>
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Priority</th>
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">ETA</th>
                                    <th class="text-left py-3 px-4 font-semibold text-gray-700">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${this.missions.map(mission => `
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-4 px-4">
                                            <div class="font-medium text-gray-900">${mission.title}</div>
                                            <div class="text-sm text-gray-600">${mission.id}</div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <div class="flex items-center">
                                                <div class="w-24 bg-gray-200 rounded-full h-2 mr-2">
                                                    <div class="bg-blue-600 h-2 rounded-full" style="width: ${mission.progress}%"></div>
                                                </div>
                                                <span class="text-sm text-gray-600">${mission.progress}%</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <div class="flex space-x-1">
                                                ${mission.agents.slice(0, 3).map(agent => `
                                                    <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">${agent}</span>
                                                `).join('')}
                                                ${mission.agents.length > 3 ? `<span class="text-xs text-gray-500">+${mission.agents.length - 3}</span>` : ''}
                                            </div>
                                        </td>
                                        <td class="py-4 px-4">
                                            <span class="px-2 py-1 text-xs rounded-full ${
                                                mission.priority === 'critical' ? 'bg-red-100 text-red-800' :
                                                mission.priority === 'high' ? 'bg-orange-100 text-orange-800' :
                                                'bg-blue-100 text-blue-800'
                                            }">${mission.priority}</span>
                                        </td>
                                        <td class="py-4 px-4 text-sm text-gray-600">${mission.eta}</td>
                                        <td class="py-4 px-4">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-800 text-sm">View</button>
                                                <button class="text-green-600 hover:text-green-800 text-sm">Monitor</button>
                                                <button class="text-red-600 hover:text-red-800 text-sm">Stop</button>
                                            </div>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                }
            }
            
            renderAgents() {
                const container = document.getElementById('agent-fleet');
                if (container) {
                    container.innerHTML = this.agents.map(agent => `
                        <div class="agent-card bg-white border rounded-xl p-6 hover:shadow-lg transition-all">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold text-lg">
                                        ${agent.name.charAt(0)}
                                    </div>
                                    <div class="ml-3">
                                        <h4 class="font-semibold text-gray-900">${agent.name}</h4>
                                        <p class="text-sm text-gray-600">${agent.type}</p>
                                    </div>
                                </div>
                                <span class="w-4 h-4 rounded-full ${
                                    agent.status === 'available' ? 'bg-green-500' :
                                    agent.status === 'busy' ? 'bg-yellow-500 pulse-dot' :
                                    'bg-gray-400'
                                }"></span>
                            </div>
                            
                            <div class="mb-4">
                                <div class="flex items-center justify-between text-sm mb-2">
                                    <span class="text-gray-600">Performance</span>
                                    <span class="font-semibold text-gray-900">${agent.performance}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full" style="width: ${agent.performance}%"></div>
                                </div>
                            </div>
                            
                            <div class="text-sm text-gray-600">
                                <div class="font-medium mb-1">Current Task:</div>
                                <div class="text-gray-800">${agent.currentTask || 'Available for assignment'}</div>
                            </div>
                            
                            <div class="mt-4 flex space-x-2">
                                <button class="flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded-lg transition-colors">
                                    Assign
                                </button>
                                <button class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm px-3 py-2 rounded-lg transition-colors">
                                    Details
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            renderAnalytics() {
                // Success Rate Chart
                const successCtx = document.getElementById('success-rate-chart');
                if (successCtx && typeof Chart !== 'undefined' && !this.successChart) {
                    this.successChart = new Chart(successCtx, {
                        type: 'line',
                        data: {
                            labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                            datasets: [{
                                label: 'Success Rate',
                                data: [89, 92, 94, 96],
                                borderColor: '#3B82F6',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.3
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
                
                // Agent Performance Chart
                const agentCtx = document.getElementById('agent-performance-chart');
                if (agentCtx && typeof Chart !== 'undefined' && !this.agentChart) {
                    this.agentChart = new Chart(agentCtx, {
                        type: 'bar',
                        data: {
                            labels: this.agents.slice(0, 6).map(a => a.name.split(' ')[0]),
                            datasets: [{
                                label: 'Performance %',
                                data: this.agents.slice(0, 6).map(a => a.performance),
                                backgroundColor: [
                                    '#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#06B6D4'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
            }
            
            renderAlerts() {
                const container = document.getElementById('alerts-list');
                if (container) {
                    container.innerHTML = this.alerts.map(alert => `
                        <div class="alert-item alert-${alert.severity} p-4 rounded-lg">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        <span class="text-lg mr-2">
                                            ${alert.severity === 'critical' ? 'üö®' : alert.severity === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}
                                        </span>
                                        <h4 class="font-semibold text-gray-900">${alert.title}</h4>
                                        <span class="ml-2 px-2 py-1 text-xs rounded-full ${
                                            alert.severity === 'critical' ? 'bg-red-100 text-red-800' :
                                            alert.severity === 'warning' ? 'bg-yellow-100 text-yellow-800' :
                                            'bg-blue-100 text-blue-800'
                                        }">${alert.severity}</span>
                                    </div>
                                    <p class="text-gray-700 mb-2">${alert.description}</p>
                                    <p class="text-sm text-gray-600">${alert.timestamp.toLocaleString()}</p>
                                </div>
                                <div class="flex space-x-2 ml-4">
                                    <button class="text-green-600 hover:text-green-800 text-sm px-3 py-1 border border-green-200 rounded transition-colors">
                                        Acknowledge
                                    </button>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm px-3 py-1 border border-blue-200 rounded transition-colors">
                                        Investigate
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            startDataRefresh() {
                setInterval(() => {
                    this.updateMetrics();
                    
                    // Simulate real-time updates
                    if (Math.random() < 0.3) {
                        this.simulateDataUpdate();
                    }
                    
                    // Update last update time
                    const lastUpdate = document.getElementById('last-update');
                    if (lastUpdate) {
                        lastUpdate.textContent = 'Just now';
                    }
                }, 5000);
            }
            
            simulateDataUpdate() {
                // Randomly update mission progress
                this.missions.forEach(mission => {
                    if (Math.random() < 0.2) {
                        mission.progress = Math.min(100, mission.progress + Math.floor(Math.random() * 5));
                    }
                });
                
                // Randomly change agent status
                if (Math.random() < 0.1) {
                    const availableAgents = this.agents.filter(a => a.status === 'available');
                    const busyAgents = this.agents.filter(a => a.status === 'busy');
                    
                    if (availableAgents.length > 0 && Math.random() < 0.5) {
                        availableAgents[0].status = 'busy';
                        availableAgents[0].currentTask = 'New assignment';
                    } else if (busyAgents.length > 0) {
                        busyAgents[0].status = 'available';
                        busyAgents[0].currentTask = null;
                    }
                }
                
                // Re-render current view
                if (this.currentView === 'overview') {
                    this.renderOverview();
                }
            }
        }
        
        // Mobile Navigation
        function initializeMobileNavigation() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const sidebar = document.getElementById('sidebar');
            const mobileOverlay = document.getElementById('mobile-overlay');
            
            if (mobileMenuBtn && sidebar && mobileOverlay) {
                mobileMenuBtn.addEventListener('click', () => {
                    const isOpen = sidebar.classList.contains('open');
                    
                    if (isOpen) {
                        closeMobileMenu();
                    } else {
                        openMobileMenu();
                    }
                });
                
                mobileOverlay.addEventListener('click', closeMobileMenu);
                
                // Close menu on navigation item click (mobile)
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', () => {
                        if (window.innerWidth < 1024) {
                            closeMobileMenu();
                        }
                    });
                });
            }
            
            function openMobileMenu() {
                sidebar.classList.add('open');
                mobileOverlay.classList.add('show');
                mobileMenuBtn.classList.add('active');
            }
            
            function closeMobileMenu() {
                sidebar.classList.remove('open');
                mobileOverlay.classList.remove('show');
                mobileMenuBtn.classList.remove('active');
            }
        }
        
        // Global functions for demo
        function switchView(viewId) {
            if (window.opsCenter) {
                window.opsCenter.switchView(viewId);
            }
        }
        
        function emergencyResponse() {
            alert('üö® Emergency Response Protocol Activated!\n\nAssembling crisis response team...');
        }
        
        function createMission() {
            const title = prompt('Enter mission title:');
            if (title) {
                alert(`‚úÖ New mission created: "${title}"\n\nMission is being assigned to optimal agents...`);
            }
        }
        
        function agentHealthCheck() {
            alert('üè• Agent Health Check Initiated\n\nRunning diagnostics on all agents...\n\nResult: All agents operational');
        }
        
        // Initialize Operations Center
        document.addEventListener('DOMContentLoaded', () => {
            window.opsCenter = new OperationsCenter();
            window.opsCenter.initialize();
            initializeMobileNavigation();
        });
    </script>
</body>
</html>