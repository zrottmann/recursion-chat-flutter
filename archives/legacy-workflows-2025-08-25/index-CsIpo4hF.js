function UE(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function Aa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dp={exports:{}},kl={},Ip={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function HE(){if($y)return xt;$y=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function m(I,U,W){this.props=I,this.context=U,this.refs=x,this.updater=W||v}m.prototype.isReactComponent={},m.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},m.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function y(){}y.prototype=m.prototype;function b(I,U,W){this.props=I,this.context=U,this.refs=x,this.updater=W||v}var _=b.prototype=new y;_.constructor=b,S(_,m.prototype),_.isPureReactComponent=!0;var P=Array.isArray,T=Object.prototype.hasOwnProperty,C={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function k(I,U,W){var se,le={},ae=null,B=null;if(U!=null)for(se in U.ref!==void 0&&(B=U.ref),U.key!==void 0&&(ae=""+U.key),U)T.call(U,se)&&!R.hasOwnProperty(se)&&(le[se]=U[se]);var ee=arguments.length-2;if(ee===1)le.children=W;else if(1<ee){for(var ie=Array(ee),G=0;G<ee;G++)ie[G]=arguments[G+2];le.children=ie}if(I&&I.defaultProps)for(se in ee=I.defaultProps,ee)le[se]===void 0&&(le[se]=ee[se]);return{$$typeof:r,type:I,key:ae,ref:B,props:le,_owner:C.current}}function E(I,U){return{$$typeof:r,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function D(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return U[W]})}var A=/\/+/g;function N(I,U){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):U.toString(36)}function q(I,U,W,se,le){var ae=typeof I;(ae==="undefined"||ae==="boolean")&&(I=null);var B=!1;if(I===null)B=!0;else switch(ae){case"string":case"number":B=!0;break;case"object":switch(I.$$typeof){case r:case e:B=!0}}if(B)return B=I,le=le(B),I=se===""?"."+N(B,0):se,P(le)?(W="",I!=null&&(W=I.replace(A,"$&/")+"/"),q(le,U,W,"",function(G){return G})):le!=null&&($(le)&&(le=E(le,W+(!le.key||B&&B.key===le.key?"":(""+le.key).replace(A,"$&/")+"/")+I)),U.push(le)),1;if(B=0,se=se===""?".":se+":",P(I))for(var ee=0;ee<I.length;ee++){ae=I[ee];var ie=se+N(ae,ee);B+=q(ae,U,W,ie,le)}else if(ie=p(I),typeof ie=="function")for(I=ie.call(I),ee=0;!(ae=I.next()).done;)ae=ae.value,ie=se+N(ae,ee++),B+=q(ae,U,W,ie,le);else if(ae==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return B}function V(I,U,W){if(I==null)return I;var se=[],le=0;return q(I,se,"","",function(ae){return U.call(W,ae,le++)}),se}function K(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var Y={current:null},L={transition:null},z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:L,ReactCurrentOwner:C};function M(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:V,forEach:function(I,U,W){V(I,function(){U.apply(this,arguments)},W)},count:function(I){var U=0;return V(I,function(){U++}),U},toArray:function(I){return V(I,function(U){return U})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},xt.Component=m,xt.Fragment=t,xt.Profiler=n,xt.PureComponent=b,xt.StrictMode=i,xt.Suspense=l,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,xt.act=M,xt.cloneElement=function(I,U,W){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var se=S({},I.props),le=I.key,ae=I.ref,B=I._owner;if(U!=null){if(U.ref!==void 0&&(ae=U.ref,B=C.current),U.key!==void 0&&(le=""+U.key),I.type&&I.type.defaultProps)var ee=I.type.defaultProps;for(ie in U)T.call(U,ie)&&!R.hasOwnProperty(ie)&&(se[ie]=U[ie]===void 0&&ee!==void 0?ee[ie]:U[ie])}var ie=arguments.length-2;if(ie===1)se.children=W;else if(1<ie){ee=Array(ie);for(var G=0;G<ie;G++)ee[G]=arguments[G+2];se.children=ee}return{$$typeof:r,type:I.type,key:le,ref:ae,props:se,_owner:B}},xt.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:s,_context:I},I.Consumer=I},xt.createElement=k,xt.createFactory=function(I){var U=k.bind(null,I);return U.type=I,U},xt.createRef=function(){return{current:null}},xt.forwardRef=function(I){return{$$typeof:o,render:I}},xt.isValidElement=$,xt.lazy=function(I){return{$$typeof:d,_payload:{_status:-1,_result:I},_init:K}},xt.memo=function(I,U){return{$$typeof:u,type:I,compare:U===void 0?null:U}},xt.startTransition=function(I){var U=L.transition;L.transition={};try{I()}finally{L.transition=U}},xt.unstable_act=M,xt.useCallback=function(I,U){return Y.current.useCallback(I,U)},xt.useContext=function(I){return Y.current.useContext(I)},xt.useDebugValue=function(){},xt.useDeferredValue=function(I){return Y.current.useDeferredValue(I)},xt.useEffect=function(I,U){return Y.current.useEffect(I,U)},xt.useId=function(){return Y.current.useId()},xt.useImperativeHandle=function(I,U,W){return Y.current.useImperativeHandle(I,U,W)},xt.useInsertionEffect=function(I,U){return Y.current.useInsertionEffect(I,U)},xt.useLayoutEffect=function(I,U){return Y.current.useLayoutEffect(I,U)},xt.useMemo=function(I,U){return Y.current.useMemo(I,U)},xt.useReducer=function(I,U,W){return Y.current.useReducer(I,U,W)},xt.useRef=function(I){return Y.current.useRef(I)},xt.useState=function(I){return Y.current.useState(I)},xt.useSyncExternalStore=function(I,U,W){return Y.current.useSyncExternalStore(I,U,W)},xt.useTransition=function(){return Y.current.useTransition()},xt.version="18.3.1",xt}var Ay;function z0(){return Ay||(Ay=1,Ip.exports=HE()),Ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function YE(){if(Ly)return kl;Ly=1;var r=z0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,u){var d,f={},p=null,v=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(d in l)i.call(l,d)&&!s.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:o,key:p,ref:v,props:f,_owner:n.current}}return kl.Fragment=t,kl.jsx=a,kl.jsxs=a,kl}var My;function GE(){return My||(My=1,Dp.exports=YE()),Dp.exports}var g=GE(),F=z0();const Vn=Aa(F),KE=UE({__proto__:null,default:Vn},[F]);var Yh={},Bp={exports:{}},Kr={},zp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function JE(){return jy||(jy=1,function(r){function e(L,z){var M=L.length;L.push(z);e:for(;0<M;){var I=M-1>>>1,U=L[I];if(0<n(U,z))L[I]=z,L[M]=U,M=I;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var z=L[0],M=L.pop();if(M!==z){L[0]=M;e:for(var I=0,U=L.length,W=U>>>1;I<W;){var se=2*(I+1)-1,le=L[se],ae=se+1,B=L[ae];if(0>n(le,M))ae<U&&0>n(B,le)?(L[I]=B,L[ae]=M,I=ae):(L[I]=le,L[se]=M,I=se);else if(ae<U&&0>n(B,M))L[I]=B,L[ae]=M,I=ae;else break e}}return z}function n(L,z){var M=L.sortIndex-z.sortIndex;return M!==0?M:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,p=3,v=!1,S=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var z=t(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=L)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function P(L){if(x=!1,_(L),!S)if(t(l)!==null)S=!0,K(T);else{var z=t(u);z!==null&&Y(P,z.startTime-L)}}function T(L,z){S=!1,x&&(x=!1,y(k),k=-1),v=!0;var M=p;try{for(_(z),f=t(l);f!==null&&(!(f.expirationTime>z)||L&&!D());){var I=f.callback;if(typeof I=="function"){f.callback=null,p=f.priorityLevel;var U=I(f.expirationTime<=z);z=r.unstable_now(),typeof U=="function"?f.callback=U:f===t(l)&&i(l),_(z)}else i(l);f=t(l)}if(f!==null)var W=!0;else{var se=t(u);se!==null&&Y(P,se.startTime-z),W=!1}return W}finally{f=null,p=M,v=!1}}var C=!1,R=null,k=-1,E=5,$=-1;function D(){return!(r.unstable_now()-$<E)}function A(){if(R!==null){var L=r.unstable_now();$=L;var z=!0;try{z=R(!0,L)}finally{z?N():(C=!1,R=null)}}else C=!1}var N;if(typeof b=="function")N=function(){b(A)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=A,N=function(){V.postMessage(null)}}else N=function(){m(A,0)};function K(L){R=L,C||(C=!0,N())}function Y(L,z){k=m(function(){L(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_continueExecution=function(){S||v||(S=!0,K(T))},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(L){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var M=p;p=z;try{return L()}finally{p=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=p;p=L;try{return z()}finally{p=M}},r.unstable_scheduleCallback=function(L,z,M){var I=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=M+U,L={id:d++,callback:z,priorityLevel:L,startTime:M,expirationTime:U,sortIndex:-1},M>I?(L.sortIndex=M,e(u,L),t(l)===null&&L===t(u)&&(x?(y(k),k=-1):x=!0,Y(P,M-I))):(L.sortIndex=U,e(l,L),S||v||(S=!0,K(T))),L},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(L){var z=p;return function(){var M=p;p=z;try{return L.apply(this,arguments)}finally{p=M}}}}(qp)),qp}var Ny;function eQ(){return Ny||(Ny=1,zp.exports=JE()),zp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function tQ(){if(Dy)return Kr;Dy=1;var r=z0(),e=eQ();function t(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,O=1;O<arguments.length;O++)h+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,n={};function s(c,h){a(c,h),a(c+"Capture",h)}function a(c,h){for(n[c]=h,c=0;c<h.length;c++)i.add(h[c])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(c){return l.call(f,c)?!0:l.call(d,c)?!1:u.test(c)?f[c]=!0:(d[c]=!0,!1)}function v(c,h,O,w){if(O!==null&&O.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:O!==null?!O.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function S(c,h,O,w){if(h===null||typeof h>"u"||v(c,h,O,w))return!0;if(w)return!1;if(O!==null)switch(O.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(c,h,O,w,Q,j,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=Q,this.mustUseProperty=O,this.propertyName=c,this.type=h,this.sanitizeURL=j,this.removeEmptyString=X}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){m[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];m[h]=new x(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){m[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){m[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){m[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){m[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){m[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){m[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){m[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(y,b);m[h]=new x(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(y,b);m[h]=new x(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(y,b);m[h]=new x(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){m[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),m.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){m[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function _(c,h,O,w){var Q=m.hasOwnProperty(h)?m[h]:null;(Q!==null?Q.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(S(h,O,Q,w)&&(O=null),w||Q===null?p(h)&&(O===null?c.removeAttribute(h):c.setAttribute(h,""+O)):Q.mustUseProperty?c[Q.propertyName]=O===null?Q.type===3?!1:"":O:(h=Q.attributeName,w=Q.attributeNamespace,O===null?c.removeAttribute(h):(Q=Q.type,O=Q===3||Q===4&&O===!0?"":""+O,w?c.setAttributeNS(w,h,O):c.setAttribute(h,O))))}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),D=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),L=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=L&&c[L]||c["@@iterator"],typeof c=="function"?c:null)}var M=Object.assign,I;function U(c){if(I===void 0)try{throw Error()}catch(O){var h=O.stack.trim().match(/\n( *(at )?)/);I=h&&h[1]||""}return`
`+I+c}var W=!1;function se(c,h){if(!c||W)return"";W=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(fe){var w=fe}Reflect.construct(c,[],h)}else{try{h.call()}catch(fe){w=fe}c.call(h.prototype)}else{try{throw Error()}catch(fe){w=fe}c()}}catch(fe){if(fe&&w&&typeof fe.stack=="string"){for(var Q=fe.stack.split(`
`),j=w.stack.split(`
`),X=Q.length-1,J=j.length-1;1<=X&&0<=J&&Q[X]!==j[J];)J--;for(;1<=X&&0<=J;X--,J--)if(Q[X]!==j[J]){if(X!==1||J!==1)do if(X--,J--,0>J||Q[X]!==j[J]){var re=`
`+Q[X].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=X&&0<=J);break}}}finally{W=!1,Error.prepareStackTrace=O}return(c=c?c.displayName||c.name:"")?U(c):""}function le(c){switch(c.tag){case 5:return U(c.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return c=se(c.type,!1),c;case 11:return c=se(c.type.render,!1),c;case 1:return c=se(c.type,!0),c;default:return""}}function ae(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case R:return"Fragment";case C:return"Portal";case E:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case q:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case $:return(c._context.displayName||"Context")+".Provider";case A:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case V:return h=c.displayName||null,h!==null?h:ae(c.type)||"Memo";case K:h=c._payload,c=c._init;try{return ae(c(h))}catch{}}return null}function B(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(h);case 8:return h===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ee(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ie(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function G(c){var h=ie(c)?"checked":"value",O=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var Q=O.get,j=O.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return Q.call(this)},set:function(X){w=""+X,j.call(this,X)}}),Object.defineProperty(c,h,{enumerable:O.enumerable}),{getValue:function(){return w},setValue:function(X){w=""+X},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function me(c){c._valueTracker||(c._valueTracker=G(c))}function be(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var O=h.getValue(),w="";return c&&(w=ie(c)?c.checked?"true":"false":c.value),c=w,c!==O?(h.setValue(c),!0):!1}function Ie(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function qe(c,h){var O=h.checked;return M({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??c._wrapperState.initialChecked})}function st(c,h){var O=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;O=ee(h.value!=null?h.value:O),c._wrapperState={initialChecked:w,initialValue:O,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function _e(c,h){h=h.checked,h!=null&&_(c,"checked",h,!1)}function Se(c,h){_e(c,h);var O=ee(h.value),w=h.type;if(O!=null)w==="number"?(O===0&&c.value===""||c.value!=O)&&(c.value=""+O):c.value!==""+O&&(c.value=""+O);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?et(c,h.type,O):h.hasOwnProperty("defaultValue")&&et(c,h.type,ee(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Ee(c,h,O){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,O||h===c.value||(c.value=h),c.defaultValue=h}O=c.name,O!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,O!==""&&(c.name=O)}function et(c,h,O){(h!=="number"||Ie(c.ownerDocument)!==c)&&(O==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+O&&(c.defaultValue=""+O))}var Be=Array.isArray;function Xe(c,h,O,w){if(c=c.options,h){h={};for(var Q=0;Q<O.length;Q++)h["$"+O[Q]]=!0;for(O=0;O<c.length;O++)Q=h.hasOwnProperty("$"+c[O].value),c[O].selected!==Q&&(c[O].selected=Q),Q&&w&&(c[O].defaultSelected=!0)}else{for(O=""+ee(O),h=null,Q=0;Q<c.length;Q++){if(c[Q].value===O){c[Q].selected=!0,w&&(c[Q].defaultSelected=!0);return}h!==null||c[Q].disabled||(h=c[Q])}h!==null&&(h.selected=!0)}}function $e(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Qe(c,h){var O=h.value;if(O==null){if(O=h.children,h=h.defaultValue,O!=null){if(h!=null)throw Error(t(92));if(Be(O)){if(1<O.length)throw Error(t(93));O=O[0]}h=O}h==null&&(h=""),O=h}c._wrapperState={initialValue:ee(O)}}function ve(c,h){var O=ee(h.value),w=ee(h.defaultValue);O!=null&&(O=""+O,O!==c.value&&(c.value=O),h.defaultValue==null&&c.defaultValue!==O&&(c.defaultValue=O)),w!=null&&(c.defaultValue=""+w)}function Pe(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function oe(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?oe(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var je,te=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,O,w,Q){MSApp.execUnsafeLocalFunction(function(){return c(h,O,w,Q)})}:c}(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(je=je||document.createElement("div"),je.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=je.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function H(c,h){if(h){var O=c.firstChild;if(O&&O===c.lastChild&&O.nodeType===3){O.nodeValue=h;return}}c.textContent=h}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(de).forEach(function(c){Oe.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),de[h]=de[c]})});function pe(c,h,O){return h==null||typeof h=="boolean"||h===""?"":O||typeof h!="number"||h===0||de.hasOwnProperty(c)&&de[c]?(""+h).trim():h+"px"}function ot(c,h){c=c.style;for(var O in h)if(h.hasOwnProperty(O)){var w=O.indexOf("--")===0,Q=pe(O,h[O],w);O==="float"&&(O="cssFloat"),w?c.setProperty(O,Q):c[O]=Q}}var Pt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qt(c,h){if(h){if(Pt[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(t(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(t(61))}if(h.style!=null&&typeof h.style!="object")throw Error(t(62))}}function Ot(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function ji(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ni=null,Sr=null,Zr=null;function Yi(c){if(c=hl(c)){if(typeof Ni!="function")throw Error(t(280));var h=c.stateNode;h&&(h=uh(h),Ni(c.stateNode,c.type,h))}}function To(c){Sr?Zr?Zr.push(c):Zr=[c]:Sr=c}function Pn(){if(Sr){var c=Sr,h=Zr;if(Zr=Sr=null,Yi(c),h)for(c=0;c<h.length;c++)Yi(h[c])}}function ge(c,h){return c(h)}function we(){}var ht=!1;function zt(c,h,O){if(ht)return c(h,O);ht=!0;try{return ge(c,h,O)}finally{ht=!1,(Sr!==null||Zr!==null)&&(we(),Pn())}}function rr(c,h){var O=c.stateNode;if(O===null)return null;var w=uh(O);if(w===null)return null;O=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(O&&typeof O!="function")throw Error(t(231,h,typeof O));return O}var Qr=!1;if(o)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Qr=!1}function Jd(c,h,O,w,Q,j,X,J,re){var fe=Array.prototype.slice.call(arguments,3);try{h.apply(O,fe)}catch(Ce){this.onError(Ce)}}var Xs=!1,Tn=null,Eo=!1,Wa=null,ef={onError:function(c){Xs=!0,Tn=c}};function tf(c,h,O,w,Q,j,X,J,re){Xs=!1,Tn=null,Jd.apply(ef,arguments)}function rf(c,h,O,w,Q,j,X,J,re){if(tf.apply(this,arguments),Xs){if(Xs){var fe=Tn;Xs=!1,Tn=null}else throw Error(t(198));Eo||(Eo=!0,Wa=fe)}}function ai(c){var h=c,O=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(O=h.return),c=h.return;while(c)}return h.tag===3?O:null}function Xc(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Qo(c){if(ai(c)!==c)throw Error(t(188))}function nf(c){var h=c.alternate;if(!h){if(h=ai(c),h===null)throw Error(t(188));return h!==c?null:c}for(var O=c,w=h;;){var Q=O.return;if(Q===null)break;var j=Q.alternate;if(j===null){if(w=Q.return,w!==null){O=w;continue}break}if(Q.child===j.child){for(j=Q.child;j;){if(j===O)return Qo(Q),c;if(j===w)return Qo(Q),h;j=j.sibling}throw Error(t(188))}if(O.return!==w.return)O=Q,w=j;else{for(var X=!1,J=Q.child;J;){if(J===O){X=!0,O=Q,w=j;break}if(J===w){X=!0,w=Q,O=j;break}J=J.sibling}if(!X){for(J=j.child;J;){if(J===O){X=!0,O=j,w=Q;break}if(J===w){X=!0,w=j,O=Q;break}J=J.sibling}if(!X)throw Error(t(189))}}if(O.alternate!==w)throw Error(t(190))}if(O.tag!==3)throw Error(t(188));return O.stateNode.current===O?c:h}function Wc(c){return c=nf(c),c!==null?Fc(c):null}function Fc(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=Fc(c);if(h!==null)return h;c=c.sibling}return null}var Zc=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,We=e.unstable_requestPaint,Le=e.unstable_now,Ye=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,Rr=e.unstable_LowPriority,Jn=e.unstable_IdlePriority,Fa=null,Ki=null;function cT(c){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Fa,c,void 0,(c.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:dT,hT=Math.log,uT=Math.LN2;function dT(c){return c>>>=0,c===0?32:31-(hT(c)/uT|0)|0}var Vc=64,Uc=4194304;function Za(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Hc(c,h){var O=c.pendingLanes;if(O===0)return 0;var w=0,Q=c.suspendedLanes,j=c.pingedLanes,X=O&268435455;if(X!==0){var J=X&~Q;J!==0?w=Za(J):(j&=X,j!==0&&(w=Za(j)))}else X=O&~Q,X!==0?w=Za(X):j!==0&&(w=Za(j));if(w===0)return 0;if(h!==0&&h!==w&&(h&Q)===0&&(Q=w&-w,j=h&-h,Q>=j||Q===16&&(j&4194240)!==0))return h;if((w&4)!==0&&(w|=O&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=w;0<h;)O=31-Di(h),Q=1<<O,w|=c[O],h&=~Q;return w}function fT(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pT(c,h){for(var O=c.suspendedLanes,w=c.pingedLanes,Q=c.expirationTimes,j=c.pendingLanes;0<j;){var X=31-Di(j),J=1<<X,re=Q[X];re===-1?((J&O)===0||(J&w)!==0)&&(Q[X]=fT(J,h)):re<=h&&(c.expiredLanes|=J),j&=~J}}function sf(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function cv(){var c=Vc;return Vc<<=1,(Vc&4194240)===0&&(Vc=64),c}function of(c){for(var h=[],O=0;31>O;O++)h.push(c);return h}function Va(c,h,O){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Di(h),c[h]=O}function mT(c,h){var O=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<O;){var Q=31-Di(O),j=1<<Q;h[Q]=0,w[Q]=-1,c[Q]=-1,O&=~j}}function af(c,h){var O=c.entangledLanes|=h;for(c=c.entanglements;O;){var w=31-Di(O),Q=1<<w;Q&h|c[w]&h&&(c[w]|=h),O&=~Q}}var At=0;function hv(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var uv,lf,dv,fv,pv,cf=!1,Yc=[],es=null,ts=null,rs=null,Ua=new Map,Ha=new Map,is=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(c,h){switch(c){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ua.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(h.pointerId)}}function Ya(c,h,O,w,Q,j){return c===null||c.nativeEvent!==j?(c={blockedOn:h,domEventName:O,eventSystemFlags:w,nativeEvent:j,targetContainers:[Q]},h!==null&&(h=hl(h),h!==null&&lf(h)),c):(c.eventSystemFlags|=w,h=c.targetContainers,Q!==null&&h.indexOf(Q)===-1&&h.push(Q),c)}function OT(c,h,O,w,Q){switch(h){case"focusin":return es=Ya(es,c,h,O,w,Q),!0;case"dragenter":return ts=Ya(ts,c,h,O,w,Q),!0;case"mouseover":return rs=Ya(rs,c,h,O,w,Q),!0;case"pointerover":var j=Q.pointerId;return Ua.set(j,Ya(Ua.get(j)||null,c,h,O,w,Q)),!0;case"gotpointercapture":return j=Q.pointerId,Ha.set(j,Ya(Ha.get(j)||null,c,h,O,w,Q)),!0}return!1}function gv(c){var h=Ws(c.target);if(h!==null){var O=ai(h);if(O!==null){if(h=O.tag,h===13){if(h=Xc(O),h!==null){c.blockedOn=h,pv(c.priority,function(){dv(O)});return}}else if(h===3&&O.stateNode.current.memoizedState.isDehydrated){c.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Gc(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var O=uf(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(O===null){O=c.nativeEvent;var w=new O.constructor(O.type,O);Lt=w,O.target.dispatchEvent(w),Lt=null}else return h=hl(O),h!==null&&lf(h),c.blockedOn=O,!1;h.shift()}return!0}function Ov(c,h,O){Gc(c)&&O.delete(h)}function vT(){cf=!1,es!==null&&Gc(es)&&(es=null),ts!==null&&Gc(ts)&&(ts=null),rs!==null&&Gc(rs)&&(rs=null),Ua.forEach(Ov),Ha.forEach(Ov)}function Ga(c,h){c.blockedOn===h&&(c.blockedOn=null,cf||(cf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vT)))}function Ka(c){function h(Q){return Ga(Q,c)}if(0<Yc.length){Ga(Yc[0],c);for(var O=1;O<Yc.length;O++){var w=Yc[O];w.blockedOn===c&&(w.blockedOn=null)}}for(es!==null&&Ga(es,c),ts!==null&&Ga(ts,c),rs!==null&&Ga(rs,c),Ua.forEach(h),Ha.forEach(h),O=0;O<is.length;O++)w=is[O],w.blockedOn===c&&(w.blockedOn=null);for(;0<is.length&&(O=is[0],O.blockedOn===null);)gv(O),O.blockedOn===null&&is.shift()}var Ro=P.ReactCurrentBatchConfig,Kc=!0;function xT(c,h,O,w){var Q=At,j=Ro.transition;Ro.transition=null;try{At=1,hf(c,h,O,w)}finally{At=Q,Ro.transition=j}}function yT(c,h,O,w){var Q=At,j=Ro.transition;Ro.transition=null;try{At=4,hf(c,h,O,w)}finally{At=Q,Ro.transition=j}}function hf(c,h,O,w){if(Kc){var Q=uf(c,h,O,w);if(Q===null)Tf(c,h,w,Jc,O),mv(c,w);else if(OT(Q,c,h,O,w))w.stopPropagation();else if(mv(c,w),h&4&&-1<gT.indexOf(c)){for(;Q!==null;){var j=hl(Q);if(j!==null&&uv(j),j=uf(c,h,O,w),j===null&&Tf(c,h,w,Jc,O),j===Q)break;Q=j}Q!==null&&w.stopPropagation()}else Tf(c,h,w,null,O)}}var Jc=null;function uf(c,h,O,w){if(Jc=null,c=ji(w),c=Ws(c),c!==null)if(h=ai(c),h===null)c=null;else if(O=h.tag,O===13){if(c=Xc(h),c!==null)return c;c=null}else if(O===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return Jc=c,null}function vv(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ue:return 1;case mt:return 4;case _t:case Rr:return 16;case Jn:return 536870912;default:return 16}default:return 16}}var ns=null,df=null,eh=null;function xv(){if(eh)return eh;var c,h=df,O=h.length,w,Q="value"in ns?ns.value:ns.textContent,j=Q.length;for(c=0;c<O&&h[c]===Q[c];c++);var X=O-c;for(w=1;w<=X&&h[O-w]===Q[j-w];w++);return eh=Q.slice(c,1<w?1-w:void 0)}function th(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function rh(){return!0}function yv(){return!1}function li(c){function h(O,w,Q,j,X){this._reactName=O,this._targetInst=Q,this.type=w,this.nativeEvent=j,this.target=X,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(O=c[J],this[J]=O?O(j):j[J]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?rh:yv,this.isPropagationStopped=yv,this}return M(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),h}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=li($o),Ja=M({},$o,{view:0,detail:0}),bT=li(Ja),pf,mf,el,ih=M({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==el&&(el&&c.type==="mousemove"?(pf=c.screenX-el.screenX,mf=c.screenY-el.screenY):mf=pf=0,el=c),pf)},movementY:function(c){return"movementY"in c?c.movementY:mf}}),bv=li(ih),_T=M({},ih,{dataTransfer:0}),ST=li(_T),wT=M({},Ja,{relatedTarget:0}),gf=li(wT),kT=M({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),CT=li(kT),PT=M({},$o,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),TT=li(PT),ET=M({},$o,{data:0}),_v=li(ET),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$T={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AT(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=$T[c])?!!h[c]:!1}function Of(){return AT}var LT=M({},Ja,{key:function(c){if(c.key){var h=QT[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=th(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?RT[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(c){return c.type==="keypress"?th(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?th(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),MT=li(LT),jT=M({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=li(jT),NT=M({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),DT=li(NT),IT=M({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),BT=li(IT),zT=M({},ih,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),qT=li(zT),XT=[9,13,27,32],vf=o&&"CompositionEvent"in window,tl=null;o&&"documentMode"in document&&(tl=document.documentMode);var WT=o&&"TextEvent"in window&&!tl,wv=o&&(!vf||tl&&8<tl&&11>=tl),kv=" ",Cv=!1;function Pv(c,h){switch(c){case"keyup":return XT.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ao=!1;function FT(c,h){switch(c){case"compositionend":return Tv(h);case"keypress":return h.which!==32?null:(Cv=!0,kv);case"textInput":return c=h.data,c===kv&&Cv?null:c;default:return null}}function ZT(c,h){if(Ao)return c==="compositionend"||!vf&&Pv(c,h)?(c=xv(),eh=df=ns=null,Ao=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return wv&&h.locale!=="ko"?null:h.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!VT[c.type]:h==="textarea"}function Qv(c,h,O,w){To(w),h=lh(h,"onChange"),0<h.length&&(O=new ff("onChange","change",null,O,w),c.push({event:O,listeners:h}))}var rl=null,il=null;function UT(c){Uv(c,0)}function nh(c){var h=Do(c);if(be(h))return c}function HT(c,h){if(c==="change")return h}var Rv=!1;if(o){var xf;if(o){var yf="oninput"in document;if(!yf){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),yf=typeof $v.oninput=="function"}xf=yf}else xf=!1;Rv=xf&&(!document.documentMode||9<document.documentMode)}function Av(){rl&&(rl.detachEvent("onpropertychange",Lv),il=rl=null)}function Lv(c){if(c.propertyName==="value"&&nh(il)){var h=[];Qv(h,il,c,ji(c)),zt(UT,h)}}function YT(c,h,O){c==="focusin"?(Av(),rl=h,il=O,rl.attachEvent("onpropertychange",Lv)):c==="focusout"&&Av()}function GT(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return nh(il)}function KT(c,h){if(c==="click")return nh(h)}function JT(c,h){if(c==="input"||c==="change")return nh(h)}function eE(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Ii=typeof Object.is=="function"?Object.is:eE;function nl(c,h){if(Ii(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var O=Object.keys(c),w=Object.keys(h);if(O.length!==w.length)return!1;for(w=0;w<O.length;w++){var Q=O[w];if(!l.call(h,Q)||!Ii(c[Q],h[Q]))return!1}return!0}function Mv(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function jv(c,h){var O=Mv(c);c=0;for(var w;O;){if(O.nodeType===3){if(w=c+O.textContent.length,c<=h&&w>=h)return{node:O,offset:h-c};c=w}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=Mv(O)}}function Nv(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?Nv(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Dv(){for(var c=window,h=Ie();h instanceof c.HTMLIFrameElement;){try{var O=typeof h.contentWindow.location.href=="string"}catch{O=!1}if(O)c=h.contentWindow;else break;h=Ie(c.document)}return h}function bf(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function tE(c){var h=Dv(),O=c.focusedElem,w=c.selectionRange;if(h!==O&&O&&O.ownerDocument&&Nv(O.ownerDocument.documentElement,O)){if(w!==null&&bf(O)){if(h=w.start,c=w.end,c===void 0&&(c=h),"selectionStart"in O)O.selectionStart=h,O.selectionEnd=Math.min(c,O.value.length);else if(c=(h=O.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var Q=O.textContent.length,j=Math.min(w.start,Q);w=w.end===void 0?j:Math.min(w.end,Q),!c.extend&&j>w&&(Q=w,w=j,j=Q),Q=jv(O,j);var X=jv(O,w);Q&&X&&(c.rangeCount!==1||c.anchorNode!==Q.node||c.anchorOffset!==Q.offset||c.focusNode!==X.node||c.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(Q.node,Q.offset),c.removeAllRanges(),j>w?(c.addRange(h),c.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),c.addRange(h)))}}for(h=[],c=O;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<h.length;O++)c=h[O],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var rE=o&&"documentMode"in document&&11>=document.documentMode,Lo=null,_f=null,sl=null,Sf=!1;function Iv(c,h,O){var w=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;Sf||Lo==null||Lo!==Ie(w)||(w=Lo,"selectionStart"in w&&bf(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),sl&&nl(sl,w)||(sl=w,w=lh(_f,"onSelect"),0<w.length&&(h=new ff("onSelect","select",null,h,O),c.push({event:h,listeners:w}),h.target=Lo)))}function sh(c,h){var O={};return O[c.toLowerCase()]=h.toLowerCase(),O["Webkit"+c]="webkit"+h,O["Moz"+c]="moz"+h,O}var Mo={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},wf={},Bv={};o&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function oh(c){if(wf[c])return wf[c];if(!Mo[c])return c;var h=Mo[c],O;for(O in h)if(h.hasOwnProperty(O)&&O in Bv)return wf[c]=h[O];return c}var zv=oh("animationend"),qv=oh("animationiteration"),Xv=oh("animationstart"),Wv=oh("transitionend"),Fv=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(c,h){Fv.set(c,h),s(h,[c])}for(var kf=0;kf<Zv.length;kf++){var Cf=Zv[kf],iE=Cf.toLowerCase(),nE=Cf[0].toUpperCase()+Cf.slice(1);ss(iE,"on"+nE)}ss(zv,"onAnimationEnd"),ss(qv,"onAnimationIteration"),ss(Xv,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(Wv,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Vv(c,h,O){var w=c.type||"unknown-event";c.currentTarget=O,rf(w,h,void 0,c),c.currentTarget=null}function Uv(c,h){h=(h&4)!==0;for(var O=0;O<c.length;O++){var w=c[O],Q=w.event;w=w.listeners;e:{var j=void 0;if(h)for(var X=w.length-1;0<=X;X--){var J=w[X],re=J.instance,fe=J.currentTarget;if(J=J.listener,re!==j&&Q.isPropagationStopped())break e;Vv(Q,J,fe),j=re}else for(X=0;X<w.length;X++){if(J=w[X],re=J.instance,fe=J.currentTarget,J=J.listener,re!==j&&Q.isPropagationStopped())break e;Vv(Q,J,fe),j=re}}}if(Eo)throw c=Wa,Eo=!1,Wa=null,c}function Ft(c,h){var O=h[Lf];O===void 0&&(O=h[Lf]=new Set);var w=c+"__bubble";O.has(w)||(Hv(h,c,2,!1),O.add(w))}function Pf(c,h,O){var w=0;h&&(w|=4),Hv(O,c,w,h)}var ah="_reactListening"+Math.random().toString(36).slice(2);function al(c){if(!c[ah]){c[ah]=!0,i.forEach(function(O){O!=="selectionchange"&&(sE.has(O)||Pf(O,!1,c),Pf(O,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[ah]||(h[ah]=!0,Pf("selectionchange",!1,h))}}function Hv(c,h,O,w){switch(vv(h)){case 1:var Q=xT;break;case 4:Q=yT;break;default:Q=hf}O=Q.bind(null,h,O,c),Q=void 0,!Qr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(Q=!0),w?Q!==void 0?c.addEventListener(h,O,{capture:!0,passive:Q}):c.addEventListener(h,O,!0):Q!==void 0?c.addEventListener(h,O,{passive:Q}):c.addEventListener(h,O,!1)}function Tf(c,h,O,w,Q){var j=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var X=w.tag;if(X===3||X===4){var J=w.stateNode.containerInfo;if(J===Q||J.nodeType===8&&J.parentNode===Q)break;if(X===4)for(X=w.return;X!==null;){var re=X.tag;if((re===3||re===4)&&(re=X.stateNode.containerInfo,re===Q||re.nodeType===8&&re.parentNode===Q))return;X=X.return}for(;J!==null;){if(X=Ws(J),X===null)return;if(re=X.tag,re===5||re===6){w=j=X;continue e}J=J.parentNode}}w=w.return}zt(function(){var fe=j,Ce=ji(O),Te=[];e:{var ke=Fv.get(c);if(ke!==void 0){var Fe=ff,Ge=c;switch(c){case"keypress":if(th(O)===0)break e;case"keydown":case"keyup":Fe=MT;break;case"focusin":Ge="focus",Fe=gf;break;case"focusout":Ge="blur",Fe=gf;break;case"beforeblur":case"afterblur":Fe=gf;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=ST;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=DT;break;case zv:case qv:case Xv:Fe=CT;break;case Wv:Fe=BT;break;case"scroll":Fe=bT;break;case"wheel":Fe=qT;break;case"copy":case"cut":case"paste":Fe=TT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Sv}var tt=(h&4)!==0,ir=!tt&&c==="scroll",ce=tt?ke!==null?ke+"Capture":null:ke;tt=[];for(var ne=fe,ue;ne!==null;){ue=ne;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,ce!==null&&(Ae=rr(ne,ce),Ae!=null&&tt.push(ll(ne,Ae,ue)))),ir)break;ne=ne.return}0<tt.length&&(ke=new Fe(ke,Ge,null,O,Ce),Te.push({event:ke,listeners:tt}))}}if((h&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",Fe=c==="mouseout"||c==="pointerout",ke&&O!==Lt&&(Ge=O.relatedTarget||O.fromElement)&&(Ws(Ge)||Ge[En]))break e;if((Fe||ke)&&(ke=Ce.window===Ce?Ce:(ke=Ce.ownerDocument)?ke.defaultView||ke.parentWindow:window,Fe?(Ge=O.relatedTarget||O.toElement,Fe=fe,Ge=Ge?Ws(Ge):null,Ge!==null&&(ir=ai(Ge),Ge!==ir||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Fe=null,Ge=fe),Fe!==Ge)){if(tt=bv,Ae="onMouseLeave",ce="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(tt=Sv,Ae="onPointerLeave",ce="onPointerEnter",ne="pointer"),ir=Fe==null?ke:Do(Fe),ue=Ge==null?ke:Do(Ge),ke=new tt(Ae,ne+"leave",Fe,O,Ce),ke.target=ir,ke.relatedTarget=ue,Ae=null,Ws(Ce)===fe&&(tt=new tt(ce,ne+"enter",Ge,O,Ce),tt.target=ue,tt.relatedTarget=ir,Ae=tt),ir=Ae,Fe&&Ge)t:{for(tt=Fe,ce=Ge,ne=0,ue=tt;ue;ue=jo(ue))ne++;for(ue=0,Ae=ce;Ae;Ae=jo(Ae))ue++;for(;0<ne-ue;)tt=jo(tt),ne--;for(;0<ue-ne;)ce=jo(ce),ue--;for(;ne--;){if(tt===ce||ce!==null&&tt===ce.alternate)break t;tt=jo(tt),ce=jo(ce)}tt=null}else tt=null;Fe!==null&&Yv(Te,ke,Fe,tt,!1),Ge!==null&&ir!==null&&Yv(Te,ir,Ge,tt,!0)}}e:{if(ke=fe?Do(fe):window,Fe=ke.nodeName&&ke.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ke.type==="file")var rt=HT;else if(Ev(ke))if(Rv)rt=JT;else{rt=GT;var at=YT}else(Fe=ke.nodeName)&&Fe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(rt=KT);if(rt&&(rt=rt(c,fe))){Qv(Te,rt,O,Ce);break e}at&&at(c,ke,fe),c==="focusout"&&(at=ke._wrapperState)&&at.controlled&&ke.type==="number"&&et(ke,"number",ke.value)}switch(at=fe?Do(fe):window,c){case"focusin":(Ev(at)||at.contentEditable==="true")&&(Lo=at,_f=fe,sl=null);break;case"focusout":sl=_f=Lo=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Iv(Te,O,Ce);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Iv(Te,O,Ce)}var lt;if(vf)e:{switch(c){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Ao?Pv(c,O)&&(ut="onCompositionEnd"):c==="keydown"&&O.keyCode===229&&(ut="onCompositionStart");ut&&(wv&&O.locale!=="ko"&&(Ao||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ao&&(lt=xv()):(ns=Ce,df="value"in ns?ns.value:ns.textContent,Ao=!0)),at=lh(fe,ut),0<at.length&&(ut=new _v(ut,c,null,O,Ce),Te.push({event:ut,listeners:at}),lt?ut.data=lt:(lt=Tv(O),lt!==null&&(ut.data=lt)))),(lt=WT?FT(c,O):ZT(c,O))&&(fe=lh(fe,"onBeforeInput"),0<fe.length&&(Ce=new _v("onBeforeInput","beforeinput",null,O,Ce),Te.push({event:Ce,listeners:fe}),Ce.data=lt))}Uv(Te,h)})}function ll(c,h,O){return{instance:c,listener:h,currentTarget:O}}function lh(c,h){for(var O=h+"Capture",w=[];c!==null;){var Q=c,j=Q.stateNode;Q.tag===5&&j!==null&&(Q=j,j=rr(c,O),j!=null&&w.unshift(ll(c,j,Q)),j=rr(c,h),j!=null&&w.push(ll(c,j,Q))),c=c.return}return w}function jo(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Yv(c,h,O,w,Q){for(var j=h._reactName,X=[];O!==null&&O!==w;){var J=O,re=J.alternate,fe=J.stateNode;if(re!==null&&re===w)break;J.tag===5&&fe!==null&&(J=fe,Q?(re=rr(O,j),re!=null&&X.unshift(ll(O,re,J))):Q||(re=rr(O,j),re!=null&&X.push(ll(O,re,J)))),O=O.return}X.length!==0&&c.push({event:h,listeners:X})}var oE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Gv(c){return(typeof c=="string"?c:""+c).replace(oE,`
`).replace(aE,"")}function ch(c,h,O){if(h=Gv(h),Gv(c)!==h&&O)throw Error(t(425))}function hh(){}var Ef=null,Qf=null;function Rf(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(c){return Kv.resolve(null).then(c).catch(hE)}:$f;function hE(c){setTimeout(function(){throw c})}function Af(c,h){var O=h,w=0;do{var Q=O.nextSibling;if(c.removeChild(O),Q&&Q.nodeType===8)if(O=Q.data,O==="/$"){if(w===0){c.removeChild(Q),Ka(h);return}w--}else O!=="$"&&O!=="$?"&&O!=="$!"||w++;O=Q}while(O);Ka(h)}function os(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function Jv(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var O=c.data;if(O==="$"||O==="$!"||O==="$?"){if(h===0)return c;h--}else O==="/$"&&h++}c=c.previousSibling}return null}var No=Math.random().toString(36).slice(2),Ji="__reactFiber$"+No,cl="__reactProps$"+No,En="__reactContainer$"+No,Lf="__reactEvents$"+No,uE="__reactListeners$"+No,dE="__reactHandles$"+No;function Ws(c){var h=c[Ji];if(h)return h;for(var O=c.parentNode;O;){if(h=O[En]||O[Ji]){if(O=h.alternate,h.child!==null||O!==null&&O.child!==null)for(c=Jv(c);c!==null;){if(O=c[Ji])return O;c=Jv(c)}return h}c=O,O=c.parentNode}return null}function hl(c){return c=c[Ji]||c[En],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Do(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function uh(c){return c[cl]||null}var Mf=[],Io=-1;function as(c){return{current:c}}function Zt(c){0>Io||(c.current=Mf[Io],Mf[Io]=null,Io--)}function qt(c,h){Io++,Mf[Io]=c.current,c.current=h}var ls={},$r=as(ls),Vr=as(!1),Fs=ls;function Bo(c,h){var O=c.type.contextTypes;if(!O)return ls;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var Q={},j;for(j in O)Q[j]=h[j];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=Q),Q}function Ur(c){return c=c.childContextTypes,c!=null}function dh(){Zt(Vr),Zt($r)}function ex(c,h,O){if($r.current!==ls)throw Error(t(168));qt($r,h),qt(Vr,O)}function tx(c,h,O){var w=c.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return O;w=w.getChildContext();for(var Q in w)if(!(Q in h))throw Error(t(108,B(c)||"Unknown",Q));return M({},O,w)}function fh(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ls,Fs=$r.current,qt($r,c),qt(Vr,Vr.current),!0}function rx(c,h,O){var w=c.stateNode;if(!w)throw Error(t(169));O?(c=tx(c,h,Fs),w.__reactInternalMemoizedMergedChildContext=c,Zt(Vr),Zt($r),qt($r,c)):Zt(Vr),qt(Vr,O)}var Qn=null,ph=!1,jf=!1;function ix(c){Qn===null?Qn=[c]:Qn.push(c)}function fE(c){ph=!0,ix(c)}function cs(){if(!jf&&Qn!==null){jf=!0;var c=0,h=At;try{var O=Qn;for(At=1;c<O.length;c++){var w=O[c];do w=w(!0);while(w!==null)}Qn=null,ph=!1}catch(Q){throw Qn!==null&&(Qn=Qn.slice(c+1)),Zc(Ue,cs),Q}finally{At=h,jf=!1}}return null}var zo=[],qo=0,mh=null,gh=0,yi=[],bi=0,Zs=null,Rn=1,$n="";function Vs(c,h){zo[qo++]=gh,zo[qo++]=mh,mh=c,gh=h}function nx(c,h,O){yi[bi++]=Rn,yi[bi++]=$n,yi[bi++]=Zs,Zs=c;var w=Rn;c=$n;var Q=32-Di(w)-1;w&=~(1<<Q),O+=1;var j=32-Di(h)+Q;if(30<j){var X=Q-Q%5;j=(w&(1<<X)-1).toString(32),w>>=X,Q-=X,Rn=1<<32-Di(h)+Q|O<<Q|w,$n=j+c}else Rn=1<<j|O<<Q|w,$n=c}function Nf(c){c.return!==null&&(Vs(c,1),nx(c,1,0))}function Df(c){for(;c===mh;)mh=zo[--qo],zo[qo]=null,gh=zo[--qo],zo[qo]=null;for(;c===Zs;)Zs=yi[--bi],yi[bi]=null,$n=yi[--bi],yi[bi]=null,Rn=yi[--bi],yi[bi]=null}var ci=null,hi=null,Ht=!1,Bi=null;function sx(c,h){var O=ki(5,null,null,0);O.elementType="DELETED",O.stateNode=h,O.return=c,h=c.deletions,h===null?(c.deletions=[O],c.flags|=16):h.push(O)}function ox(c,h){switch(c.tag){case 5:var O=c.type;return h=h.nodeType!==1||O.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,ci=c,hi=os(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,ci=c,hi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(O=Zs!==null?{id:Rn,overflow:$n}:null,c.memoizedState={dehydrated:h,treeContext:O,retryLane:1073741824},O=ki(18,null,null,0),O.stateNode=h,O.return=c,c.child=O,ci=c,hi=null,!0):!1;default:return!1}}function If(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Bf(c){if(Ht){var h=hi;if(h){var O=h;if(!ox(c,h)){if(If(c))throw Error(t(418));h=os(O.nextSibling);var w=ci;h&&ox(c,h)?sx(w,O):(c.flags=c.flags&-4097|2,Ht=!1,ci=c)}}else{if(If(c))throw Error(t(418));c.flags=c.flags&-4097|2,Ht=!1,ci=c}}}function ax(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ci=c}function Oh(c){if(c!==ci)return!1;if(!Ht)return ax(c),Ht=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!Rf(c.type,c.memoizedProps)),h&&(h=hi)){if(If(c))throw lx(),Error(t(418));for(;h;)sx(c,h),h=os(h.nextSibling)}if(ax(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var O=c.data;if(O==="/$"){if(h===0){hi=os(c.nextSibling);break e}h--}else O!=="$"&&O!=="$!"&&O!=="$?"||h++}c=c.nextSibling}hi=null}}else hi=ci?os(c.stateNode.nextSibling):null;return!0}function lx(){for(var c=hi;c;)c=os(c.nextSibling)}function Xo(){hi=ci=null,Ht=!1}function zf(c){Bi===null?Bi=[c]:Bi.push(c)}var pE=P.ReactCurrentBatchConfig;function ul(c,h,O){if(c=O.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(t(309));var w=O.stateNode}if(!w)throw Error(t(147,c));var Q=w,j=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===j?h.ref:(h=function(X){var J=Q.refs;X===null?delete J[j]:J[j]=X},h._stringRef=j,h)}if(typeof c!="string")throw Error(t(284));if(!O._owner)throw Error(t(290,c))}return c}function vh(c,h){throw c=Object.prototype.toString.call(h),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function cx(c){var h=c._init;return h(c._payload)}function hx(c){function h(ce,ne){if(c){var ue=ce.deletions;ue===null?(ce.deletions=[ne],ce.flags|=16):ue.push(ne)}}function O(ce,ne){if(!c)return null;for(;ne!==null;)h(ce,ne),ne=ne.sibling;return null}function w(ce,ne){for(ce=new Map;ne!==null;)ne.key!==null?ce.set(ne.key,ne):ce.set(ne.index,ne),ne=ne.sibling;return ce}function Q(ce,ne){return ce=Os(ce,ne),ce.index=0,ce.sibling=null,ce}function j(ce,ne,ue){return ce.index=ue,c?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<ne?(ce.flags|=2,ne):ue):(ce.flags|=2,ne)):(ce.flags|=1048576,ne)}function X(ce){return c&&ce.alternate===null&&(ce.flags|=2),ce}function J(ce,ne,ue,Ae){return ne===null||ne.tag!==6?(ne=$p(ue,ce.mode,Ae),ne.return=ce,ne):(ne=Q(ne,ue),ne.return=ce,ne)}function re(ce,ne,ue,Ae){var rt=ue.type;return rt===R?Ce(ce,ne,ue.props.children,Ae,ue.key):ne!==null&&(ne.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&cx(rt)===ne.type)?(Ae=Q(ne,ue.props),Ae.ref=ul(ce,ne,ue),Ae.return=ce,Ae):(Ae=qh(ue.type,ue.key,ue.props,null,ce.mode,Ae),Ae.ref=ul(ce,ne,ue),Ae.return=ce,Ae)}function fe(ce,ne,ue,Ae){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=Ap(ue,ce.mode,Ae),ne.return=ce,ne):(ne=Q(ne,ue.children||[]),ne.return=ce,ne)}function Ce(ce,ne,ue,Ae,rt){return ne===null||ne.tag!==7?(ne=to(ue,ce.mode,Ae,rt),ne.return=ce,ne):(ne=Q(ne,ue),ne.return=ce,ne)}function Te(ce,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=$p(""+ne,ce.mode,ue),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return ue=qh(ne.type,ne.key,ne.props,null,ce.mode,ue),ue.ref=ul(ce,null,ne),ue.return=ce,ue;case C:return ne=Ap(ne,ce.mode,ue),ne.return=ce,ne;case K:var Ae=ne._init;return Te(ce,Ae(ne._payload),ue)}if(Be(ne)||z(ne))return ne=to(ne,ce.mode,ue,null),ne.return=ce,ne;vh(ce,ne)}return null}function ke(ce,ne,ue,Ae){var rt=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return rt!==null?null:J(ce,ne,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:return ue.key===rt?re(ce,ne,ue,Ae):null;case C:return ue.key===rt?fe(ce,ne,ue,Ae):null;case K:return rt=ue._init,ke(ce,ne,rt(ue._payload),Ae)}if(Be(ue)||z(ue))return rt!==null?null:Ce(ce,ne,ue,Ae,null);vh(ce,ue)}return null}function Fe(ce,ne,ue,Ae,rt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ce=ce.get(ue)||null,J(ne,ce,""+Ae,rt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:return ce=ce.get(Ae.key===null?ue:Ae.key)||null,re(ne,ce,Ae,rt);case C:return ce=ce.get(Ae.key===null?ue:Ae.key)||null,fe(ne,ce,Ae,rt);case K:var at=Ae._init;return Fe(ce,ne,ue,at(Ae._payload),rt)}if(Be(Ae)||z(Ae))return ce=ce.get(ue)||null,Ce(ne,ce,Ae,rt,null);vh(ne,Ae)}return null}function Ge(ce,ne,ue,Ae){for(var rt=null,at=null,lt=ne,ut=ne=0,yr=null;lt!==null&&ut<ue.length;ut++){lt.index>ut?(yr=lt,lt=null):yr=lt.sibling;var Tt=ke(ce,lt,ue[ut],Ae);if(Tt===null){lt===null&&(lt=yr);break}c&&lt&&Tt.alternate===null&&h(ce,lt),ne=j(Tt,ne,ut),at===null?rt=Tt:at.sibling=Tt,at=Tt,lt=yr}if(ut===ue.length)return O(ce,lt),Ht&&Vs(ce,ut),rt;if(lt===null){for(;ut<ue.length;ut++)lt=Te(ce,ue[ut],Ae),lt!==null&&(ne=j(lt,ne,ut),at===null?rt=lt:at.sibling=lt,at=lt);return Ht&&Vs(ce,ut),rt}for(lt=w(ce,lt);ut<ue.length;ut++)yr=Fe(lt,ce,ut,ue[ut],Ae),yr!==null&&(c&&yr.alternate!==null&&lt.delete(yr.key===null?ut:yr.key),ne=j(yr,ne,ut),at===null?rt=yr:at.sibling=yr,at=yr);return c&&lt.forEach(function(vs){return h(ce,vs)}),Ht&&Vs(ce,ut),rt}function tt(ce,ne,ue,Ae){var rt=z(ue);if(typeof rt!="function")throw Error(t(150));if(ue=rt.call(ue),ue==null)throw Error(t(151));for(var at=rt=null,lt=ne,ut=ne=0,yr=null,Tt=ue.next();lt!==null&&!Tt.done;ut++,Tt=ue.next()){lt.index>ut?(yr=lt,lt=null):yr=lt.sibling;var vs=ke(ce,lt,Tt.value,Ae);if(vs===null){lt===null&&(lt=yr);break}c&&lt&&vs.alternate===null&&h(ce,lt),ne=j(vs,ne,ut),at===null?rt=vs:at.sibling=vs,at=vs,lt=yr}if(Tt.done)return O(ce,lt),Ht&&Vs(ce,ut),rt;if(lt===null){for(;!Tt.done;ut++,Tt=ue.next())Tt=Te(ce,Tt.value,Ae),Tt!==null&&(ne=j(Tt,ne,ut),at===null?rt=Tt:at.sibling=Tt,at=Tt);return Ht&&Vs(ce,ut),rt}for(lt=w(ce,lt);!Tt.done;ut++,Tt=ue.next())Tt=Fe(lt,ce,ut,Tt.value,Ae),Tt!==null&&(c&&Tt.alternate!==null&&lt.delete(Tt.key===null?ut:Tt.key),ne=j(Tt,ne,ut),at===null?rt=Tt:at.sibling=Tt,at=Tt);return c&&lt.forEach(function(VE){return h(ce,VE)}),Ht&&Vs(ce,ut),rt}function ir(ce,ne,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===R&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:e:{for(var rt=ue.key,at=ne;at!==null;){if(at.key===rt){if(rt=ue.type,rt===R){if(at.tag===7){O(ce,at.sibling),ne=Q(at,ue.props.children),ne.return=ce,ce=ne;break e}}else if(at.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&cx(rt)===at.type){O(ce,at.sibling),ne=Q(at,ue.props),ne.ref=ul(ce,at,ue),ne.return=ce,ce=ne;break e}O(ce,at);break}else h(ce,at);at=at.sibling}ue.type===R?(ne=to(ue.props.children,ce.mode,Ae,ue.key),ne.return=ce,ce=ne):(Ae=qh(ue.type,ue.key,ue.props,null,ce.mode,Ae),Ae.ref=ul(ce,ne,ue),Ae.return=ce,ce=Ae)}return X(ce);case C:e:{for(at=ue.key;ne!==null;){if(ne.key===at)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){O(ce,ne.sibling),ne=Q(ne,ue.children||[]),ne.return=ce,ce=ne;break e}else{O(ce,ne);break}else h(ce,ne);ne=ne.sibling}ne=Ap(ue,ce.mode,Ae),ne.return=ce,ce=ne}return X(ce);case K:return at=ue._init,ir(ce,ne,at(ue._payload),Ae)}if(Be(ue))return Ge(ce,ne,ue,Ae);if(z(ue))return tt(ce,ne,ue,Ae);vh(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(O(ce,ne.sibling),ne=Q(ne,ue),ne.return=ce,ce=ne):(O(ce,ne),ne=$p(ue,ce.mode,Ae),ne.return=ce,ce=ne),X(ce)):O(ce,ne)}return ir}var Wo=hx(!0),ux=hx(!1),xh=as(null),yh=null,Fo=null,qf=null;function Xf(){qf=Fo=yh=null}function Wf(c){var h=xh.current;Zt(xh),c._currentValue=h}function Ff(c,h,O){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===O)break;c=c.return}}function Zo(c,h){yh=c,qf=Fo=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(Hr=!0),c.firstContext=null)}function _i(c){var h=c._currentValue;if(qf!==c)if(c={context:c,memoizedValue:h,next:null},Fo===null){if(yh===null)throw Error(t(308));Fo=c,yh.dependencies={lanes:0,firstContext:c}}else Fo=Fo.next=c;return h}var Us=null;function Zf(c){Us===null?Us=[c]:Us.push(c)}function dx(c,h,O,w){var Q=h.interleaved;return Q===null?(O.next=O,Zf(h)):(O.next=Q.next,Q.next=O),h.interleaved=O,An(c,w)}function An(c,h){c.lanes|=h;var O=c.alternate;for(O!==null&&(O.lanes|=h),O=c,c=c.return;c!==null;)c.childLanes|=h,O=c.alternate,O!==null&&(O.childLanes|=h),O=c,c=c.return;return O.tag===3?O.stateNode:null}var hs=!1;function Vf(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ln(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function us(c,h,O){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(kt&2)!==0){var Q=w.pending;return Q===null?h.next=h:(h.next=Q.next,Q.next=h),w.pending=h,An(c,O)}return Q=w.interleaved,Q===null?(h.next=h,Zf(w)):(h.next=Q.next,Q.next=h),w.interleaved=h,An(c,O)}function bh(c,h,O){if(h=h.updateQueue,h!==null&&(h=h.shared,(O&4194240)!==0)){var w=h.lanes;w&=c.pendingLanes,O|=w,h.lanes=O,af(c,O)}}function px(c,h){var O=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,O===w)){var Q=null,j=null;if(O=O.firstBaseUpdate,O!==null){do{var X={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};j===null?Q=j=X:j=j.next=X,O=O.next}while(O!==null);j===null?Q=j=h:j=j.next=h}else Q=j=h;O={baseState:w.baseState,firstBaseUpdate:Q,lastBaseUpdate:j,shared:w.shared,effects:w.effects},c.updateQueue=O;return}c=O.lastBaseUpdate,c===null?O.firstBaseUpdate=h:c.next=h,O.lastBaseUpdate=h}function _h(c,h,O,w){var Q=c.updateQueue;hs=!1;var j=Q.firstBaseUpdate,X=Q.lastBaseUpdate,J=Q.shared.pending;if(J!==null){Q.shared.pending=null;var re=J,fe=re.next;re.next=null,X===null?j=fe:X.next=fe,X=re;var Ce=c.alternate;Ce!==null&&(Ce=Ce.updateQueue,J=Ce.lastBaseUpdate,J!==X&&(J===null?Ce.firstBaseUpdate=fe:J.next=fe,Ce.lastBaseUpdate=re))}if(j!==null){var Te=Q.baseState;X=0,Ce=fe=re=null,J=j;do{var ke=J.lane,Fe=J.eventTime;if((w&ke)===ke){Ce!==null&&(Ce=Ce.next={eventTime:Fe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ge=c,tt=J;switch(ke=h,Fe=O,tt.tag){case 1:if(Ge=tt.payload,typeof Ge=="function"){Te=Ge.call(Fe,Te,ke);break e}Te=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=tt.payload,ke=typeof Ge=="function"?Ge.call(Fe,Te,ke):Ge,ke==null)break e;Te=M({},Te,ke);break e;case 2:hs=!0}}J.callback!==null&&J.lane!==0&&(c.flags|=64,ke=Q.effects,ke===null?Q.effects=[J]:ke.push(J))}else Fe={eventTime:Fe,lane:ke,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ce===null?(fe=Ce=Fe,re=Te):Ce=Ce.next=Fe,X|=ke;if(J=J.next,J===null){if(J=Q.shared.pending,J===null)break;ke=J,J=ke.next,ke.next=null,Q.lastBaseUpdate=ke,Q.shared.pending=null}}while(!0);if(Ce===null&&(re=Te),Q.baseState=re,Q.firstBaseUpdate=fe,Q.lastBaseUpdate=Ce,h=Q.shared.interleaved,h!==null){Q=h;do X|=Q.lane,Q=Q.next;while(Q!==h)}else j===null&&(Q.shared.lanes=0);Gs|=X,c.lanes=X,c.memoizedState=Te}}function mx(c,h,O){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var w=c[h],Q=w.callback;if(Q!==null){if(w.callback=null,w=O,typeof Q!="function")throw Error(t(191,Q));Q.call(w)}}}var dl={},en=as(dl),fl=as(dl),pl=as(dl);function Hs(c){if(c===dl)throw Error(t(174));return c}function Uf(c,h){switch(qt(pl,h),qt(fl,c),qt(en,dl),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:xe(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=xe(h,c)}Zt(en),qt(en,h)}function Vo(){Zt(en),Zt(fl),Zt(pl)}function gx(c){Hs(pl.current);var h=Hs(en.current),O=xe(h,c.type);h!==O&&(qt(fl,c),qt(en,O))}function Hf(c){fl.current===c&&(Zt(en),Zt(fl))}var Gt=as(0);function Sh(c){for(var h=c;h!==null;){if(h.tag===13){var O=h.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Yf=[];function Gf(){for(var c=0;c<Yf.length;c++)Yf[c]._workInProgressVersionPrimary=null;Yf.length=0}var wh=P.ReactCurrentDispatcher,Kf=P.ReactCurrentBatchConfig,Ys=0,Kt=null,hr=null,vr=null,kh=!1,ml=!1,gl=0,mE=0;function Ar(){throw Error(t(321))}function Jf(c,h){if(h===null)return!1;for(var O=0;O<h.length&&O<c.length;O++)if(!Ii(c[O],h[O]))return!1;return!0}function ep(c,h,O,w,Q,j){if(Ys=j,Kt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,wh.current=c===null||c.memoizedState===null?xE:yE,c=O(w,Q),ml){j=0;do{if(ml=!1,gl=0,25<=j)throw Error(t(301));j+=1,vr=hr=null,h.updateQueue=null,wh.current=bE,c=O(w,Q)}while(ml)}if(wh.current=Th,h=hr!==null&&hr.next!==null,Ys=0,vr=hr=Kt=null,kh=!1,h)throw Error(t(300));return c}function tp(){var c=gl!==0;return gl=0,c}function tn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Kt.memoizedState=vr=c:vr=vr.next=c,vr}function Si(){if(hr===null){var c=Kt.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var h=vr===null?Kt.memoizedState:vr.next;if(h!==null)vr=h,hr=c;else{if(c===null)throw Error(t(310));hr=c,c={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},vr===null?Kt.memoizedState=vr=c:vr=vr.next=c}return vr}function Ol(c,h){return typeof h=="function"?h(c):h}function rp(c){var h=Si(),O=h.queue;if(O===null)throw Error(t(311));O.lastRenderedReducer=c;var w=hr,Q=w.baseQueue,j=O.pending;if(j!==null){if(Q!==null){var X=Q.next;Q.next=j.next,j.next=X}w.baseQueue=Q=j,O.pending=null}if(Q!==null){j=Q.next,w=w.baseState;var J=X=null,re=null,fe=j;do{var Ce=fe.lane;if((Ys&Ce)===Ce)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),w=fe.hasEagerState?fe.eagerState:c(w,fe.action);else{var Te={lane:Ce,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?(J=re=Te,X=w):re=re.next=Te,Kt.lanes|=Ce,Gs|=Ce}fe=fe.next}while(fe!==null&&fe!==j);re===null?X=w:re.next=J,Ii(w,h.memoizedState)||(Hr=!0),h.memoizedState=w,h.baseState=X,h.baseQueue=re,O.lastRenderedState=w}if(c=O.interleaved,c!==null){Q=c;do j=Q.lane,Kt.lanes|=j,Gs|=j,Q=Q.next;while(Q!==c)}else Q===null&&(O.lanes=0);return[h.memoizedState,O.dispatch]}function ip(c){var h=Si(),O=h.queue;if(O===null)throw Error(t(311));O.lastRenderedReducer=c;var w=O.dispatch,Q=O.pending,j=h.memoizedState;if(Q!==null){O.pending=null;var X=Q=Q.next;do j=c(j,X.action),X=X.next;while(X!==Q);Ii(j,h.memoizedState)||(Hr=!0),h.memoizedState=j,h.baseQueue===null&&(h.baseState=j),O.lastRenderedState=j}return[j,w]}function Ox(){}function vx(c,h){var O=Kt,w=Si(),Q=h(),j=!Ii(w.memoizedState,Q);if(j&&(w.memoizedState=Q,Hr=!0),w=w.queue,np(bx.bind(null,O,w,c),[c]),w.getSnapshot!==h||j||vr!==null&&vr.memoizedState.tag&1){if(O.flags|=2048,vl(9,yx.bind(null,O,w,Q,h),void 0,null),xr===null)throw Error(t(349));(Ys&30)!==0||xx(O,h,Q)}return Q}function xx(c,h,O){c.flags|=16384,c={getSnapshot:h,value:O},h=Kt.updateQueue,h===null?(h={lastEffect:null,stores:null},Kt.updateQueue=h,h.stores=[c]):(O=h.stores,O===null?h.stores=[c]:O.push(c))}function yx(c,h,O,w){h.value=O,h.getSnapshot=w,_x(h)&&Sx(c)}function bx(c,h,O){return O(function(){_x(h)&&Sx(c)})}function _x(c){var h=c.getSnapshot;c=c.value;try{var O=h();return!Ii(c,O)}catch{return!0}}function Sx(c){var h=An(c,1);h!==null&&Wi(h,c,1,-1)}function wx(c){var h=tn();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:c},h.queue=c,c=c.dispatch=vE.bind(null,Kt,c),[h.memoizedState,c]}function vl(c,h,O,w){return c={tag:c,create:h,destroy:O,deps:w,next:null},h=Kt.updateQueue,h===null?(h={lastEffect:null,stores:null},Kt.updateQueue=h,h.lastEffect=c.next=c):(O=h.lastEffect,O===null?h.lastEffect=c.next=c:(w=O.next,O.next=c,c.next=w,h.lastEffect=c)),c}function kx(){return Si().memoizedState}function Ch(c,h,O,w){var Q=tn();Kt.flags|=c,Q.memoizedState=vl(1|h,O,void 0,w===void 0?null:w)}function Ph(c,h,O,w){var Q=Si();w=w===void 0?null:w;var j=void 0;if(hr!==null){var X=hr.memoizedState;if(j=X.destroy,w!==null&&Jf(w,X.deps)){Q.memoizedState=vl(h,O,j,w);return}}Kt.flags|=c,Q.memoizedState=vl(1|h,O,j,w)}function Cx(c,h){return Ch(8390656,8,c,h)}function np(c,h){return Ph(2048,8,c,h)}function Px(c,h){return Ph(4,2,c,h)}function Tx(c,h){return Ph(4,4,c,h)}function Ex(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Qx(c,h,O){return O=O!=null?O.concat([c]):null,Ph(4,4,Ex.bind(null,h,c),O)}function sp(){}function Rx(c,h){var O=Si();h=h===void 0?null:h;var w=O.memoizedState;return w!==null&&h!==null&&Jf(h,w[1])?w[0]:(O.memoizedState=[c,h],c)}function $x(c,h){var O=Si();h=h===void 0?null:h;var w=O.memoizedState;return w!==null&&h!==null&&Jf(h,w[1])?w[0]:(c=c(),O.memoizedState=[c,h],c)}function Ax(c,h,O){return(Ys&21)===0?(c.baseState&&(c.baseState=!1,Hr=!0),c.memoizedState=O):(Ii(O,h)||(O=cv(),Kt.lanes|=O,Gs|=O,c.baseState=!0),h)}function gE(c,h){var O=At;At=O!==0&&4>O?O:4,c(!0);var w=Kf.transition;Kf.transition={};try{c(!1),h()}finally{At=O,Kf.transition=w}}function Lx(){return Si().memoizedState}function OE(c,h,O){var w=ms(c);if(O={lane:w,action:O,hasEagerState:!1,eagerState:null,next:null},Mx(c))jx(h,O);else if(O=dx(c,h,O,w),O!==null){var Q=Xr();Wi(O,c,w,Q),Nx(O,h,w)}}function vE(c,h,O){var w=ms(c),Q={lane:w,action:O,hasEagerState:!1,eagerState:null,next:null};if(Mx(c))jx(h,Q);else{var j=c.alternate;if(c.lanes===0&&(j===null||j.lanes===0)&&(j=h.lastRenderedReducer,j!==null))try{var X=h.lastRenderedState,J=j(X,O);if(Q.hasEagerState=!0,Q.eagerState=J,Ii(J,X)){var re=h.interleaved;re===null?(Q.next=Q,Zf(h)):(Q.next=re.next,re.next=Q),h.interleaved=Q;return}}catch{}finally{}O=dx(c,h,Q,w),O!==null&&(Q=Xr(),Wi(O,c,w,Q),Nx(O,h,w))}}function Mx(c){var h=c.alternate;return c===Kt||h!==null&&h===Kt}function jx(c,h){ml=kh=!0;var O=c.pending;O===null?h.next=h:(h.next=O.next,O.next=h),c.pending=h}function Nx(c,h,O){if((O&4194240)!==0){var w=h.lanes;w&=c.pendingLanes,O|=w,h.lanes=O,af(c,O)}}var Th={readContext:_i,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},xE={readContext:_i,useCallback:function(c,h){return tn().memoizedState=[c,h===void 0?null:h],c},useContext:_i,useEffect:Cx,useImperativeHandle:function(c,h,O){return O=O!=null?O.concat([c]):null,Ch(4194308,4,Ex.bind(null,h,c),O)},useLayoutEffect:function(c,h){return Ch(4194308,4,c,h)},useInsertionEffect:function(c,h){return Ch(4,2,c,h)},useMemo:function(c,h){var O=tn();return h=h===void 0?null:h,c=c(),O.memoizedState=[c,h],c},useReducer:function(c,h,O){var w=tn();return h=O!==void 0?O(h):h,w.memoizedState=w.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},w.queue=c,c=c.dispatch=OE.bind(null,Kt,c),[w.memoizedState,c]},useRef:function(c){var h=tn();return c={current:c},h.memoizedState=c},useState:wx,useDebugValue:sp,useDeferredValue:function(c){return tn().memoizedState=c},useTransition:function(){var c=wx(!1),h=c[0];return c=gE.bind(null,c[1]),tn().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,O){var w=Kt,Q=tn();if(Ht){if(O===void 0)throw Error(t(407));O=O()}else{if(O=h(),xr===null)throw Error(t(349));(Ys&30)!==0||xx(w,h,O)}Q.memoizedState=O;var j={value:O,getSnapshot:h};return Q.queue=j,Cx(bx.bind(null,w,j,c),[c]),w.flags|=2048,vl(9,yx.bind(null,w,j,O,h),void 0,null),O},useId:function(){var c=tn(),h=xr.identifierPrefix;if(Ht){var O=$n,w=Rn;O=(w&~(1<<32-Di(w)-1)).toString(32)+O,h=":"+h+"R"+O,O=gl++,0<O&&(h+="H"+O.toString(32)),h+=":"}else O=mE++,h=":"+h+"r"+O.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},yE={readContext:_i,useCallback:Rx,useContext:_i,useEffect:np,useImperativeHandle:Qx,useInsertionEffect:Px,useLayoutEffect:Tx,useMemo:$x,useReducer:rp,useRef:kx,useState:function(){return rp(Ol)},useDebugValue:sp,useDeferredValue:function(c){var h=Si();return Ax(h,hr.memoizedState,c)},useTransition:function(){var c=rp(Ol)[0],h=Si().memoizedState;return[c,h]},useMutableSource:Ox,useSyncExternalStore:vx,useId:Lx,unstable_isNewReconciler:!1},bE={readContext:_i,useCallback:Rx,useContext:_i,useEffect:np,useImperativeHandle:Qx,useInsertionEffect:Px,useLayoutEffect:Tx,useMemo:$x,useReducer:ip,useRef:kx,useState:function(){return ip(Ol)},useDebugValue:sp,useDeferredValue:function(c){var h=Si();return hr===null?h.memoizedState=c:Ax(h,hr.memoizedState,c)},useTransition:function(){var c=ip(Ol)[0],h=Si().memoizedState;return[c,h]},useMutableSource:Ox,useSyncExternalStore:vx,useId:Lx,unstable_isNewReconciler:!1};function zi(c,h){if(c&&c.defaultProps){h=M({},h),c=c.defaultProps;for(var O in c)h[O]===void 0&&(h[O]=c[O]);return h}return h}function op(c,h,O,w){h=c.memoizedState,O=O(w,h),O=O==null?h:M({},h,O),c.memoizedState=O,c.lanes===0&&(c.updateQueue.baseState=O)}var Eh={isMounted:function(c){return(c=c._reactInternals)?ai(c)===c:!1},enqueueSetState:function(c,h,O){c=c._reactInternals;var w=Xr(),Q=ms(c),j=Ln(w,Q);j.payload=h,O!=null&&(j.callback=O),h=us(c,j,Q),h!==null&&(Wi(h,c,Q,w),bh(h,c,Q))},enqueueReplaceState:function(c,h,O){c=c._reactInternals;var w=Xr(),Q=ms(c),j=Ln(w,Q);j.tag=1,j.payload=h,O!=null&&(j.callback=O),h=us(c,j,Q),h!==null&&(Wi(h,c,Q,w),bh(h,c,Q))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var O=Xr(),w=ms(c),Q=Ln(O,w);Q.tag=2,h!=null&&(Q.callback=h),h=us(c,Q,w),h!==null&&(Wi(h,c,w,O),bh(h,c,w))}};function Dx(c,h,O,w,Q,j,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,j,X):h.prototype&&h.prototype.isPureReactComponent?!nl(O,w)||!nl(Q,j):!0}function Ix(c,h,O){var w=!1,Q=ls,j=h.contextType;return typeof j=="object"&&j!==null?j=_i(j):(Q=Ur(h)?Fs:$r.current,w=h.contextTypes,j=(w=w!=null)?Bo(c,Q):ls),h=new h(O,j),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Eh,c.stateNode=h,h._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=Q,c.__reactInternalMemoizedMaskedChildContext=j),h}function Bx(c,h,O,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(O,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(O,w),h.state!==c&&Eh.enqueueReplaceState(h,h.state,null)}function ap(c,h,O,w){var Q=c.stateNode;Q.props=O,Q.state=c.memoizedState,Q.refs={},Vf(c);var j=h.contextType;typeof j=="object"&&j!==null?Q.context=_i(j):(j=Ur(h)?Fs:$r.current,Q.context=Bo(c,j)),Q.state=c.memoizedState,j=h.getDerivedStateFromProps,typeof j=="function"&&(op(c,h,j,O),Q.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(h=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),h!==Q.state&&Eh.enqueueReplaceState(Q,Q.state,null),_h(c,O,Q,w),Q.state=c.memoizedState),typeof Q.componentDidMount=="function"&&(c.flags|=4194308)}function Uo(c,h){try{var O="",w=h;do O+=le(w),w=w.return;while(w);var Q=O}catch(j){Q=`
Error generating stack: `+j.message+`
`+j.stack}return{value:c,source:h,stack:Q,digest:null}}function lp(c,h,O){return{value:c,source:null,stack:O??null,digest:h??null}}function cp(c,h){try{console.error(h.value)}catch(O){setTimeout(function(){throw O})}}var _E=typeof WeakMap=="function"?WeakMap:Map;function zx(c,h,O){O=Ln(-1,O),O.tag=3,O.payload={element:null};var w=h.value;return O.callback=function(){jh||(jh=!0,wp=w),cp(c,h)},O}function qx(c,h,O){O=Ln(-1,O),O.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var Q=h.value;O.payload=function(){return w(Q)},O.callback=function(){cp(c,h)}}var j=c.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(O.callback=function(){cp(c,h),typeof w!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),O}function Xx(c,h,O){var w=c.pingCache;if(w===null){w=c.pingCache=new _E;var Q=new Set;w.set(h,Q)}else Q=w.get(h),Q===void 0&&(Q=new Set,w.set(h,Q));Q.has(O)||(Q.add(O),c=jE.bind(null,c,h,O),h.then(c,c))}function Wx(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function Fx(c,h,O,w,Q){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(h=Ln(-1,1),h.tag=2,us(O,h,1))),O.lanes|=1),c):(c.flags|=65536,c.lanes=Q,c)}var SE=P.ReactCurrentOwner,Hr=!1;function qr(c,h,O,w){h.child=c===null?ux(h,null,O,w):Wo(h,c.child,O,w)}function Zx(c,h,O,w,Q){O=O.render;var j=h.ref;return Zo(h,Q),w=ep(c,h,O,w,j,Q),O=tp(),c!==null&&!Hr?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~Q,Mn(c,h,Q)):(Ht&&O&&Nf(h),h.flags|=1,qr(c,h,w,Q),h.child)}function Vx(c,h,O,w,Q){if(c===null){var j=O.type;return typeof j=="function"&&!Rp(j)&&j.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(h.tag=15,h.type=j,Ux(c,h,j,w,Q)):(c=qh(O.type,null,w,h,h.mode,Q),c.ref=h.ref,c.return=h,h.child=c)}if(j=c.child,(c.lanes&Q)===0){var X=j.memoizedProps;if(O=O.compare,O=O!==null?O:nl,O(X,w)&&c.ref===h.ref)return Mn(c,h,Q)}return h.flags|=1,c=Os(j,w),c.ref=h.ref,c.return=h,h.child=c}function Ux(c,h,O,w,Q){if(c!==null){var j=c.memoizedProps;if(nl(j,w)&&c.ref===h.ref)if(Hr=!1,h.pendingProps=w=j,(c.lanes&Q)!==0)(c.flags&131072)!==0&&(Hr=!0);else return h.lanes=c.lanes,Mn(c,h,Q)}return hp(c,h,O,w,Q)}function Hx(c,h,O){var w=h.pendingProps,Q=w.children,j=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Yo,ui),ui|=O;else{if((O&1073741824)===0)return c=j!==null?j.baseLanes|O:O,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,qt(Yo,ui),ui|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:O,qt(Yo,ui),ui|=w}else j!==null?(w=j.baseLanes|O,h.memoizedState=null):w=O,qt(Yo,ui),ui|=w;return qr(c,h,Q,O),h.child}function Yx(c,h){var O=h.ref;(c===null&&O!==null||c!==null&&c.ref!==O)&&(h.flags|=512,h.flags|=2097152)}function hp(c,h,O,w,Q){var j=Ur(O)?Fs:$r.current;return j=Bo(h,j),Zo(h,Q),O=ep(c,h,O,w,j,Q),w=tp(),c!==null&&!Hr?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~Q,Mn(c,h,Q)):(Ht&&w&&Nf(h),h.flags|=1,qr(c,h,O,Q),h.child)}function Gx(c,h,O,w,Q){if(Ur(O)){var j=!0;fh(h)}else j=!1;if(Zo(h,Q),h.stateNode===null)Rh(c,h),Ix(h,O,w),ap(h,O,w,Q),w=!0;else if(c===null){var X=h.stateNode,J=h.memoizedProps;X.props=J;var re=X.context,fe=O.contextType;typeof fe=="object"&&fe!==null?fe=_i(fe):(fe=Ur(O)?Fs:$r.current,fe=Bo(h,fe));var Ce=O.getDerivedStateFromProps,Te=typeof Ce=="function"||typeof X.getSnapshotBeforeUpdate=="function";Te||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(J!==w||re!==fe)&&Bx(h,X,w,fe),hs=!1;var ke=h.memoizedState;X.state=ke,_h(h,w,X,Q),re=h.memoizedState,J!==w||ke!==re||Vr.current||hs?(typeof Ce=="function"&&(op(h,O,Ce,w),re=h.memoizedState),(J=hs||Dx(h,O,J,w,ke,re,fe))?(Te||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=re),X.props=w,X.state=re,X.context=fe,w=J):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{X=h.stateNode,fx(c,h),J=h.memoizedProps,fe=h.type===h.elementType?J:zi(h.type,J),X.props=fe,Te=h.pendingProps,ke=X.context,re=O.contextType,typeof re=="object"&&re!==null?re=_i(re):(re=Ur(O)?Fs:$r.current,re=Bo(h,re));var Fe=O.getDerivedStateFromProps;(Ce=typeof Fe=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(J!==Te||ke!==re)&&Bx(h,X,w,re),hs=!1,ke=h.memoizedState,X.state=ke,_h(h,w,X,Q);var Ge=h.memoizedState;J!==Te||ke!==Ge||Vr.current||hs?(typeof Fe=="function"&&(op(h,O,Fe,w),Ge=h.memoizedState),(fe=hs||Dx(h,O,fe,w,ke,Ge,re)||!1)?(Ce||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(w,Ge,re),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(w,Ge,re)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||J===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ge),X.props=w,X.state=Ge,X.context=re,w=fe):(typeof X.componentDidUpdate!="function"||J===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),w=!1)}return up(c,h,O,w,j,Q)}function up(c,h,O,w,Q,j){Yx(c,h);var X=(h.flags&128)!==0;if(!w&&!X)return Q&&rx(h,O,!1),Mn(c,h,j);w=h.stateNode,SE.current=h;var J=X&&typeof O.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,c!==null&&X?(h.child=Wo(h,c.child,null,j),h.child=Wo(h,null,J,j)):qr(c,h,J,j),h.memoizedState=w.state,Q&&rx(h,O,!0),h.child}function Kx(c){var h=c.stateNode;h.pendingContext?ex(c,h.pendingContext,h.pendingContext!==h.context):h.context&&ex(c,h.context,!1),Uf(c,h.containerInfo)}function Jx(c,h,O,w,Q){return Xo(),zf(Q),h.flags|=256,qr(c,h,O,w),h.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function fp(c){return{baseLanes:c,cachePool:null,transitions:null}}function ey(c,h,O){var w=h.pendingProps,Q=Gt.current,j=!1,X=(h.flags&128)!==0,J;if((J=X)||(J=c!==null&&c.memoizedState===null?!1:(Q&2)!==0),J?(j=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(Q|=1),qt(Gt,Q&1),c===null)return Bf(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=w.children,c=w.fallback,j?(w=h.mode,j=h.child,X={mode:"hidden",children:X},(w&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=X):j=Xh(X,w,0,null),c=to(c,w,O,null),j.return=h,c.return=h,j.sibling=c,h.child=j,h.child.memoizedState=fp(O),h.memoizedState=dp,c):pp(h,X));if(Q=c.memoizedState,Q!==null&&(J=Q.dehydrated,J!==null))return wE(c,h,X,w,J,Q,O);if(j){j=w.fallback,X=h.mode,Q=c.child,J=Q.sibling;var re={mode:"hidden",children:w.children};return(X&1)===0&&h.child!==Q?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=Os(Q,re),w.subtreeFlags=Q.subtreeFlags&14680064),J!==null?j=Os(J,j):(j=to(j,X,O,null),j.flags|=2),j.return=h,w.return=h,w.sibling=j,h.child=w,w=j,j=h.child,X=c.child.memoizedState,X=X===null?fp(O):{baseLanes:X.baseLanes|O,cachePool:null,transitions:X.transitions},j.memoizedState=X,j.childLanes=c.childLanes&~O,h.memoizedState=dp,w}return j=c.child,c=j.sibling,w=Os(j,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=O),w.return=h,w.sibling=null,c!==null&&(O=h.deletions,O===null?(h.deletions=[c],h.flags|=16):O.push(c)),h.child=w,h.memoizedState=null,w}function pp(c,h){return h=Xh({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Qh(c,h,O,w){return w!==null&&zf(w),Wo(h,c.child,null,O),c=pp(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function wE(c,h,O,w,Q,j,X){if(O)return h.flags&256?(h.flags&=-257,w=lp(Error(t(422))),Qh(c,h,X,w)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(j=w.fallback,Q=h.mode,w=Xh({mode:"visible",children:w.children},Q,0,null),j=to(j,Q,X,null),j.flags|=2,w.return=h,j.return=h,w.sibling=j,h.child=w,(h.mode&1)!==0&&Wo(h,c.child,null,X),h.child.memoizedState=fp(X),h.memoizedState=dp,j);if((h.mode&1)===0)return Qh(c,h,X,null);if(Q.data==="$!"){if(w=Q.nextSibling&&Q.nextSibling.dataset,w)var J=w.dgst;return w=J,j=Error(t(419)),w=lp(j,w,void 0),Qh(c,h,X,w)}if(J=(X&c.childLanes)!==0,Hr||J){if(w=xr,w!==null){switch(X&-X){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(w.suspendedLanes|X))!==0?0:Q,Q!==0&&Q!==j.retryLane&&(j.retryLane=Q,An(c,Q),Wi(w,c,Q,-1))}return Qp(),w=lp(Error(t(421))),Qh(c,h,X,w)}return Q.data==="$?"?(h.flags|=128,h.child=c.child,h=NE.bind(null,c),Q._reactRetry=h,null):(c=j.treeContext,hi=os(Q.nextSibling),ci=h,Ht=!0,Bi=null,c!==null&&(yi[bi++]=Rn,yi[bi++]=$n,yi[bi++]=Zs,Rn=c.id,$n=c.overflow,Zs=h),h=pp(h,w.children),h.flags|=4096,h)}function ty(c,h,O){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),Ff(c.return,h,O)}function mp(c,h,O,w,Q){var j=c.memoizedState;j===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:O,tailMode:Q}:(j.isBackwards=h,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=O,j.tailMode=Q)}function ry(c,h,O){var w=h.pendingProps,Q=w.revealOrder,j=w.tail;if(qr(c,h,w.children,O),w=Gt.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ty(c,O,h);else if(c.tag===19)ty(c,O,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(qt(Gt,w),(h.mode&1)===0)h.memoizedState=null;else switch(Q){case"forwards":for(O=h.child,Q=null;O!==null;)c=O.alternate,c!==null&&Sh(c)===null&&(Q=O),O=O.sibling;O=Q,O===null?(Q=h.child,h.child=null):(Q=O.sibling,O.sibling=null),mp(h,!1,Q,O,j);break;case"backwards":for(O=null,Q=h.child,h.child=null;Q!==null;){if(c=Q.alternate,c!==null&&Sh(c)===null){h.child=Q;break}c=Q.sibling,Q.sibling=O,O=Q,Q=c}mp(h,!0,O,null,j);break;case"together":mp(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Rh(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Mn(c,h,O){if(c!==null&&(h.dependencies=c.dependencies),Gs|=h.lanes,(O&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(t(153));if(h.child!==null){for(c=h.child,O=Os(c,c.pendingProps),h.child=O,O.return=h;c.sibling!==null;)c=c.sibling,O=O.sibling=Os(c,c.pendingProps),O.return=h;O.sibling=null}return h.child}function kE(c,h,O){switch(h.tag){case 3:Kx(h),Xo();break;case 5:gx(h);break;case 1:Ur(h.type)&&fh(h);break;case 4:Uf(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,Q=h.memoizedProps.value;qt(xh,w._currentValue),w._currentValue=Q;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(qt(Gt,Gt.current&1),h.flags|=128,null):(O&h.child.childLanes)!==0?ey(c,h,O):(qt(Gt,Gt.current&1),c=Mn(c,h,O),c!==null?c.sibling:null);qt(Gt,Gt.current&1);break;case 19:if(w=(O&h.childLanes)!==0,(c.flags&128)!==0){if(w)return ry(c,h,O);h.flags|=128}if(Q=h.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),qt(Gt,Gt.current),w)break;return null;case 22:case 23:return h.lanes=0,Hx(c,h,O)}return Mn(c,h,O)}var iy,gp,ny,sy;iy=function(c,h){for(var O=h.child;O!==null;){if(O.tag===5||O.tag===6)c.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break;for(;O.sibling===null;){if(O.return===null||O.return===h)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},gp=function(){},ny=function(c,h,O,w){var Q=c.memoizedProps;if(Q!==w){c=h.stateNode,Hs(en.current);var j=null;switch(O){case"input":Q=qe(c,Q),w=qe(c,w),j=[];break;case"select":Q=M({},Q,{value:void 0}),w=M({},w,{value:void 0}),j=[];break;case"textarea":Q=$e(c,Q),w=$e(c,w),j=[];break;default:typeof Q.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=hh)}Qt(O,w);var X;O=null;for(fe in Q)if(!w.hasOwnProperty(fe)&&Q.hasOwnProperty(fe)&&Q[fe]!=null)if(fe==="style"){var J=Q[fe];for(X in J)J.hasOwnProperty(X)&&(O||(O={}),O[X]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(n.hasOwnProperty(fe)?j||(j=[]):(j=j||[]).push(fe,null));for(fe in w){var re=w[fe];if(J=Q?.[fe],w.hasOwnProperty(fe)&&re!==J&&(re!=null||J!=null))if(fe==="style")if(J){for(X in J)!J.hasOwnProperty(X)||re&&re.hasOwnProperty(X)||(O||(O={}),O[X]="");for(X in re)re.hasOwnProperty(X)&&J[X]!==re[X]&&(O||(O={}),O[X]=re[X])}else O||(j||(j=[]),j.push(fe,O)),O=re;else fe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&(j=j||[]).push(fe,re)):fe==="children"?typeof re!="string"&&typeof re!="number"||(j=j||[]).push(fe,""+re):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(n.hasOwnProperty(fe)?(re!=null&&fe==="onScroll"&&Ft("scroll",c),j||J===re||(j=[])):(j=j||[]).push(fe,re))}O&&(j=j||[]).push("style",O);var fe=j;(h.updateQueue=fe)&&(h.flags|=4)}},sy=function(c,h,O,w){O!==w&&(h.flags|=4)};function xl(c,h){if(!Ht)switch(c.tailMode){case"hidden":h=c.tail;for(var O=null;h!==null;)h.alternate!==null&&(O=h),h=h.sibling;O===null?c.tail=null:O.sibling=null;break;case"collapsed":O=c.tail;for(var w=null;O!==null;)O.alternate!==null&&(w=O),O=O.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Lr(c){var h=c.alternate!==null&&c.alternate.child===c.child,O=0,w=0;if(h)for(var Q=c.child;Q!==null;)O|=Q.lanes|Q.childLanes,w|=Q.subtreeFlags&14680064,w|=Q.flags&14680064,Q.return=c,Q=Q.sibling;else for(Q=c.child;Q!==null;)O|=Q.lanes|Q.childLanes,w|=Q.subtreeFlags,w|=Q.flags,Q.return=c,Q=Q.sibling;return c.subtreeFlags|=w,c.childLanes=O,h}function CE(c,h,O){var w=h.pendingProps;switch(Df(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(h),null;case 1:return Ur(h.type)&&dh(),Lr(h),null;case 3:return w=h.stateNode,Vo(),Zt(Vr),Zt($r),Gf(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Oh(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Bi!==null&&(Pp(Bi),Bi=null))),gp(c,h),Lr(h),null;case 5:Hf(h);var Q=Hs(pl.current);if(O=h.type,c!==null&&h.stateNode!=null)ny(c,h,O,w,Q),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(t(166));return Lr(h),null}if(c=Hs(en.current),Oh(h)){w=h.stateNode,O=h.type;var j=h.memoizedProps;switch(w[Ji]=h,w[cl]=j,c=(h.mode&1)!==0,O){case"dialog":Ft("cancel",w),Ft("close",w);break;case"iframe":case"object":case"embed":Ft("load",w);break;case"video":case"audio":for(Q=0;Q<ol.length;Q++)Ft(ol[Q],w);break;case"source":Ft("error",w);break;case"img":case"image":case"link":Ft("error",w),Ft("load",w);break;case"details":Ft("toggle",w);break;case"input":st(w,j),Ft("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},Ft("invalid",w);break;case"textarea":Qe(w,j),Ft("invalid",w)}Qt(O,j),Q=null;for(var X in j)if(j.hasOwnProperty(X)){var J=j[X];X==="children"?typeof J=="string"?w.textContent!==J&&(j.suppressHydrationWarning!==!0&&ch(w.textContent,J,c),Q=["children",J]):typeof J=="number"&&w.textContent!==""+J&&(j.suppressHydrationWarning!==!0&&ch(w.textContent,J,c),Q=["children",""+J]):n.hasOwnProperty(X)&&J!=null&&X==="onScroll"&&Ft("scroll",w)}switch(O){case"input":me(w),Ee(w,j,!0);break;case"textarea":me(w),Pe(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=hh)}w=Q,h.updateQueue=w,w!==null&&(h.flags|=4)}else{X=Q.nodeType===9?Q:Q.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=oe(O)),c==="http://www.w3.org/1999/xhtml"?O==="script"?(c=X.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=X.createElement(O,{is:w.is}):(c=X.createElement(O),O==="select"&&(X=c,w.multiple?X.multiple=!0:w.size&&(X.size=w.size))):c=X.createElementNS(c,O),c[Ji]=h,c[cl]=w,iy(c,h,!1,!1),h.stateNode=c;e:{switch(X=Ot(O,w),O){case"dialog":Ft("cancel",c),Ft("close",c),Q=w;break;case"iframe":case"object":case"embed":Ft("load",c),Q=w;break;case"video":case"audio":for(Q=0;Q<ol.length;Q++)Ft(ol[Q],c);Q=w;break;case"source":Ft("error",c),Q=w;break;case"img":case"image":case"link":Ft("error",c),Ft("load",c),Q=w;break;case"details":Ft("toggle",c),Q=w;break;case"input":st(c,w),Q=qe(c,w),Ft("invalid",c);break;case"option":Q=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},Q=M({},w,{value:void 0}),Ft("invalid",c);break;case"textarea":Qe(c,w),Q=$e(c,w),Ft("invalid",c);break;default:Q=w}Qt(O,Q),J=Q;for(j in J)if(J.hasOwnProperty(j)){var re=J[j];j==="style"?ot(c,re):j==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&te(c,re)):j==="children"?typeof re=="string"?(O!=="textarea"||re!=="")&&H(c,re):typeof re=="number"&&H(c,""+re):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(n.hasOwnProperty(j)?re!=null&&j==="onScroll"&&Ft("scroll",c):re!=null&&_(c,j,re,X))}switch(O){case"input":me(c),Ee(c,w,!1);break;case"textarea":me(c),Pe(c);break;case"option":w.value!=null&&c.setAttribute("value",""+ee(w.value));break;case"select":c.multiple=!!w.multiple,j=w.value,j!=null?Xe(c,!!w.multiple,j,!1):w.defaultValue!=null&&Xe(c,!!w.multiple,w.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(c.onclick=hh)}switch(O){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Lr(h),null;case 6:if(c&&h.stateNode!=null)sy(c,h,c.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(t(166));if(O=Hs(pl.current),Hs(en.current),Oh(h)){if(w=h.stateNode,O=h.memoizedProps,w[Ji]=h,(j=w.nodeValue!==O)&&(c=ci,c!==null))switch(c.tag){case 3:ch(w.nodeValue,O,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ch(w.nodeValue,O,(c.mode&1)!==0)}j&&(h.flags|=4)}else w=(O.nodeType===9?O:O.ownerDocument).createTextNode(w),w[Ji]=h,h.stateNode=w}return Lr(h),null;case 13:if(Zt(Gt),w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ht&&hi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)lx(),Xo(),h.flags|=98560,j=!1;else if(j=Oh(h),w!==null&&w.dehydrated!==null){if(c===null){if(!j)throw Error(t(318));if(j=h.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(t(317));j[Ji]=h}else Xo(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Lr(h),j=!1}else Bi!==null&&(Pp(Bi),Bi=null),j=!0;if(!j)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=O,h):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Gt.current&1)!==0?ur===0&&(ur=3):Qp())),h.updateQueue!==null&&(h.flags|=4),Lr(h),null);case 4:return Vo(),gp(c,h),c===null&&al(h.stateNode.containerInfo),Lr(h),null;case 10:return Wf(h.type._context),Lr(h),null;case 17:return Ur(h.type)&&dh(),Lr(h),null;case 19:if(Zt(Gt),j=h.memoizedState,j===null)return Lr(h),null;if(w=(h.flags&128)!==0,X=j.rendering,X===null)if(w)xl(j,!1);else{if(ur!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(X=Sh(c),X!==null){for(h.flags|=128,xl(j,!1),w=X.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=O,O=h.child;O!==null;)j=O,c=w,j.flags&=14680066,X=j.alternate,X===null?(j.childLanes=0,j.lanes=c,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=X.childLanes,j.lanes=X.lanes,j.child=X.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=X.memoizedProps,j.memoizedState=X.memoizedState,j.updateQueue=X.updateQueue,j.type=X.type,c=X.dependencies,j.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),O=O.sibling;return qt(Gt,Gt.current&1|2),h.child}c=c.sibling}j.tail!==null&&Le()>Go&&(h.flags|=128,w=!0,xl(j,!1),h.lanes=4194304)}else{if(!w)if(c=Sh(X),c!==null){if(h.flags|=128,w=!0,O=c.updateQueue,O!==null&&(h.updateQueue=O,h.flags|=4),xl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!X.alternate&&!Ht)return Lr(h),null}else 2*Le()-j.renderingStartTime>Go&&O!==1073741824&&(h.flags|=128,w=!0,xl(j,!1),h.lanes=4194304);j.isBackwards?(X.sibling=h.child,h.child=X):(O=j.last,O!==null?O.sibling=X:h.child=X,j.last=X)}return j.tail!==null?(h=j.tail,j.rendering=h,j.tail=h.sibling,j.renderingStartTime=Le(),h.sibling=null,O=Gt.current,qt(Gt,w?O&1|2:O&1),h):(Lr(h),null);case 22:case 23:return Ep(),w=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(ui&1073741824)!==0&&(Lr(h),h.subtreeFlags&6&&(h.flags|=8192)):Lr(h),null;case 24:return null;case 25:return null}throw Error(t(156,h.tag))}function PE(c,h){switch(Df(h),h.tag){case 1:return Ur(h.type)&&dh(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Vo(),Zt(Vr),Zt($r),Gf(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return Hf(h),null;case 13:if(Zt(Gt),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(t(340));Xo()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return Zt(Gt),null;case 4:return Vo(),null;case 10:return Wf(h.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var $h=!1,Mr=!1,TE=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ho(c,h){var O=c.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(w){tr(c,h,w)}else O.current=null}function Op(c,h,O){try{O()}catch(w){tr(c,h,w)}}var oy=!1;function EE(c,h){if(Ef=Kc,c=Dv(),bf(c)){if("selectionStart"in c)var O={start:c.selectionStart,end:c.selectionEnd};else e:{O=(O=c.ownerDocument)&&O.defaultView||window;var w=O.getSelection&&O.getSelection();if(w&&w.rangeCount!==0){O=w.anchorNode;var Q=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{O.nodeType,j.nodeType}catch{O=null;break e}var X=0,J=-1,re=-1,fe=0,Ce=0,Te=c,ke=null;t:for(;;){for(var Fe;Te!==O||Q!==0&&Te.nodeType!==3||(J=X+Q),Te!==j||w!==0&&Te.nodeType!==3||(re=X+w),Te.nodeType===3&&(X+=Te.nodeValue.length),(Fe=Te.firstChild)!==null;)ke=Te,Te=Fe;for(;;){if(Te===c)break t;if(ke===O&&++fe===Q&&(J=X),ke===j&&++Ce===w&&(re=X),(Fe=Te.nextSibling)!==null)break;Te=ke,ke=Te.parentNode}Te=Fe}O=J===-1||re===-1?null:{start:J,end:re}}else O=null}O=O||{start:0,end:0}}else O=null;for(Qf={focusedElem:c,selectionRange:O},Kc=!1,He=h;He!==null;)if(h=He,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,He=c;else for(;He!==null;){h=He;try{var Ge=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var tt=Ge.memoizedProps,ir=Ge.memoizedState,ce=h.stateNode,ne=ce.getSnapshotBeforeUpdate(h.elementType===h.type?tt:zi(h.type,tt),ir);ce.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=h.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ae){tr(h,h.return,Ae)}if(c=h.sibling,c!==null){c.return=h.return,He=c;break}He=h.return}return Ge=oy,oy=!1,Ge}function yl(c,h,O){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var Q=w=w.next;do{if((Q.tag&c)===c){var j=Q.destroy;Q.destroy=void 0,j!==void 0&&Op(h,O,j)}Q=Q.next}while(Q!==w)}}function Ah(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var O=h=h.next;do{if((O.tag&c)===c){var w=O.create;O.destroy=w()}O=O.next}while(O!==h)}}function vp(c){var h=c.ref;if(h!==null){var O=c.stateNode;switch(c.tag){case 5:c=O;break;default:c=O}typeof h=="function"?h(c):h.current=c}}function ay(c){var h=c.alternate;h!==null&&(c.alternate=null,ay(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Ji],delete h[cl],delete h[Lf],delete h[uE],delete h[dE])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ly(c){return c.tag===5||c.tag===3||c.tag===4}function cy(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ly(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function xp(c,h,O){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?O.nodeType===8?O.parentNode.insertBefore(c,h):O.insertBefore(c,h):(O.nodeType===8?(h=O.parentNode,h.insertBefore(c,O)):(h=O,h.appendChild(c)),O=O._reactRootContainer,O!=null||h.onclick!==null||(h.onclick=hh));else if(w!==4&&(c=c.child,c!==null))for(xp(c,h,O),c=c.sibling;c!==null;)xp(c,h,O),c=c.sibling}function yp(c,h,O){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?O.insertBefore(c,h):O.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(yp(c,h,O),c=c.sibling;c!==null;)yp(c,h,O),c=c.sibling}var wr=null,qi=!1;function ds(c,h,O){for(O=O.child;O!==null;)hy(c,h,O),O=O.sibling}function hy(c,h,O){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Fa,O)}catch{}switch(O.tag){case 5:Mr||Ho(O,h);case 6:var w=wr,Q=qi;wr=null,ds(c,h,O),wr=w,qi=Q,wr!==null&&(qi?(c=wr,O=O.stateNode,c.nodeType===8?c.parentNode.removeChild(O):c.removeChild(O)):wr.removeChild(O.stateNode));break;case 18:wr!==null&&(qi?(c=wr,O=O.stateNode,c.nodeType===8?Af(c.parentNode,O):c.nodeType===1&&Af(c,O),Ka(c)):Af(wr,O.stateNode));break;case 4:w=wr,Q=qi,wr=O.stateNode.containerInfo,qi=!0,ds(c,h,O),wr=w,qi=Q;break;case 0:case 11:case 14:case 15:if(!Mr&&(w=O.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){Q=w=w.next;do{var j=Q,X=j.destroy;j=j.tag,X!==void 0&&((j&2)!==0||(j&4)!==0)&&Op(O,h,X),Q=Q.next}while(Q!==w)}ds(c,h,O);break;case 1:if(!Mr&&(Ho(O,h),w=O.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=O.memoizedProps,w.state=O.memoizedState,w.componentWillUnmount()}catch(J){tr(O,h,J)}ds(c,h,O);break;case 21:ds(c,h,O);break;case 22:O.mode&1?(Mr=(w=Mr)||O.memoizedState!==null,ds(c,h,O),Mr=w):ds(c,h,O);break;default:ds(c,h,O)}}function uy(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var O=c.stateNode;O===null&&(O=c.stateNode=new TE),h.forEach(function(w){var Q=DE.bind(null,c,w);O.has(w)||(O.add(w),w.then(Q,Q))})}}function Xi(c,h){var O=h.deletions;if(O!==null)for(var w=0;w<O.length;w++){var Q=O[w];try{var j=c,X=h,J=X;e:for(;J!==null;){switch(J.tag){case 5:wr=J.stateNode,qi=!1;break e;case 3:wr=J.stateNode.containerInfo,qi=!0;break e;case 4:wr=J.stateNode.containerInfo,qi=!0;break e}J=J.return}if(wr===null)throw Error(t(160));hy(j,X,Q),wr=null,qi=!1;var re=Q.alternate;re!==null&&(re.return=null),Q.return=null}catch(fe){tr(Q,h,fe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)dy(h,c),h=h.sibling}function dy(c,h){var O=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Xi(h,c),rn(c),w&4){try{yl(3,c,c.return),Ah(3,c)}catch(tt){tr(c,c.return,tt)}try{yl(5,c,c.return)}catch(tt){tr(c,c.return,tt)}}break;case 1:Xi(h,c),rn(c),w&512&&O!==null&&Ho(O,O.return);break;case 5:if(Xi(h,c),rn(c),w&512&&O!==null&&Ho(O,O.return),c.flags&32){var Q=c.stateNode;try{H(Q,"")}catch(tt){tr(c,c.return,tt)}}if(w&4&&(Q=c.stateNode,Q!=null)){var j=c.memoizedProps,X=O!==null?O.memoizedProps:j,J=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{J==="input"&&j.type==="radio"&&j.name!=null&&_e(Q,j),Ot(J,X);var fe=Ot(J,j);for(X=0;X<re.length;X+=2){var Ce=re[X],Te=re[X+1];Ce==="style"?ot(Q,Te):Ce==="dangerouslySetInnerHTML"?te(Q,Te):Ce==="children"?H(Q,Te):_(Q,Ce,Te,fe)}switch(J){case"input":Se(Q,j);break;case"textarea":ve(Q,j);break;case"select":var ke=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!j.multiple;var Fe=j.value;Fe!=null?Xe(Q,!!j.multiple,Fe,!1):ke!==!!j.multiple&&(j.defaultValue!=null?Xe(Q,!!j.multiple,j.defaultValue,!0):Xe(Q,!!j.multiple,j.multiple?[]:"",!1))}Q[cl]=j}catch(tt){tr(c,c.return,tt)}}break;case 6:if(Xi(h,c),rn(c),w&4){if(c.stateNode===null)throw Error(t(162));Q=c.stateNode,j=c.memoizedProps;try{Q.nodeValue=j}catch(tt){tr(c,c.return,tt)}}break;case 3:if(Xi(h,c),rn(c),w&4&&O!==null&&O.memoizedState.isDehydrated)try{Ka(h.containerInfo)}catch(tt){tr(c,c.return,tt)}break;case 4:Xi(h,c),rn(c);break;case 13:Xi(h,c),rn(c),Q=c.child,Q.flags&8192&&(j=Q.memoizedState!==null,Q.stateNode.isHidden=j,!j||Q.alternate!==null&&Q.alternate.memoizedState!==null||(Sp=Le())),w&4&&uy(c);break;case 22:if(Ce=O!==null&&O.memoizedState!==null,c.mode&1?(Mr=(fe=Mr)||Ce,Xi(h,c),Mr=fe):Xi(h,c),rn(c),w&8192){if(fe=c.memoizedState!==null,(c.stateNode.isHidden=fe)&&!Ce&&(c.mode&1)!==0)for(He=c,Ce=c.child;Ce!==null;){for(Te=He=Ce;He!==null;){switch(ke=He,Fe=ke.child,ke.tag){case 0:case 11:case 14:case 15:yl(4,ke,ke.return);break;case 1:Ho(ke,ke.return);var Ge=ke.stateNode;if(typeof Ge.componentWillUnmount=="function"){w=ke,O=ke.return;try{h=w,Ge.props=h.memoizedProps,Ge.state=h.memoizedState,Ge.componentWillUnmount()}catch(tt){tr(w,O,tt)}}break;case 5:Ho(ke,ke.return);break;case 22:if(ke.memoizedState!==null){my(Te);continue}}Fe!==null?(Fe.return=ke,He=Fe):my(Te)}Ce=Ce.sibling}e:for(Ce=null,Te=c;;){if(Te.tag===5){if(Ce===null){Ce=Te;try{Q=Te.stateNode,fe?(j=Q.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(J=Te.stateNode,re=Te.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=pe("display",X))}catch(tt){tr(c,c.return,tt)}}}else if(Te.tag===6){if(Ce===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(tt){tr(c,c.return,tt)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===c)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===c)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===c)break e;Ce===Te&&(Ce=null),Te=Te.return}Ce===Te&&(Ce=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Xi(h,c),rn(c),w&4&&uy(c);break;case 21:break;default:Xi(h,c),rn(c)}}function rn(c){var h=c.flags;if(h&2){try{e:{for(var O=c.return;O!==null;){if(ly(O)){var w=O;break e}O=O.return}throw Error(t(160))}switch(w.tag){case 5:var Q=w.stateNode;w.flags&32&&(H(Q,""),w.flags&=-33);var j=cy(c);yp(c,j,Q);break;case 3:case 4:var X=w.stateNode.containerInfo,J=cy(c);xp(c,J,X);break;default:throw Error(t(161))}}catch(re){tr(c,c.return,re)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function QE(c,h,O){He=c,fy(c)}function fy(c,h,O){for(var w=(c.mode&1)!==0;He!==null;){var Q=He,j=Q.child;if(Q.tag===22&&w){var X=Q.memoizedState!==null||$h;if(!X){var J=Q.alternate,re=J!==null&&J.memoizedState!==null||Mr;J=$h;var fe=Mr;if($h=X,(Mr=re)&&!fe)for(He=Q;He!==null;)X=He,re=X.child,X.tag===22&&X.memoizedState!==null?gy(Q):re!==null?(re.return=X,He=re):gy(Q);for(;j!==null;)He=j,fy(j),j=j.sibling;He=Q,$h=J,Mr=fe}py(c)}else(Q.subtreeFlags&8772)!==0&&j!==null?(j.return=Q,He=j):py(c)}}function py(c){for(;He!==null;){var h=He;if((h.flags&8772)!==0){var O=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Mr||Ah(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Mr)if(O===null)w.componentDidMount();else{var Q=h.elementType===h.type?O.memoizedProps:zi(h.type,O.memoizedProps);w.componentDidUpdate(Q,O.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=h.updateQueue;j!==null&&mx(h,j,w);break;case 3:var X=h.updateQueue;if(X!==null){if(O=null,h.child!==null)switch(h.child.tag){case 5:O=h.child.stateNode;break;case 1:O=h.child.stateNode}mx(h,X,O)}break;case 5:var J=h.stateNode;if(O===null&&h.flags&4){O=J;var re=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&O.focus();break;case"img":re.src&&(O.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var fe=h.alternate;if(fe!==null){var Ce=fe.memoizedState;if(Ce!==null){var Te=Ce.dehydrated;Te!==null&&Ka(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mr||h.flags&512&&vp(h)}catch(ke){tr(h,h.return,ke)}}if(h===c){He=null;break}if(O=h.sibling,O!==null){O.return=h.return,He=O;break}He=h.return}}function my(c){for(;He!==null;){var h=He;if(h===c){He=null;break}var O=h.sibling;if(O!==null){O.return=h.return,He=O;break}He=h.return}}function gy(c){for(;He!==null;){var h=He;try{switch(h.tag){case 0:case 11:case 15:var O=h.return;try{Ah(4,h)}catch(re){tr(h,O,re)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var Q=h.return;try{w.componentDidMount()}catch(re){tr(h,Q,re)}}var j=h.return;try{vp(h)}catch(re){tr(h,j,re)}break;case 5:var X=h.return;try{vp(h)}catch(re){tr(h,X,re)}}}catch(re){tr(h,h.return,re)}if(h===c){He=null;break}var J=h.sibling;if(J!==null){J.return=h.return,He=J;break}He=h.return}}var RE=Math.ceil,Lh=P.ReactCurrentDispatcher,bp=P.ReactCurrentOwner,wi=P.ReactCurrentBatchConfig,kt=0,xr=null,or=null,kr=0,ui=0,Yo=as(0),ur=0,bl=null,Gs=0,Mh=0,_p=0,_l=null,Yr=null,Sp=0,Go=1/0,jn=null,jh=!1,wp=null,fs=null,Nh=!1,ps=null,Dh=0,Sl=0,kp=null,Ih=-1,Bh=0;function Xr(){return(kt&6)!==0?Le():Ih!==-1?Ih:Ih=Le()}function ms(c){return(c.mode&1)===0?1:(kt&2)!==0&&kr!==0?kr&-kr:pE.transition!==null?(Bh===0&&(Bh=cv()),Bh):(c=At,c!==0||(c=window.event,c=c===void 0?16:vv(c.type)),c)}function Wi(c,h,O,w){if(50<Sl)throw Sl=0,kp=null,Error(t(185));Va(c,O,w),((kt&2)===0||c!==xr)&&(c===xr&&((kt&2)===0&&(Mh|=O),ur===4&&gs(c,kr)),Gr(c,w),O===1&&kt===0&&(h.mode&1)===0&&(Go=Le()+500,ph&&cs()))}function Gr(c,h){var O=c.callbackNode;pT(c,h);var w=Hc(c,c===xr?kr:0);if(w===0)O!==null&&he(O),c.callbackNode=null,c.callbackPriority=0;else if(h=w&-w,c.callbackPriority!==h){if(O!=null&&he(O),h===1)c.tag===0?fE(vy.bind(null,c)):ix(vy.bind(null,c)),cE(function(){(kt&6)===0&&cs()}),O=null;else{switch(hv(w)){case 1:O=Ue;break;case 4:O=mt;break;case 16:O=_t;break;case 536870912:O=Jn;break;default:O=_t}O=Cy(O,Oy.bind(null,c))}c.callbackPriority=h,c.callbackNode=O}}function Oy(c,h){if(Ih=-1,Bh=0,(kt&6)!==0)throw Error(t(327));var O=c.callbackNode;if(Ko()&&c.callbackNode!==O)return null;var w=Hc(c,c===xr?kr:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||h)h=zh(c,w);else{h=w;var Q=kt;kt|=2;var j=yy();(xr!==c||kr!==h)&&(jn=null,Go=Le()+500,Js(c,h));do try{LE();break}catch(J){xy(c,J)}while(!0);Xf(),Lh.current=j,kt=Q,or!==null?h=0:(xr=null,kr=0,h=ur)}if(h!==0){if(h===2&&(Q=sf(c),Q!==0&&(w=Q,h=Cp(c,Q))),h===1)throw O=bl,Js(c,0),gs(c,w),Gr(c,Le()),O;if(h===6)gs(c,w);else{if(Q=c.current.alternate,(w&30)===0&&!$E(Q)&&(h=zh(c,w),h===2&&(j=sf(c),j!==0&&(w=j,h=Cp(c,j))),h===1))throw O=bl,Js(c,0),gs(c,w),Gr(c,Le()),O;switch(c.finishedWork=Q,c.finishedLanes=w,h){case 0:case 1:throw Error(t(345));case 2:eo(c,Yr,jn);break;case 3:if(gs(c,w),(w&130023424)===w&&(h=Sp+500-Le(),10<h)){if(Hc(c,0)!==0)break;if(Q=c.suspendedLanes,(Q&w)!==w){Xr(),c.pingedLanes|=c.suspendedLanes&Q;break}c.timeoutHandle=$f(eo.bind(null,c,Yr,jn),h);break}eo(c,Yr,jn);break;case 4:if(gs(c,w),(w&4194240)===w)break;for(h=c.eventTimes,Q=-1;0<w;){var X=31-Di(w);j=1<<X,X=h[X],X>Q&&(Q=X),w&=~j}if(w=Q,w=Le()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*RE(w/1960))-w,10<w){c.timeoutHandle=$f(eo.bind(null,c,Yr,jn),w);break}eo(c,Yr,jn);break;case 5:eo(c,Yr,jn);break;default:throw Error(t(329))}}}return Gr(c,Le()),c.callbackNode===O?Oy.bind(null,c):null}function Cp(c,h){var O=_l;return c.current.memoizedState.isDehydrated&&(Js(c,h).flags|=256),c=zh(c,h),c!==2&&(h=Yr,Yr=O,h!==null&&Pp(h)),c}function Pp(c){Yr===null?Yr=c:Yr.push.apply(Yr,c)}function $E(c){for(var h=c;;){if(h.flags&16384){var O=h.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var w=0;w<O.length;w++){var Q=O[w],j=Q.getSnapshot;Q=Q.value;try{if(!Ii(j(),Q))return!1}catch{return!1}}}if(O=h.child,h.subtreeFlags&16384&&O!==null)O.return=h,h=O;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function gs(c,h){for(h&=~_p,h&=~Mh,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var O=31-Di(h),w=1<<O;c[O]=-1,h&=~w}}function vy(c){if((kt&6)!==0)throw Error(t(327));Ko();var h=Hc(c,0);if((h&1)===0)return Gr(c,Le()),null;var O=zh(c,h);if(c.tag!==0&&O===2){var w=sf(c);w!==0&&(h=w,O=Cp(c,w))}if(O===1)throw O=bl,Js(c,0),gs(c,h),Gr(c,Le()),O;if(O===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,eo(c,Yr,jn),Gr(c,Le()),null}function Tp(c,h){var O=kt;kt|=1;try{return c(h)}finally{kt=O,kt===0&&(Go=Le()+500,ph&&cs())}}function Ks(c){ps!==null&&ps.tag===0&&(kt&6)===0&&Ko();var h=kt;kt|=1;var O=wi.transition,w=At;try{if(wi.transition=null,At=1,c)return c()}finally{At=w,wi.transition=O,kt=h,(kt&6)===0&&cs()}}function Ep(){ui=Yo.current,Zt(Yo)}function Js(c,h){c.finishedWork=null,c.finishedLanes=0;var O=c.timeoutHandle;if(O!==-1&&(c.timeoutHandle=-1,lE(O)),or!==null)for(O=or.return;O!==null;){var w=O;switch(Df(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&dh();break;case 3:Vo(),Zt(Vr),Zt($r),Gf();break;case 5:Hf(w);break;case 4:Vo();break;case 13:Zt(Gt);break;case 19:Zt(Gt);break;case 10:Wf(w.type._context);break;case 22:case 23:Ep()}O=O.return}if(xr=c,or=c=Os(c.current,null),kr=ui=h,ur=0,bl=null,_p=Mh=Gs=0,Yr=_l=null,Us!==null){for(h=0;h<Us.length;h++)if(O=Us[h],w=O.interleaved,w!==null){O.interleaved=null;var Q=w.next,j=O.pending;if(j!==null){var X=j.next;j.next=Q,w.next=X}O.pending=w}Us=null}return c}function xy(c,h){do{var O=or;try{if(Xf(),wh.current=Th,kh){for(var w=Kt.memoizedState;w!==null;){var Q=w.queue;Q!==null&&(Q.pending=null),w=w.next}kh=!1}if(Ys=0,vr=hr=Kt=null,ml=!1,gl=0,bp.current=null,O===null||O.return===null){ur=1,bl=h,or=null;break}e:{var j=c,X=O.return,J=O,re=h;if(h=kr,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,Ce=J,Te=Ce.tag;if((Ce.mode&1)===0&&(Te===0||Te===11||Te===15)){var ke=Ce.alternate;ke?(Ce.updateQueue=ke.updateQueue,Ce.memoizedState=ke.memoizedState,Ce.lanes=ke.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Fe=Wx(X);if(Fe!==null){Fe.flags&=-257,Fx(Fe,X,J,j,h),Fe.mode&1&&Xx(j,fe,h),h=Fe,re=fe;var Ge=h.updateQueue;if(Ge===null){var tt=new Set;tt.add(re),h.updateQueue=tt}else Ge.add(re);break e}else{if((h&1)===0){Xx(j,fe,h),Qp();break e}re=Error(t(426))}}else if(Ht&&J.mode&1){var ir=Wx(X);if(ir!==null){(ir.flags&65536)===0&&(ir.flags|=256),Fx(ir,X,J,j,h),zf(Uo(re,J));break e}}j=re=Uo(re,J),ur!==4&&(ur=2),_l===null?_l=[j]:_l.push(j),j=X;do{switch(j.tag){case 3:j.flags|=65536,h&=-h,j.lanes|=h;var ce=zx(j,re,h);px(j,ce);break e;case 1:J=re;var ne=j.type,ue=j.stateNode;if((j.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(fs===null||!fs.has(ue)))){j.flags|=65536,h&=-h,j.lanes|=h;var Ae=qx(j,J,h);px(j,Ae);break e}}j=j.return}while(j!==null)}_y(O)}catch(rt){h=rt,or===O&&O!==null&&(or=O=O.return);continue}break}while(!0)}function yy(){var c=Lh.current;return Lh.current=Th,c===null?Th:c}function Qp(){(ur===0||ur===3||ur===2)&&(ur=4),xr===null||(Gs&268435455)===0&&(Mh&268435455)===0||gs(xr,kr)}function zh(c,h){var O=kt;kt|=2;var w=yy();(xr!==c||kr!==h)&&(jn=null,Js(c,h));do try{AE();break}catch(Q){xy(c,Q)}while(!0);if(Xf(),kt=O,Lh.current=w,or!==null)throw Error(t(261));return xr=null,kr=0,ur}function AE(){for(;or!==null;)by(or)}function LE(){for(;or!==null&&!Ne();)by(or)}function by(c){var h=ky(c.alternate,c,ui);c.memoizedProps=c.pendingProps,h===null?_y(c):or=h,bp.current=null}function _y(c){var h=c;do{var O=h.alternate;if(c=h.return,(h.flags&32768)===0){if(O=CE(O,h,ui),O!==null){or=O;return}}else{if(O=PE(O,h),O!==null){O.flags&=32767,or=O;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ur=6,or=null;return}}if(h=h.sibling,h!==null){or=h;return}or=h=c}while(h!==null);ur===0&&(ur=5)}function eo(c,h,O){var w=At,Q=wi.transition;try{wi.transition=null,At=1,ME(c,h,O,w)}finally{wi.transition=Q,At=w}return null}function ME(c,h,O,w){do Ko();while(ps!==null);if((kt&6)!==0)throw Error(t(327));O=c.finishedWork;var Q=c.finishedLanes;if(O===null)return null;if(c.finishedWork=null,c.finishedLanes=0,O===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var j=O.lanes|O.childLanes;if(mT(c,j),c===xr&&(or=xr=null,kr=0),(O.subtreeFlags&2064)===0&&(O.flags&2064)===0||Nh||(Nh=!0,Cy(_t,function(){return Ko(),null})),j=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||j){j=wi.transition,wi.transition=null;var X=At;At=1;var J=kt;kt|=4,bp.current=null,EE(c,O),dy(O,c),tE(Qf),Kc=!!Ef,Qf=Ef=null,c.current=O,QE(O),We(),kt=J,At=X,wi.transition=j}else c.current=O;if(Nh&&(Nh=!1,ps=c,Dh=Q),j=c.pendingLanes,j===0&&(fs=null),cT(O.stateNode),Gr(c,Le()),h!==null)for(w=c.onRecoverableError,O=0;O<h.length;O++)Q=h[O],w(Q.value,{componentStack:Q.stack,digest:Q.digest});if(jh)throw jh=!1,c=wp,wp=null,c;return(Dh&1)!==0&&c.tag!==0&&Ko(),j=c.pendingLanes,(j&1)!==0?c===kp?Sl++:(Sl=0,kp=c):Sl=0,cs(),null}function Ko(){if(ps!==null){var c=hv(Dh),h=wi.transition,O=At;try{if(wi.transition=null,At=16>c?16:c,ps===null)var w=!1;else{if(c=ps,ps=null,Dh=0,(kt&6)!==0)throw Error(t(331));var Q=kt;for(kt|=4,He=c.current;He!==null;){var j=He,X=j.child;if((He.flags&16)!==0){var J=j.deletions;if(J!==null){for(var re=0;re<J.length;re++){var fe=J[re];for(He=fe;He!==null;){var Ce=He;switch(Ce.tag){case 0:case 11:case 15:yl(8,Ce,j)}var Te=Ce.child;if(Te!==null)Te.return=Ce,He=Te;else for(;He!==null;){Ce=He;var ke=Ce.sibling,Fe=Ce.return;if(ay(Ce),Ce===fe){He=null;break}if(ke!==null){ke.return=Fe,He=ke;break}He=Fe}}}var Ge=j.alternate;if(Ge!==null){var tt=Ge.child;if(tt!==null){Ge.child=null;do{var ir=tt.sibling;tt.sibling=null,tt=ir}while(tt!==null)}}He=j}}if((j.subtreeFlags&2064)!==0&&X!==null)X.return=j,He=X;else e:for(;He!==null;){if(j=He,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:yl(9,j,j.return)}var ce=j.sibling;if(ce!==null){ce.return=j.return,He=ce;break e}He=j.return}}var ne=c.current;for(He=ne;He!==null;){X=He;var ue=X.child;if((X.subtreeFlags&2064)!==0&&ue!==null)ue.return=X,He=ue;else e:for(X=ne;He!==null;){if(J=He,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Ah(9,J)}}catch(rt){tr(J,J.return,rt)}if(J===X){He=null;break e}var Ae=J.sibling;if(Ae!==null){Ae.return=J.return,He=Ae;break e}He=J.return}}if(kt=Q,cs(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Fa,c)}catch{}w=!0}return w}finally{At=O,wi.transition=h}}return!1}function Sy(c,h,O){h=Uo(O,h),h=zx(c,h,1),c=us(c,h,1),h=Xr(),c!==null&&(Va(c,1,h),Gr(c,h))}function tr(c,h,O){if(c.tag===3)Sy(c,c,O);else for(;h!==null;){if(h.tag===3){Sy(h,c,O);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fs===null||!fs.has(w))){c=Uo(O,c),c=qx(h,c,1),h=us(h,c,1),c=Xr(),h!==null&&(Va(h,1,c),Gr(h,c));break}}h=h.return}}function jE(c,h,O){var w=c.pingCache;w!==null&&w.delete(h),h=Xr(),c.pingedLanes|=c.suspendedLanes&O,xr===c&&(kr&O)===O&&(ur===4||ur===3&&(kr&130023424)===kr&&500>Le()-Sp?Js(c,0):_p|=O),Gr(c,h)}function wy(c,h){h===0&&((c.mode&1)===0?h=1:(h=Uc,Uc<<=1,(Uc&130023424)===0&&(Uc=4194304)));var O=Xr();c=An(c,h),c!==null&&(Va(c,h,O),Gr(c,O))}function NE(c){var h=c.memoizedState,O=0;h!==null&&(O=h.retryLane),wy(c,O)}function DE(c,h){var O=0;switch(c.tag){case 13:var w=c.stateNode,Q=c.memoizedState;Q!==null&&(O=Q.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(h),wy(c,O)}var ky;ky=function(c,h,O){if(c!==null)if(c.memoizedProps!==h.pendingProps||Vr.current)Hr=!0;else{if((c.lanes&O)===0&&(h.flags&128)===0)return Hr=!1,kE(c,h,O);Hr=(c.flags&131072)!==0}else Hr=!1,Ht&&(h.flags&1048576)!==0&&nx(h,gh,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;Rh(c,h),c=h.pendingProps;var Q=Bo(h,$r.current);Zo(h,O),Q=ep(null,h,w,c,Q,O);var j=tp();return h.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ur(w)?(j=!0,fh(h)):j=!1,h.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Vf(h),Q.updater=Eh,h.stateNode=Q,Q._reactInternals=h,ap(h,w,c,O),h=up(null,h,w,!0,j,O)):(h.tag=0,Ht&&j&&Nf(h),qr(null,h,Q,O),h=h.child),h;case 16:w=h.elementType;e:{switch(Rh(c,h),c=h.pendingProps,Q=w._init,w=Q(w._payload),h.type=w,Q=h.tag=BE(w),c=zi(w,c),Q){case 0:h=hp(null,h,w,c,O);break e;case 1:h=Gx(null,h,w,c,O);break e;case 11:h=Zx(null,h,w,c,O);break e;case 14:h=Vx(null,h,w,zi(w.type,c),O);break e}throw Error(t(306,w,""))}return h;case 0:return w=h.type,Q=h.pendingProps,Q=h.elementType===w?Q:zi(w,Q),hp(c,h,w,Q,O);case 1:return w=h.type,Q=h.pendingProps,Q=h.elementType===w?Q:zi(w,Q),Gx(c,h,w,Q,O);case 3:e:{if(Kx(h),c===null)throw Error(t(387));w=h.pendingProps,j=h.memoizedState,Q=j.element,fx(c,h),_h(h,w,null,O);var X=h.memoizedState;if(w=X.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=j,h.memoizedState=j,h.flags&256){Q=Uo(Error(t(423)),h),h=Jx(c,h,w,O,Q);break e}else if(w!==Q){Q=Uo(Error(t(424)),h),h=Jx(c,h,w,O,Q);break e}else for(hi=os(h.stateNode.containerInfo.firstChild),ci=h,Ht=!0,Bi=null,O=ux(h,null,w,O),h.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(Xo(),w===Q){h=Mn(c,h,O);break e}qr(c,h,w,O)}h=h.child}return h;case 5:return gx(h),c===null&&Bf(h),w=h.type,Q=h.pendingProps,j=c!==null?c.memoizedProps:null,X=Q.children,Rf(w,Q)?X=null:j!==null&&Rf(w,j)&&(h.flags|=32),Yx(c,h),qr(c,h,X,O),h.child;case 6:return c===null&&Bf(h),null;case 13:return ey(c,h,O);case 4:return Uf(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=Wo(h,null,w,O):qr(c,h,w,O),h.child;case 11:return w=h.type,Q=h.pendingProps,Q=h.elementType===w?Q:zi(w,Q),Zx(c,h,w,Q,O);case 7:return qr(c,h,h.pendingProps,O),h.child;case 8:return qr(c,h,h.pendingProps.children,O),h.child;case 12:return qr(c,h,h.pendingProps.children,O),h.child;case 10:e:{if(w=h.type._context,Q=h.pendingProps,j=h.memoizedProps,X=Q.value,qt(xh,w._currentValue),w._currentValue=X,j!==null)if(Ii(j.value,X)){if(j.children===Q.children&&!Vr.current){h=Mn(c,h,O);break e}}else for(j=h.child,j!==null&&(j.return=h);j!==null;){var J=j.dependencies;if(J!==null){X=j.child;for(var re=J.firstContext;re!==null;){if(re.context===w){if(j.tag===1){re=Ln(-1,O&-O),re.tag=2;var fe=j.updateQueue;if(fe!==null){fe=fe.shared;var Ce=fe.pending;Ce===null?re.next=re:(re.next=Ce.next,Ce.next=re),fe.pending=re}}j.lanes|=O,re=j.alternate,re!==null&&(re.lanes|=O),Ff(j.return,O,h),J.lanes|=O;break}re=re.next}}else if(j.tag===10)X=j.type===h.type?null:j.child;else if(j.tag===18){if(X=j.return,X===null)throw Error(t(341));X.lanes|=O,J=X.alternate,J!==null&&(J.lanes|=O),Ff(X,O,h),X=j.sibling}else X=j.child;if(X!==null)X.return=j;else for(X=j;X!==null;){if(X===h){X=null;break}if(j=X.sibling,j!==null){j.return=X.return,X=j;break}X=X.return}j=X}qr(c,h,Q.children,O),h=h.child}return h;case 9:return Q=h.type,w=h.pendingProps.children,Zo(h,O),Q=_i(Q),w=w(Q),h.flags|=1,qr(c,h,w,O),h.child;case 14:return w=h.type,Q=zi(w,h.pendingProps),Q=zi(w.type,Q),Vx(c,h,w,Q,O);case 15:return Ux(c,h,h.type,h.pendingProps,O);case 17:return w=h.type,Q=h.pendingProps,Q=h.elementType===w?Q:zi(w,Q),Rh(c,h),h.tag=1,Ur(w)?(c=!0,fh(h)):c=!1,Zo(h,O),Ix(h,w,Q),ap(h,w,Q,O),up(null,h,w,!0,c,O);case 19:return ry(c,h,O);case 22:return Hx(c,h,O)}throw Error(t(156,h.tag))};function Cy(c,h){return Zc(c,h)}function IE(c,h,O,w){this.tag=c,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(c,h,O,w){return new IE(c,h,O,w)}function Rp(c){return c=c.prototype,!(!c||!c.isReactComponent)}function BE(c){if(typeof c=="function")return Rp(c)?1:0;if(c!=null){if(c=c.$$typeof,c===A)return 11;if(c===V)return 14}return 2}function Os(c,h){var O=c.alternate;return O===null?(O=ki(c.tag,h,c.key,c.mode),O.elementType=c.elementType,O.type=c.type,O.stateNode=c.stateNode,O.alternate=c,c.alternate=O):(O.pendingProps=h,O.type=c.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=c.flags&14680064,O.childLanes=c.childLanes,O.lanes=c.lanes,O.child=c.child,O.memoizedProps=c.memoizedProps,O.memoizedState=c.memoizedState,O.updateQueue=c.updateQueue,h=c.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},O.sibling=c.sibling,O.index=c.index,O.ref=c.ref,O}function qh(c,h,O,w,Q,j){var X=2;if(w=c,typeof c=="function")Rp(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case R:return to(O.children,Q,j,h);case k:X=8,Q|=8;break;case E:return c=ki(12,O,h,Q|2),c.elementType=E,c.lanes=j,c;case N:return c=ki(13,O,h,Q),c.elementType=N,c.lanes=j,c;case q:return c=ki(19,O,h,Q),c.elementType=q,c.lanes=j,c;case Y:return Xh(O,Q,j,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case $:X=10;break e;case D:X=9;break e;case A:X=11;break e;case V:X=14;break e;case K:X=16,w=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return h=ki(X,O,h,Q),h.elementType=c,h.type=w,h.lanes=j,h}function to(c,h,O,w){return c=ki(7,c,w,h),c.lanes=O,c}function Xh(c,h,O,w){return c=ki(22,c,w,h),c.elementType=Y,c.lanes=O,c.stateNode={isHidden:!1},c}function $p(c,h,O){return c=ki(6,c,null,h),c.lanes=O,c}function Ap(c,h,O){return h=ki(4,c.children!==null?c.children:[],c.key,h),h.lanes=O,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function zE(c,h,O,w,Q){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=w,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function Lp(c,h,O,w,Q,j,X,J,re){return c=new zE(c,h,O,J,re),h===1?(h=1,j===!0&&(h|=8)):h=0,j=ki(3,null,null,h),c.current=j,j.stateNode=c,j.memoizedState={element:w,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(j),c}function qE(c,h,O){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:w==null?null:""+w,children:c,containerInfo:h,implementation:O}}function Py(c){if(!c)return ls;c=c._reactInternals;e:{if(ai(c)!==c||c.tag!==1)throw Error(t(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ur(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(t(171))}if(c.tag===1){var O=c.type;if(Ur(O))return tx(c,O,h)}return h}function Ty(c,h,O,w,Q,j,X,J,re){return c=Lp(O,w,!0,c,Q,j,X,J,re),c.context=Py(null),O=c.current,w=Xr(),Q=ms(O),j=Ln(w,Q),j.callback=h??null,us(O,j,Q),c.current.lanes=Q,Va(c,Q,w),Gr(c,w),c}function Wh(c,h,O,w){var Q=h.current,j=Xr(),X=ms(Q);return O=Py(O),h.context===null?h.context=O:h.pendingContext=O,h=Ln(j,X),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=us(Q,h,X),c!==null&&(Wi(c,Q,X,j),bh(c,Q,X)),X}function Fh(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Ey(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var O=c.retryLane;c.retryLane=O!==0&&O<h?O:h}}function Mp(c,h){Ey(c,h),(c=c.alternate)&&Ey(c,h)}function XE(){return null}var Qy=typeof reportError=="function"?reportError:function(c){console.error(c)};function jp(c){this._internalRoot=c}Zh.prototype.render=jp.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(t(409));Wh(c,h,null,null)},Zh.prototype.unmount=jp.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;Ks(function(){Wh(null,c,null,null)}),h[En]=null}};function Zh(c){this._internalRoot=c}Zh.prototype.unstable_scheduleHydration=function(c){if(c){var h=fv();c={blockedOn:null,target:c,priority:h};for(var O=0;O<is.length&&h!==0&&h<is[O].priority;O++);is.splice(O,0,c),O===0&&gv(c)}};function Np(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Vh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function Ry(){}function WE(c,h,O,w,Q){if(Q){if(typeof w=="function"){var j=w;w=function(){var fe=Fh(X);j.call(fe)}}var X=Ty(h,w,c,0,null,!1,!1,"",Ry);return c._reactRootContainer=X,c[En]=X.current,al(c.nodeType===8?c.parentNode:c),Ks(),X}for(;Q=c.lastChild;)c.removeChild(Q);if(typeof w=="function"){var J=w;w=function(){var fe=Fh(re);J.call(fe)}}var re=Lp(c,0,!1,null,null,!1,!1,"",Ry);return c._reactRootContainer=re,c[En]=re.current,al(c.nodeType===8?c.parentNode:c),Ks(function(){Wh(h,re,O,w)}),re}function Uh(c,h,O,w,Q){var j=O._reactRootContainer;if(j){var X=j;if(typeof Q=="function"){var J=Q;Q=function(){var re=Fh(X);J.call(re)}}Wh(h,X,c,Q)}else X=WE(O,h,c,Q,w);return Fh(X)}uv=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var O=Za(h.pendingLanes);O!==0&&(af(h,O|1),Gr(h,Le()),(kt&6)===0&&(Go=Le()+500,cs()))}break;case 13:Ks(function(){var w=An(c,1);if(w!==null){var Q=Xr();Wi(w,c,1,Q)}}),Mp(c,1)}},lf=function(c){if(c.tag===13){var h=An(c,134217728);if(h!==null){var O=Xr();Wi(h,c,134217728,O)}Mp(c,134217728)}},dv=function(c){if(c.tag===13){var h=ms(c),O=An(c,h);if(O!==null){var w=Xr();Wi(O,c,h,w)}Mp(c,h)}},fv=function(){return At},pv=function(c,h){var O=At;try{return At=c,h()}finally{At=O}},Ni=function(c,h,O){switch(h){case"input":if(Se(c,O),h=O.name,O.type==="radio"&&h!=null){for(O=c;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<O.length;h++){var w=O[h];if(w!==c&&w.form===c.form){var Q=uh(w);if(!Q)throw Error(t(90));be(w),Se(w,Q)}}}break;case"textarea":ve(c,O);break;case"select":h=O.value,h!=null&&Xe(c,!!O.multiple,h,!1)}},ge=Tp,we=Ks;var FE={usingClientEntryPoint:!1,Events:[hl,Do,uh,To,Pn,Tp]},wl={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZE={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Wc(c),c===null?null:c.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||XE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Fa=Hh.inject(ZE),Ki=Hh}catch{}}return Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FE,Kr.createPortal=function(c,h){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(h))throw Error(t(200));return qE(c,h,null,O)},Kr.createRoot=function(c,h){if(!Np(c))throw Error(t(299));var O=!1,w="",Q=Qy;return h!=null&&(h.unstable_strictMode===!0&&(O=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(Q=h.onRecoverableError)),h=Lp(c,1,!1,null,null,O,!1,w,Q),c[En]=h.current,al(c.nodeType===8?c.parentNode:c),new jp(h)},Kr.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=Wc(h),c=c===null?null:c.stateNode,c},Kr.flushSync=function(c){return Ks(c)},Kr.hydrate=function(c,h,O){if(!Vh(h))throw Error(t(200));return Uh(null,c,h,!0,O)},Kr.hydrateRoot=function(c,h,O){if(!Np(c))throw Error(t(405));var w=O!=null&&O.hydratedSources||null,Q=!1,j="",X=Qy;if(O!=null&&(O.unstable_strictMode===!0&&(Q=!0),O.identifierPrefix!==void 0&&(j=O.identifierPrefix),O.onRecoverableError!==void 0&&(X=O.onRecoverableError)),h=Ty(h,null,c,1,O??null,Q,!1,j,X),c[En]=h.current,al(c),w)for(c=0;c<w.length;c++)O=w[c],Q=O._getVersion,Q=Q(O._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[O,Q]:h.mutableSourceEagerHydrationData.push(O,Q);return new Zh(h)},Kr.render=function(c,h,O){if(!Vh(h))throw Error(t(200));return Uh(null,c,h,!1,O)},Kr.unmountComponentAtNode=function(c){if(!Vh(c))throw Error(t(40));return c._reactRootContainer?(Ks(function(){Uh(null,null,c,!1,function(){c._reactRootContainer=null,c[En]=null})}),!0):!1},Kr.unstable_batchedUpdates=Tp,Kr.unstable_renderSubtreeIntoContainer=function(c,h,O,w){if(!Vh(O))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return Uh(c,h,O,!1,w)},Kr.version="18.3.1-next-f1338f8080-20240426",Kr}var Iy;function uw(){if(Iy)return Bp.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bp.exports=tQ(),Bp.exports}var By;function rQ(){if(By)return Yh;By=1;var r=uw();return Yh.createRoot=r.createRoot,Yh.hydrateRoot=r.hydrateRoot,Yh}var iQ=rQ();const nQ=Aa(iQ);uw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},nc.apply(this,arguments)}var Cs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Cs||(Cs={}));const zy="popstate";function sQ(r){r===void 0&&(r={});function e(i,n){let{pathname:s,search:a,hash:o}=i.location;return ag("",{pathname:s,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(i,n){return typeof n=="string"?n:fw(n)}return aQ(e,t,null,r)}function mr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dw(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oQ(){return Math.random().toString(36).substr(2,8)}function qy(r,e){return{usr:r.state,key:r.key,idx:e}}function ag(r,e,t,i){return t===void 0&&(t=null),nc({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?La(e):e,{state:t,key:e&&e.key||i||oQ()})}function fw(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function La(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function aQ(r,e,t,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:s=!1}=i,a=n.history,o=Cs.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(nc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Cs.Pop;let m=d(),y=m==null?null:m-u;u=m,l&&l({action:o,location:x.location,delta:y})}function p(m,y){o=Cs.Push;let b=ag(x.location,m,y);u=d()+1;let _=qy(b,u),P=x.createHref(b);try{a.pushState(_,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(P)}s&&l&&l({action:o,location:x.location,delta:1})}function v(m,y){o=Cs.Replace;let b=ag(x.location,m,y);u=d();let _=qy(b,u),P=x.createHref(b);a.replaceState(_,"",P),s&&l&&l({action:o,location:x.location,delta:0})}function S(m){let y=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof m=="string"?m:fw(m);return b=b.replace(/ $/,"%20"),mr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return o},get location(){return r(n,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(zy,f),l=m,()=>{n.removeEventListener(zy,f),l=null}},createHref(m){return e(n,m)},createURL:S,encodeLocation(m){let y=S(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:v,go(m){return a.go(m)}};return x}var Xy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Xy||(Xy={}));function lQ(r,e,t){return t===void 0&&(t="/"),cQ(r,e,t)}function cQ(r,e,t,i){let n=typeof e=="string"?La(e):e,s=gw(n.pathname||"/",t);if(s==null)return null;let a=pw(r);hQ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=_Q(s);o=xQ(a[l],u)}return o}function pw(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let n=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(mr(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=po([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(mr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pw(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:OQ(u,s.index),routesMeta:d})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))n(s,a);else for(let l of mw(s.path))n(s,a,l)}),e}function mw(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,n=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return n?[s,""]:[s];let a=mw(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),n&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function hQ(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:vQ(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const uQ=/^:[\w-]+$/,dQ=3,fQ=2,pQ=1,mQ=10,gQ=-2,Wy=r=>r==="*";function OQ(r,e){let t=r.split("/"),i=t.length;return t.some(Wy)&&(i+=gQ),e&&(i+=fQ),t.filter(n=>!Wy(n)).reduce((n,s)=>n+(uQ.test(s)?dQ:s===""?pQ:mQ),i)}function vQ(r,e){return r.length===e.length&&r.slice(0,-1).every((i,n)=>i===e[n])?r[r.length-1]-e[e.length-1]:0}function xQ(r,e,t){let{routesMeta:i}=r,n={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=yQ({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(n,f.params),a.push({params:n,pathname:po([s,f.pathname]),pathnameBase:TQ(po([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=po([s,f.pathnameBase]))}return a}function yQ(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=bQ(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:i.reduce((u,d,f)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let x=o[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const S=o[f];return v&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:r}}function bQ(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),dw(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function _Q(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dw(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function gw(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function SQ(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:n=""}=typeof r=="string"?La(r):r;return{pathname:t?t.startsWith("/")?t:wQ(t,e):e,search:EQ(i),hash:QQ(n)}}function wQ(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function Xp(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kQ(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function CQ(r,e){let t=kQ(r);return e?t.map((i,n)=>n===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function PQ(r,e,t,i){i===void 0&&(i=!1);let n;typeof r=="string"?n=La(r):(n=nc({},r),mr(!n.pathname||!n.pathname.includes("?"),Xp("?","pathname","search",n)),mr(!n.pathname||!n.pathname.includes("#"),Xp("#","pathname","hash",n)),mr(!n.search||!n.search.includes("#"),Xp("#","search","hash",n)));let s=r===""||n.pathname==="",a=s?"/":n.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=SQ(n,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const po=r=>r.join("/").replace(/\/\/+/g,"/"),TQ=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),EQ=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QQ=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function RQ(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Ow=["post","put","patch","delete"];new Set(Ow);const $Q=["get",...Ow];new Set($Q);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},sc.apply(this,arguments)}const q0=F.createContext(null),AQ=F.createContext(null),Ad=F.createContext(null),Ld=F.createContext(null),wo=F.createContext({outlet:null,matches:[],isDataRoute:!1}),vw=F.createContext(null);function Md(){return F.useContext(Ld)!=null}function xw(){return Md()||mr(!1),F.useContext(Ld).location}function yw(r){F.useContext(Ad).static||F.useLayoutEffect(r)}function LQ(){let{isDataRoute:r}=F.useContext(wo);return r?UQ():MQ()}function MQ(){Md()||mr(!1);let r=F.useContext(q0),{basename:e,future:t,navigator:i}=F.useContext(Ad),{matches:n}=F.useContext(wo),{pathname:s}=xw(),a=JSON.stringify(CQ(n,t.v7_relativeSplatPath)),o=F.useRef(!1);return yw(()=>{o.current=!0}),F.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let f=PQ(u,JSON.parse(a),s,d.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:po([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,a,s,r])}function jQ(){let{matches:r}=F.useContext(wo),e=r[r.length-1];return e?e.params:{}}function NQ(r,e){return DQ(r,e)}function DQ(r,e,t,i){Md()||mr(!1);let{navigator:n}=F.useContext(Ad),{matches:s}=F.useContext(wo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=xw(),d;if(e){var f;let m=typeof e=="string"?La(e):e;l==="/"||(f=m.pathname)!=null&&f.startsWith(l)||mr(!1),d=m}else d=u;let p=d.pathname||"/",v=p;if(l!=="/"){let m=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let S=lQ(r,{pathname:v}),x=XQ(S&&S.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:po([l,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:po([l,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,t,i);return e&&x?F.createElement(Ld.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},x):x}function IQ(){let r=VQ(),e=RQ(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:n},t):null,null)}const BQ=F.createElement(IQ,null);class zQ extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(wo.Provider,{value:this.props.routeContext},F.createElement(vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qQ(r){let{routeContext:e,match:t,children:i}=r,n=F.useContext(q0);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(wo.Provider,{value:e},i)}function XQ(r,e,t,i){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(n=t)==null?void 0:n.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);d>=0||mr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:v}=t,S=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||S){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let v,S=!1,x=null,m=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||BQ,l&&(u<0&&p===0?(HQ("route-fallback"),S=!0,m=null):u===p&&(S=!0,m=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,p+1)),b=()=>{let _;return v?_=x:S?_=m:f.route.Component?_=F.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,F.createElement(qQ,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:_})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?F.createElement(zQ,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var bw=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(bw||{}),_w=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(_w||{});function WQ(r){let e=F.useContext(q0);return e||mr(!1),e}function FQ(r){let e=F.useContext(AQ);return e||mr(!1),e}function ZQ(r){let e=F.useContext(wo);return e||mr(!1),e}function Sw(r){let e=ZQ(),t=e.matches[e.matches.length-1];return t.route.id||mr(!1),t.route.id}function VQ(){var r;let e=F.useContext(vw),t=FQ(),i=Sw();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function UQ(){let{router:r}=WQ(bw.UseNavigateStable),e=Sw(_w.UseNavigateStable),t=F.useRef(!1);return yw(()=>{t.current=!0}),F.useCallback(function(n,s){s===void 0&&(s={}),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,sc({fromRouteId:e},s)))},[r,e])}const Fy={};function HQ(r,e,t){Fy[r]||(Fy[r]=!0)}function YQ(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function lg(r){mr(!1)}function GQ(r){let{basename:e="/",children:t=null,location:i,navigationType:n=Cs.Pop,navigator:s,static:a=!1,future:o}=r;Md()&&mr(!1);let l=e.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:s,static:a,future:sc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=La(i));let{pathname:d="/",search:f="",hash:p="",state:v=null,key:S="default"}=i,x=F.useMemo(()=>{let m=gw(d,l);return m==null?null:{location:{pathname:m,search:f,hash:p,state:v,key:S},navigationType:n}},[l,d,f,p,v,S,n]);return x==null?null:F.createElement(Ad.Provider,{value:u},F.createElement(Ld.Provider,{children:t,value:x}))}function KQ(r){let{children:e,location:t}=r;return NQ(cg(e),t)}new Promise(()=>{});function cg(r,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(r,(i,n)=>{if(!F.isValidElement(i))return;let s=[...e,n];if(i.type===F.Fragment){t.push.apply(t,cg(i.props.children,s));return}i.type!==lg&&mr(!1),!i.props.index||!i.props.children||mr(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=cg(i.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const JQ="6";try{window.__reactRouterVersion=JQ}catch{}const eR="startTransition",Zy=KE[eR];function tR(r){let{basename:e,children:t,future:i,window:n}=r,s=F.useRef();s.current==null&&(s.current=sQ({window:n,v5Compat:!0}));let a=s.current,[o,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},d=F.useCallback(f=>{u&&Zy?Zy(()=>l(f)):l(f)},[l,u]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.useEffect(()=>YQ(i),[i]),F.createElement(GQ,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:i})}var Vy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Vy||(Vy={}));var Uy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Uy||(Uy={}));function ww(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=ww(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function kw(){for(var r,e,t=0,i="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=ww(r))&&(i&&(i+=" "),i+=e);return i}const X0="-",rR=r=>{const e=nR(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:a=>{const o=a.split(X0);return o[0]===""&&o.length!==1&&o.shift(),Cw(o,e)||iR(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&i[a]?[...l,...i[a]]:l}}},Cw=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),n=i?Cw(r.slice(1),i):void 0;if(n)return n;if(e.validators.length===0)return;const s=r.join(X0);return e.validators.find(({validator:a})=>a(s))?.classGroupId},Hy=/^\[(.+)\]$/,iR=r=>{if(Hy.test(r)){const e=Hy.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},nR=r=>{const{theme:e,classGroups:t}=r,i={nextPart:new Map,validators:[]};for(const n in t)hg(t[n],i,n,e);return i},hg=(r,e,t,i)=>{r.forEach(n=>{if(typeof n=="string"){const s=n===""?e:Yy(e,n);s.classGroupId=t;return}if(typeof n=="function"){if(sR(n)){hg(n(i),e,t,i);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([s,a])=>{hg(a,Yy(e,s),t,i)})})},Yy=(r,e)=>{let t=r;return e.split(X0).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},sR=r=>r.isThemeGetter,oR=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const n=(s,a)=>{t.set(s,a),e++,e>r&&(e=0,i=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return n(s,a),a},set(s,a){t.has(s)?t.set(s,a):n(s,a)}}},ug="!",dg=":",aR=dg.length,lR=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=n=>{const s=[];let a=0,o=0,l=0,u;for(let S=0;S<n.length;S++){let x=n[S];if(a===0&&o===0){if(x===dg){s.push(n.slice(l,S)),l=S+aR;continue}if(x==="/"){u=S;continue}}x==="["?a++:x==="]"?a--:x==="("?o++:x===")"&&o--}const d=s.length===0?n:n.substring(l),f=cR(d),p=f!==d,v=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}};if(e){const n=e+dg,s=i;i=a=>a.startsWith(n)?s(a.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const n=i;i=s=>t({className:s,parseClassName:n})}return i},cR=r=>r.endsWith(ug)?r.substring(0,r.length-1):r.startsWith(ug)?r.substring(1):r,hR=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const n=[];let s=[];return i.forEach(a=>{a[0]==="["||e[a]?(n.push(...s.sort(),a),s=[]):s.push(a)}),n.push(...s.sort()),n}},uR=r=>({cache:oR(r.cacheSize),parseClassName:lR(r),sortModifiers:hR(r),...rR(r)}),dR=/\s+/,fR=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:n,sortModifiers:s}=e,a=[],o=r.trim().split(dR);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:f,modifiers:p,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:x}=t(d);if(f){l=d+(l.length>0?" "+l:l);continue}let m=!!x,y=i(m?S.substring(0,x):S);if(!y){if(!m){l=d+(l.length>0?" "+l:l);continue}if(y=i(S),!y){l=d+(l.length>0?" "+l:l);continue}m=!1}const b=s(p).join(":"),_=v?b+ug:b,P=_+y;if(a.includes(P))continue;a.push(P);const T=n(y,m);for(let C=0;C<T.length;++C){const R=T[C];a.push(_+R)}l=d+(l.length>0?" "+l:l)}return l};function pR(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Pw(e))&&(i&&(i+=" "),i+=t);return i}const Pw=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=Pw(r[i]))&&(t&&(t+=" "),t+=e);return t};function mR(r,...e){let t,i,n,s=a;function a(l){const u=e.reduce((d,f)=>f(d),r());return t=uR(u),i=t.cache.get,n=t.cache.set,s=o,o(l)}function o(l){const u=i(l);if(u)return u;const d=fR(l,t);return n(l,d),d}return function(){return s(pR.apply(null,arguments))}}const dr=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Tw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ew=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gR=/^\d+\/\d+$/,OR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=r=>gR.test(r),vt=r=>!!r&&!Number.isNaN(Number(r)),xs=r=>!!r&&Number.isInteger(Number(r)),Wp=r=>r.endsWith("%")&&vt(r.slice(0,-1)),Nn=r=>OR.test(r),_R=()=>!0,SR=r=>vR.test(r)&&!xR.test(r),Qw=()=>!1,wR=r=>yR.test(r),kR=r=>bR.test(r),CR=r=>!Ke(r)&&!Je(r),PR=r=>Ma(r,Aw,Qw),Ke=r=>Tw.test(r),ro=r=>Ma(r,Lw,SR),Fp=r=>Ma(r,$R,vt),Gy=r=>Ma(r,Rw,Qw),TR=r=>Ma(r,$w,kR),Gh=r=>Ma(r,Mw,wR),Je=r=>Ew.test(r),Cl=r=>ja(r,Lw),ER=r=>ja(r,AR),Ky=r=>ja(r,Rw),QR=r=>ja(r,Aw),RR=r=>ja(r,$w),Kh=r=>ja(r,Mw,!0),Ma=(r,e,t)=>{const i=Tw.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},ja=(r,e,t=!1)=>{const i=Ew.exec(r);return i?i[1]?e(i[1]):t:!1},Rw=r=>r==="position"||r==="percentage",$w=r=>r==="image"||r==="url",Aw=r=>r==="length"||r==="size"||r==="bg-size",Lw=r=>r==="length",$R=r=>r==="number",AR=r=>r==="family-name",Mw=r=>r==="shadow",LR=()=>{const r=dr("color"),e=dr("font"),t=dr("text"),i=dr("font-weight"),n=dr("tracking"),s=dr("leading"),a=dr("breakpoint"),o=dr("container"),l=dr("spacing"),u=dr("radius"),d=dr("shadow"),f=dr("inset-shadow"),p=dr("text-shadow"),v=dr("drop-shadow"),S=dr("blur"),x=dr("perspective"),m=dr("aspect"),y=dr("ease"),b=dr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...P(),Je,Ke],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],k=()=>[Je,Ke,l],E=()=>[Jo,"full","auto",...k()],$=()=>[xs,"none","subgrid",Je,Ke],D=()=>["auto",{span:["full",xs,Je,Ke]},xs,Je,Ke],A=()=>[xs,"auto",Je,Ke],N=()=>["auto","min","max","fr",Je,Ke],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...k()],Y=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],L=()=>[r,Je,Ke],z=()=>[...P(),Ky,Gy,{position:[Je,Ke]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",QR,PR,{size:[Je,Ke]}],U=()=>[Wp,Cl,ro],W=()=>["","none","full",u,Je,Ke],se=()=>["",vt,Cl,ro],le=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[vt,Wp,Ky,Gy],ee=()=>["","none",S,Je,Ke],ie=()=>["none",vt,Je,Ke],G=()=>["none",vt,Je,Ke],me=()=>[vt,Je,Ke],be=()=>[Jo,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nn],breakpoint:[Nn],color:[_R],container:[Nn],"drop-shadow":[Nn],ease:["in","out","in-out"],font:[CR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nn],shadow:[Nn],spacing:["px",vt],text:[Nn],"text-shadow":[Nn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,Ke,Je,m]}],container:["container"],columns:[{columns:[vt,Ke,Je,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[xs,"auto",Je,Ke]}],basis:[{basis:[Jo,"full","auto",o,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,Jo,"auto","initial","none",Ke]}],grow:[{grow:["",vt,Je,Ke]}],shrink:[{shrink:["",vt,Je,Ke]}],order:[{order:[xs,"first","last","none",Je,Ke]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[o,"screen",...Y()]}],"min-w":[{"min-w":[o,"screen","none",...Y()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",t,Cl,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Je,Fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wp,Ke]}],"font-family":[{font:[ER,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Je,Ke]}],"line-clamp":[{"line-clamp":[vt,"none",Je,Fp]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",Je,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",Je,ro]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[vt,"auto",Je,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xs,Je,Ke],radial:["",Je,Ke],conic:[xs,Je,Ke]},RR,TR]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,Je,Ke]}],"outline-w":[{outline:["",vt,Cl,ro]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,Kh,Gh]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",f,Kh,Gh]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[vt,ro]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,Kh,Gh]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[vt,Je,Ke]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Je,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ke]}],filter:[{filter:["","none",Je,Ke]}],blur:[{blur:ee()}],brightness:[{brightness:[vt,Je,Ke]}],contrast:[{contrast:[vt,Je,Ke]}],"drop-shadow":[{"drop-shadow":["","none",v,Kh,Gh]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",vt,Je,Ke]}],"hue-rotate":[{"hue-rotate":[vt,Je,Ke]}],invert:[{invert:["",vt,Je,Ke]}],saturate:[{saturate:[vt,Je,Ke]}],sepia:[{sepia:["",vt,Je,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ke]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[vt,Je,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[vt,Je,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,Je,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,Je,Ke]}],"backdrop-invert":[{"backdrop-invert":["",vt,Je,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[vt,Je,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[vt,Je,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,Je,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",Je,Ke]}],ease:[{ease:["linear","initial",y,Je,Ke]}],delay:[{delay:[vt,Je,Ke]}],animate:[{animate:["none",b,Je,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Je,Ke]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[Je,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ke]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[vt,Cl,ro,Fp]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},MR=mR(LR);function fr(...r){return MR(kw(r))}const W0=F.forwardRef(({className:r,children:e,...t},i)=>g.jsx("div",{ref:i,className:fr("relative overflow-hidden",r),...t,children:g.jsx("div",{className:"h-full w-full rounded-[inherit] overflow-auto",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:e})}));W0.displayName="ScrollArea";const Jy=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,e1=kw,jw=(r,e)=>t=>{var i;if(e?.variants==null)return e1(r,t?.class,t?.className);const{variants:n,defaultVariants:s}=e,a=Object.keys(n).map(u=>{const d=t?.[u],f=s?.[u];if(d===null)return null;const p=Jy(d)||Jy(f);return n[u][p]}),o=t&&Object.entries(t).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,d)=>{let{class:f,className:p,...v}=d;return Object.entries(v).every(S=>{let[x,m]=S;return Array.isArray(m)?m.includes({...s,...o}[x]):{...s,...o}[x]===m})?[...u,f,p]:u},[]);return e1(r,a,l,t?.class,t?.className)},jR=jw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),bt=F.forwardRef(({className:r,variant:e,size:t,...i},n)=>g.jsx("button",{className:fr(jR({variant:e,size:t,className:r})),ref:n,...i}));bt.displayName="Button";const NR=jw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ya({className:r,variant:e,...t}){return g.jsx("div",{className:fr(NR({variant:e}),r),...t})}const Wn=F.forwardRef(({className:r,type:e,...t},i)=>g.jsx("input",{type:e,className:fr("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:i,...t}));Wn.displayName="Input";/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),t1=r=>{const e=IR(r);return e.charAt(0).toUpperCase()+e.slice(1)},Nw=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),BR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:n="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...zR,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Nw("lucide",n),...!s&&!BR(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(r,e)=>{const t=F.forwardRef(({className:i,...n},s)=>F.createElement(qR,{ref:s,iconNode:e,className:Nw(`lucide-${DR(t1(r))}`,`lucide-${r}`,i),...n}));return t.displayName=t1(r),t};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],WR=ct("arrow-down",XR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ZR=ct("brain",FR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ca=ct("check",VR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ws=ct("chevron-down",UR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YR=ct("chevron-left",HR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ha=ct("chevron-right",GR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JR=ct("circle-check",KR);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t3=ct("circle",e3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],fg=ct("clock",r3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pg=ct("download",i3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F0=ct("eye",n3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],o3=ct("eye-off",s3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],l3=ct("file-code",a3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z0=ct("file-text",c3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],r1=ct("file",h3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Zl=ct("folder-open",u3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Jh=ct("folder-plus",d3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ps=ct("folder",f3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],mg=ct("git-branch",p3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],i1=ct("git-commit-horizontal",m3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],O3=ct("globe",g3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],n1=ct("history",v3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y3=ct("info",x3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],_3=ct("languages",b3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],w3=ct("list",S3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],C3=ct("loader-circle",k3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Dw=ct("maximize-2",P3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],co=ct("message-square",T3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],$u=ct("mic",E3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],R3=ct("minimize-2",Q3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Iw=ct("moon",$3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],gg=ct("pen-line",A3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],M3=ct("pen",L3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],s1=ct("play",j3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mo=ct("plus",N3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bs=ct("refresh-cw",D3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],B3=ct("save",I3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],o1=ct("search",z3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],a1=ct("server",q3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gu=ct("settings",X3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],F3=ct("settings-2",W3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],V3=ct("shield",Z3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Bw=ct("sparkles",U3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],l1=ct("star",H3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zw=ct("sun",Y3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],K3=ct("table-properties",G3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],qw=ct("terminal",J3);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zn=ct("trash-2",e$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Og=ct("triangle-alert",t$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eu=ct("upload",r$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fi=ct("x",i$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],s$=ct("zap",n$),Xw=({className:r="w-5 h-5"})=>g.jsx("img",{src:"/icons/claude-ai-icon.svg",alt:"Claude",className:r}),Rt=(r,e={})=>{const t=localStorage.getItem("auth-token"),i={"Content-Type":"application/json"};return t&&(i.Authorization=`Bearer ${t}`),fetch(r,{...e,headers:{...i,...e.headers}})},br={auth:{status:()=>fetch("/api/auth/status"),login:(r,e)=>fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:e})}),register:(r,e)=>fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:e})}),user:()=>Rt("/api/auth/user"),logout:()=>Rt("/api/auth/logout",{method:"POST"})},config:()=>Rt("/api/config"),projects:()=>Rt("/api/projects"),sessions:(r,e=5,t=0)=>Rt(`/api/projects/${r}/sessions?limit=${e}&offset=${t}`),sessionMessages:(r,e)=>Rt(`/api/projects/${r}/sessions/${e}/messages`),renameProject:(r,e)=>Rt(`/api/projects/${r}/rename`,{method:"PUT",body:JSON.stringify({displayName:e})}),deleteSession:(r,e)=>Rt(`/api/projects/${r}/sessions/${e}`,{method:"DELETE"}),deleteProject:r=>Rt(`/api/projects/${r}`,{method:"DELETE"}),createProject:r=>Rt("/api/projects/create",{method:"POST",body:JSON.stringify({path:r})}),readFile:(r,e)=>Rt(`/api/projects/${r}/file?filePath=${encodeURIComponent(e)}`),saveFile:(r,e,t)=>Rt(`/api/projects/${r}/file`,{method:"PUT",body:JSON.stringify({filePath:e,content:t})}),getFiles:r=>Rt(`/api/projects/${r}/files`),transcribe:r=>Rt("/api/transcribe",{method:"POST",body:r,headers:{}})},c1=(r,e)=>{const t=new Date(r),i=e;if(isNaN(t.getTime()))return"Unknown";const n=i-t,s=Math.floor(n/1e3),a=Math.floor(n/(1e3*60)),o=Math.floor(n/(1e3*60*60)),l=Math.floor(n/(1e3*60*60*24));return s<60?"Just now":a===1?"1 min ago":a<60?`${a} mins ago`:o===1?"1 hour ago":o<24?`${o} hours ago`:l===1?"1 day ago":l<7?`${l} days ago`:t.toLocaleDateString()};function h1({projects:r,selectedProject:e,selectedSession:t,onProjectSelect:i,onSessionSelect:n,onNewSession:s,onSessionDelete:a,onProjectDelete:o,isLoading:l,onRefresh:u,onShowSettings:d,updateAvailable:f,latestVersion:p,currentVersion:v,onShowVersionModal:S}){const[x,m]=F.useState(new Set),[y,b]=F.useState(null),[_,P]=F.useState(!1),[T,C]=F.useState(""),[R,k]=F.useState(""),[E,$]=F.useState(!1),[D,A]=F.useState({}),[N,q]=F.useState({}),[V,K]=F.useState(new Set),[Y,L]=F.useState(new Date),[z,M]=F.useState("name"),[I,U]=F.useState(!1),[W,se]=F.useState(null),[le,ae]=F.useState(""),[B,ee]=F.useState({}),[ie,G]=F.useState(""),[me,be]=F.useState(()=>{try{const te=localStorage.getItem("starredProjects");return te?new Set(JSON.parse(te)):new Set}catch(te){return console.error("Error loading starred projects:",te),new Set}}),Ie=te=>H=>{H.target.closest(".overflow-y-auto")||H.target.closest("[data-scroll-container]")||(H.preventDefault(),H.stopPropagation(),te())};F.useEffect(()=>{const te=setInterval(()=>{L(new Date)},6e4);return()=>clearInterval(te)},[]),F.useEffect(()=>{q({}),K(new Set)},[r]),F.useEffect(()=>{t&&e&&m(te=>new Set([...te,e.name]))},[t,e]),F.useEffect(()=>{if(r.length>0&&!l){const te=new Set;r.forEach(H=>{H.sessions&&H.sessions.length>=0&&te.add(H.name)}),K(te)}},[r,l]),F.useEffect(()=>{const te=()=>{try{const Oe=localStorage.getItem("claude-tools-settings");if(Oe){const pe=JSON.parse(Oe);M(pe.projectSortOrder||"name")}}catch(Oe){console.error("Error loading sort order:",Oe)}};te();const H=Oe=>{Oe.key==="claude-tools-settings"&&te()};window.addEventListener("storage",H);const de=setInterval(()=>{document.hasFocus()&&te()},1e3);return()=>{window.removeEventListener("storage",H),clearInterval(de)}},[]);const qe=te=>{const H=new Set(x);H.has(te)?H.delete(te):H.add(te),m(H)},st=te=>{const H=new Set(me);H.has(te)?H.delete(te):H.add(te),be(H);try{localStorage.setItem("starredProjects",JSON.stringify([...H]))}catch(de){console.error("Error saving starred projects:",de)}},_e=te=>me.has(te),Se=te=>{const H=te.sessions||[],de=N[te.name]||[];return[...H,...de]},Ee=te=>{const H=Se(te);return H.length===0?new Date(0):H.reduce((Oe,pe)=>{const ot=new Date(pe.lastActivity);return ot>Oe?ot:Oe},new Date(0))},et=[...r].sort((te,H)=>{const de=_e(te.name),Oe=_e(H.name);if(de&&!Oe)return-1;if(!de&&Oe)return 1;if(z==="date")return Ee(H)-Ee(te);{const pe=te.displayName||te.name,ot=H.displayName||H.name;return pe.localeCompare(ot)}}),Be=te=>{b(te.name),C(te.displayName)},Xe=()=>{b(null),C("")},$e=async te=>{try{(await br.renameProject(te,T)).ok?window.refreshProjects?window.refreshProjects():window.location.reload():console.error("Failed to rename project")}catch(H){console.error("Error renaming project:",H)}b(null),C("")},Qe=async(te,H)=>{if(confirm("Are you sure you want to delete this session? This action cannot be undone."))try{(await br.deleteSession(te,H)).ok?a&&a(H):(console.error("Failed to delete session"),alert("Failed to delete session. Please try again."))}catch(de){console.error("Error deleting session:",de),alert("Error deleting session. Please try again.")}},ve=async te=>{if(confirm("Are you sure you want to delete this empty project? This action cannot be undone."))try{const H=await br.deleteProject(te);if(H.ok)o&&o(te);else{const de=await H.json();console.error("Failed to delete project"),alert(de.error||"Failed to delete project. Please try again.")}}catch(H){console.error("Error deleting project:",H),alert("Error deleting project. Please try again.")}},Pe=async()=>{if(!R.trim()){alert("Please enter a project path");return}$(!0);try{const te=await br.createProject(R.trim());if(te.ok){const H=await te.json();P(!1),k(""),window.refreshProjects?window.refreshProjects():window.location.reload()}else{const H=await te.json();alert(H.error||"Failed to create project. Please try again.")}}catch(te){console.error("Error creating project:",te),alert("Error creating project. Please try again.")}finally{$(!1)}},oe=()=>{P(!1),k("")},xe=async te=>{if(!(!(te.sessionMeta?.hasMore!==!1)||D[te.name])){A(de=>({...de,[te.name]:!0}));try{const de=(te.sessions?.length||0)+(N[te.name]?.length||0),Oe=await br.sessions(te.name,5,de);if(Oe.ok){const pe=await Oe.json();q(ot=>({...ot,[te.name]:[...ot[te.name]||[],...pe.sessions]})),pe.hasMore===!1&&(te.sessionMeta={...te.sessionMeta,hasMore:!1})}}catch(de){console.error("Error loading more sessions:",de)}finally{A(de=>({...de,[te.name]:!1}))}}},je=et.filter(te=>{if(!ie.trim())return!0;const H=ie.toLowerCase(),de=(te.displayName||te.name).toLowerCase(),Oe=te.name.toLowerCase();return de.includes(H)||Oe.includes(H)});return g.jsxs("div",{className:"h-full flex flex-col bg-card md:select-none",children:[g.jsxs("div",{className:"md:p-4 md:border-b md:border-border",children:[g.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center shadow-sm",children:g.jsx(co,{className:"w-4 h-4 text-primary-foreground"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Claude Code UI"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"AI coding assistant interface"})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(bt,{variant:"ghost",size:"sm",className:"h-9 w-9 px-0 hover:bg-accent transition-colors duration-200 group",onClick:async()=>{U(!0);try{await u()}finally{U(!1)}},disabled:I,title:"Refresh projects and sessions (Ctrl+R)",children:g.jsx(bs,{className:`w-4 h-4 ${I?"animate-spin":""} group-hover:rotate-180 transition-transform duration-300`})}),g.jsx(bt,{variant:"default",size:"sm",className:"h-9 w-9 px-0 bg-primary hover:bg-primary/90 transition-all duration-200 shadow-sm hover:shadow-md",onClick:()=>P(!0),title:"Create new project (Ctrl+N)",children:g.jsx(Jh,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"md:hidden p-3 border-b border-border",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:g.jsx(co,{className:"w-4 h-4 text-primary-foreground"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Claude Code UI"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Projects"})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:"w-8 h-8 rounded-md bg-background border border-border flex items-center justify-center active:scale-95 transition-all duration-150",onClick:async()=>{U(!0);try{await u()}finally{U(!1)}},disabled:I,children:g.jsx(bs,{className:`w-4 h-4 text-foreground ${I?"animate-spin":""}`})}),g.jsx("button",{className:"w-8 h-8 rounded-md bg-primary text-primary-foreground flex items-center justify-center active:scale-95 transition-all duration-150",onClick:()=>P(!0),children:g.jsx(Jh,{className:"w-4 h-4"})})]})]})})]}),_&&g.jsxs("div",{className:"md:p-3 md:border-b md:border-border md:bg-muted/30",children:[g.jsxs("div",{className:"hidden md:block space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[g.jsx(Jh,{className:"w-4 h-4"}),"Create New Project"]}),g.jsx(Wn,{value:R,onChange:te=>k(te.target.value),placeholder:"/path/to/project or relative/path",className:"text-sm focus:ring-2 focus:ring-primary/20",autoFocus:!0,onKeyDown:te=>{te.key==="Enter"&&Pe(),te.key==="Escape"&&oe()}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(bt,{size:"sm",onClick:Pe,disabled:!R.trim()||E,className:"flex-1 h-8 text-xs hover:bg-primary/90 transition-colors",children:E?"Creating...":"Create Project"}),g.jsx(bt,{size:"sm",variant:"outline",onClick:oe,disabled:E,className:"h-8 text-xs hover:bg-accent transition-colors",children:"Cancel"})]})]}),g.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",children:g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-card rounded-t-lg border-t border-border p-4 space-y-4 animate-in slide-in-from-bottom duration-300",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-md flex items-center justify-center",children:g.jsx(Jh,{className:"w-3 h-3 text-primary"})}),g.jsx("div",{children:g.jsx("h2",{className:"text-base font-semibold text-foreground",children:"New Project"})})]}),g.jsx("button",{onClick:oe,disabled:E,className:"w-6 h-6 rounded-md bg-muted flex items-center justify-center active:scale-95 transition-transform",children:g.jsx(Fi,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Wn,{value:R,onChange:te=>k(te.target.value),placeholder:"/path/to/project or relative/path",className:"text-sm h-10 rounded-md focus:border-primary transition-colors",autoFocus:!0,onKeyDown:te=>{te.key==="Enter"&&Pe(),te.key==="Escape"&&oe()}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(bt,{onClick:oe,disabled:E,variant:"outline",className:"flex-1 h-9 text-sm rounded-md active:scale-95 transition-transform",children:"Cancel"}),g.jsx(bt,{onClick:Pe,disabled:!R.trim()||E,className:"flex-1 h-9 text-sm rounded-md bg-primary hover:bg-primary/90 active:scale-95 transition-all",children:E?"Creating...":"Create"})]})]}),g.jsx("div",{className:"h-4"})]})})]}),r.length>0&&!l&&g.jsx("div",{className:"px-3 md:px-4 py-2 border-b border-border",children:g.jsxs("div",{className:"relative",children:[g.jsx(o1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),g.jsx(Wn,{type:"text",placeholder:"Search projects...",value:ie,onChange:te=>G(te.target.value),className:"pl-9 h-9 text-sm bg-muted/50 border-0 focus:bg-background focus:ring-1 focus:ring-primary/20"}),ie&&g.jsx("button",{onClick:()=>G(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-accent rounded",children:g.jsx(Fi,{className:"w-3 h-3 text-muted-foreground"})})]})}),g.jsx(W0,{className:"flex-1 md:px-2 md:py-3 overflow-y-auto overscroll-contain",children:g.jsx("div",{className:"md:space-y-1 pb-safe-area-inset-bottom",children:l?g.jsxs("div",{className:"text-center py-12 md:py-8 px-4",children:[g.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4 md:mb-3",children:g.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent"})}),g.jsx("h3",{className:"text-base font-medium text-foreground mb-2 md:mb-1",children:"Loading projects..."}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching your Claude projects and sessions"})]}):r.length===0?g.jsxs("div",{className:"text-center py-12 md:py-8 px-4",children:[g.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4 md:mb-3",children:g.jsx(Ps,{className:"w-6 h-6 text-muted-foreground"})}),g.jsx("h3",{className:"text-base font-medium text-foreground mb-2 md:mb-1",children:"No projects found"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Run Claude CLI in a project directory to get started"})]}):je.length===0?g.jsxs("div",{className:"text-center py-12 md:py-8 px-4",children:[g.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-4 md:mb-3",children:g.jsx(o1,{className:"w-6 h-6 text-muted-foreground"})}),g.jsx("h3",{className:"text-base font-medium text-foreground mb-2 md:mb-1",children:"No matching projects"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search term"})]}):je.map(te=>{const H=x.has(te.name),de=e?.name===te.name,Oe=_e(te.name);return g.jsxs("div",{className:"md:space-y-1",children:[g.jsxs("div",{className:"group md:group",children:[g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:fr("p-3 mx-3 my-1 rounded-lg bg-card border border-border/50 active:scale-[0.98] transition-all duration-150",de&&"bg-primary/5 border-primary/20",Oe&&!de&&"bg-yellow-50/50 dark:bg-yellow-900/5 border-yellow-200/30 dark:border-yellow-800/30"),onClick:()=>{qe(te.name)},onTouchEnd:Ie(()=>qe(te.name)),children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[g.jsx("div",{className:fr("w-8 h-8 rounded-lg flex items-center justify-center transition-colors",H?"bg-primary/10":"bg-muted"),children:H?g.jsx(Zl,{className:"w-4 h-4 text-primary"}):g.jsx(Ps,{className:"w-4 h-4 text-muted-foreground"})}),g.jsx("div",{className:"min-w-0 flex-1",children:y===te.name?g.jsx("input",{type:"text",value:T,onChange:pe=>C(pe.target.value),className:"w-full px-3 py-2 text-sm border-2 border-primary/40 focus:border-primary rounded-lg bg-background text-foreground shadow-sm focus:shadow-md transition-all duration-200 focus:outline-none",placeholder:"Project name",autoFocus:!0,autoComplete:"off",onClick:pe=>pe.stopPropagation(),onKeyDown:pe=>{pe.key==="Enter"&&$e(te.name),pe.key==="Escape"&&Xe()},style:{fontSize:"16px",WebkitAppearance:"none",borderRadius:"8px"}}):g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"text-sm font-medium text-foreground truncate",children:te.displayName}),g.jsx("p",{className:"text-xs text-muted-foreground",children:(()=>{const pe=Se(te).length,Pt=te.sessionMeta?.hasMore!==!1&&pe>=5?`${pe}+`:pe;return`${Pt} session${Pt===1?"":"s"}`})()})]})})]}),g.jsx("div",{className:"flex items-center gap-1",children:y===te.name?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"w-8 h-8 rounded-lg bg-green-500 dark:bg-green-600 flex items-center justify-center active:scale-90 transition-all duration-150 shadow-sm active:shadow-none",onClick:pe=>{pe.stopPropagation(),$e(te.name)},children:g.jsx(ca,{className:"w-4 h-4 text-white"})}),g.jsx("button",{className:"w-8 h-8 rounded-lg bg-gray-500 dark:bg-gray-600 flex items-center justify-center active:scale-90 transition-all duration-150 shadow-sm active:shadow-none",onClick:pe=>{pe.stopPropagation(),Xe()},children:g.jsx(Fi,{className:"w-4 h-4 text-white"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:fr("w-8 h-8 rounded-lg flex items-center justify-center active:scale-90 transition-all duration-150 border",Oe?"bg-yellow-500/10 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-800":"bg-gray-500/10 dark:bg-gray-900/30 border-gray-200 dark:border-gray-800"),onClick:pe=>{pe.stopPropagation(),st(te.name)},onTouchEnd:Ie(()=>st(te.name)),title:Oe?"Remove from favorites":"Add to favorites",children:g.jsx(l1,{className:fr("w-4 h-4 transition-colors",Oe?"text-yellow-600 dark:text-yellow-400 fill-current":"text-gray-600 dark:text-gray-400")})}),Se(te).length===0&&g.jsx("button",{className:"w-8 h-8 rounded-lg bg-red-500/10 dark:bg-red-900/30 flex items-center justify-center active:scale-90 border border-red-200 dark:border-red-800",onClick:pe=>{pe.stopPropagation(),ve(te.name)},onTouchEnd:Ie(()=>ve(te.name)),children:g.jsx(Zn,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),g.jsx("button",{className:"w-8 h-8 rounded-lg bg-primary/10 dark:bg-primary/20 flex items-center justify-center active:scale-90 border border-primary/20 dark:border-primary/30",onClick:pe=>{pe.stopPropagation(),Be(te)},onTouchEnd:Ie(()=>Be(te)),children:g.jsx(gg,{className:"w-4 h-4 text-primary"})}),g.jsx("div",{className:"w-6 h-6 rounded-md bg-muted/30 flex items-center justify-center",children:H?g.jsx(ws,{className:"w-3 h-3 text-muted-foreground"}):g.jsx(ha,{className:"w-3 h-3 text-muted-foreground"})})]})})]})})}),g.jsxs(bt,{variant:"ghost",className:fr("hidden md:flex w-full justify-between p-2 h-auto font-normal hover:bg-accent/50",de&&"bg-accent text-accent-foreground",Oe&&!de&&"bg-yellow-50/50 dark:bg-yellow-900/10 hover:bg-yellow-100/50 dark:hover:bg-yellow-900/20"),onClick:()=>{e?.name!==te.name&&i(te),qe(te.name)},onTouchEnd:Ie(()=>{e?.name!==te.name&&i(te),qe(te.name)}),children:[g.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[H?g.jsx(Zl,{className:"w-4 h-4 text-primary flex-shrink-0"}):g.jsx(Ps,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),g.jsx("div",{className:"min-w-0 flex-1 text-left",children:y===te.name?g.jsxs("div",{className:"space-y-1",children:[g.jsx("input",{type:"text",value:T,onChange:pe=>C(pe.target.value),className:"w-full px-2 py-1 text-sm border border-border rounded bg-background text-foreground focus:ring-2 focus:ring-primary/20",placeholder:"Project name",autoFocus:!0,onKeyDown:pe=>{pe.key==="Enter"&&$e(te.name),pe.key==="Escape"&&Xe()}}),g.jsx("div",{className:"text-xs text-muted-foreground truncate",title:te.fullPath,children:te.fullPath})]}):g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold truncate text-foreground",title:te.displayName,children:te.displayName}),g.jsxs("div",{className:"text-xs text-muted-foreground",children:[(()=>{const pe=Se(te).length;return te.sessionMeta?.hasMore!==!1&&pe>=5?`${pe}+`:pe})(),te.fullPath!==te.displayName&&g.jsxs("span",{className:"ml-1 opacity-60",title:te.fullPath,children:[" ",te.fullPath.length>25?"..."+te.fullPath.slice(-22):te.fullPath]})]})]})})]}),g.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:y===te.name?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-6 h-6 text-green-600 hover:text-green-700 hover:bg-green-50 dark:hover:bg-green-900/20 flex items-center justify-center rounded cursor-pointer transition-colors",onClick:pe=>{pe.stopPropagation(),$e(te.name)},children:g.jsx(ca,{className:"w-3 h-3"})}),g.jsx("div",{className:"w-6 h-6 text-gray-500 hover:text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center justify-center rounded cursor-pointer transition-colors",onClick:pe=>{pe.stopPropagation(),Xe()},children:g.jsx(Fi,{className:"w-3 h-3"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:fr("w-6 h-6 opacity-0 group-hover:opacity-100 transition-all duration-200 flex items-center justify-center rounded cursor-pointer touch:opacity-100",Oe?"hover:bg-yellow-50 dark:hover:bg-yellow-900/20 opacity-100":"hover:bg-accent"),onClick:pe=>{pe.stopPropagation(),st(te.name)},title:Oe?"Remove from favorites":"Add to favorites",children:g.jsx(l1,{className:fr("w-3 h-3 transition-colors",Oe?"text-yellow-600 dark:text-yellow-400 fill-current":"text-muted-foreground")})}),g.jsx("div",{className:"w-6 h-6 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-accent flex items-center justify-center rounded cursor-pointer touch:opacity-100",onClick:pe=>{pe.stopPropagation(),Be(te)},title:"Rename project (F2)",children:g.jsx(gg,{className:"w-3 h-3"})}),Se(te).length===0&&g.jsx("div",{className:"w-6 h-6 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center justify-center rounded cursor-pointer touch:opacity-100",onClick:pe=>{pe.stopPropagation(),ve(te.name)},title:"Delete empty project (Delete)",children:g.jsx(Zn,{className:"w-3 h-3 text-red-600 dark:text-red-400"})}),H?g.jsx(ws,{className:"w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors"}):g.jsx(ha,{className:"w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors"})]})})]})]}),H&&g.jsxs("div",{className:"ml-3 space-y-1 border-l border-border pl-3",children:[V.has(te.name)?Se(te).length===0&&!D[te.name]?g.jsx("div",{className:"py-2 px-3 text-left",children:g.jsx("p",{className:"text-xs text-muted-foreground",children:"No sessions yet"})}):Se(te).map(pe=>{const ot=new Date(pe.lastActivity),Qt=Math.floor((Y-ot)/(1e3*60))<10;return g.jsxs("div",{className:"group relative",children:[Qt&&g.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1",children:g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})}),g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:fr("p-2 mx-3 my-0.5 rounded-md bg-card border active:scale-[0.98] transition-all duration-150 relative",t?.id===pe.id?"bg-primary/5 border-primary/20":Qt?"border-green-500/30 bg-green-50/5 dark:bg-green-900/5":"border-border/30"),onClick:()=>{i(te),n(pe)},onTouchEnd:Ie(()=>{i(te),n(pe)}),children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:fr("w-5 h-5 rounded-md flex items-center justify-center flex-shrink-0",t?.id===pe.id?"bg-primary/10":"bg-muted/50"),children:g.jsx(co,{className:fr("w-3 h-3",t?.id===pe.id?"text-primary":"text-muted-foreground")})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("div",{className:"text-xs font-medium truncate text-foreground",children:pe.summary||"New Session"}),g.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[g.jsx(fg,{className:"w-2.5 h-2.5 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:c1(pe.lastActivity,Y)}),pe.messageCount>0&&g.jsx(ya,{variant:"secondary",className:"text-xs px-1 py-0 ml-auto",children:pe.messageCount})]})]}),g.jsx("button",{className:"w-5 h-5 rounded-md bg-red-50 dark:bg-red-900/20 flex items-center justify-center active:scale-95 transition-transform opacity-70 ml-1",onClick:Ot=>{Ot.stopPropagation(),Qe(te.name,pe.id)},onTouchEnd:Ie(()=>Qe(te.name,pe.id)),children:g.jsx(Zn,{className:"w-2.5 h-2.5 text-red-600 dark:text-red-400"})})]})})}),g.jsxs("div",{className:"hidden md:block",children:[g.jsx(bt,{variant:"ghost",className:fr("w-full justify-start p-2 h-auto font-normal text-left hover:bg-accent/50 transition-colors duration-200",t?.id===pe.id&&"bg-accent text-accent-foreground"),onClick:()=>n(pe),onTouchEnd:Ie(()=>n(pe)),children:g.jsxs("div",{className:"flex items-start gap-2 min-w-0 w-full",children:[g.jsx(co,{className:"w-3 h-3 text-muted-foreground mt-0.5 flex-shrink-0"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("div",{className:"text-xs font-medium truncate text-foreground",children:pe.summary||"New Session"}),g.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[g.jsx(fg,{className:"w-2.5 h-2.5 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:c1(pe.lastActivity,Y)}),pe.messageCount>0&&g.jsx(ya,{variant:"secondary",className:"text-xs px-1 py-0 ml-auto",children:pe.messageCount})]})]})]})}),g.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200",children:W===pe.id?g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"text",value:le,onChange:Ot=>ae(Ot.target.value),onKeyDown:Ot=>{Ot.stopPropagation(),Ot.key==="Enter"?updateSessionSummary(te.name,pe.id,le):Ot.key==="Escape"&&(se(null),ae(""))},onClick:Ot=>Ot.stopPropagation(),className:"w-32 px-2 py-1 text-xs border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary",autoFocus:!0}),g.jsx("button",{className:"w-6 h-6 bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/40 rounded flex items-center justify-center",onClick:Ot=>{Ot.stopPropagation(),updateSessionSummary(te.name,pe.id,le)},title:"Save",children:g.jsx(ca,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),g.jsx("button",{className:"w-6 h-6 bg-gray-50 hover:bg-gray-100 dark:bg-gray-900/20 dark:hover:bg-gray-900/40 rounded flex items-center justify-center",onClick:Ot=>{Ot.stopPropagation(),se(null),ae("")},title:"Cancel",children:g.jsx(Fi,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"w-6 h-6 bg-gray-50 hover:bg-gray-100 dark:bg-gray-900/20 dark:hover:bg-gray-900/40 rounded flex items-center justify-center",onClick:Ot=>{Ot.stopPropagation(),se(pe.id),ae(pe.summary||"New Session")},title:"Manually edit session name",children:g.jsx(M3,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),g.jsx("button",{className:"w-6 h-6 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/40 rounded flex items-center justify-center",onClick:Ot=>{Ot.stopPropagation(),Qe(te.name,pe.id)},title:"Delete this session permanently",children:g.jsx(Zn,{className:"w-3 h-3 text-red-600 dark:text-red-400"})})]})})]})]},pe.id)}):Array.from({length:3}).map((pe,ot)=>g.jsx("div",{className:"p-2 rounded-md",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-muted rounded-full animate-pulse mt-0.5"}),g.jsxs("div",{className:"flex-1 space-y-1",children:[g.jsx("div",{className:"h-3 bg-muted rounded animate-pulse",style:{width:`${60+ot*15}%`}}),g.jsx("div",{className:"h-2 bg-muted rounded animate-pulse w-1/2"})]})]})},ot)),Se(te).length>0&&te.sessionMeta?.hasMore!==!1&&g.jsx(bt,{variant:"ghost",size:"sm",className:"w-full justify-center gap-2 mt-2 text-muted-foreground",onClick:()=>xe(te),disabled:D[te.name],children:D[te.name]?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-3 h-3 animate-spin rounded-full border border-muted-foreground border-t-transparent"}),"Loading..."]}):g.jsxs(g.Fragment,{children:[g.jsx(ws,{className:"w-3 h-3"}),"Show more sessions"]})}),g.jsx("div",{className:"md:hidden px-3 pb-2",children:g.jsxs("button",{className:"w-full h-8 bg-primary hover:bg-primary/90 text-primary-foreground rounded-md flex items-center justify-center gap-2 font-medium text-xs active:scale-[0.98] transition-all duration-150",onClick:()=>{i(te),s(te)},children:[g.jsx(mo,{className:"w-3 h-3"}),"New Session"]})}),g.jsxs(bt,{variant:"default",size:"sm",className:"hidden md:flex w-full justify-start gap-2 mt-1 h-8 text-xs font-medium bg-primary hover:bg-primary/90 text-primary-foreground transition-colors",onClick:()=>s(te),children:[g.jsx(mo,{className:"w-3 h-3"}),"New Session"]})]})]},te.name)})})}),f&&g.jsxs("div",{className:"md:p-2 border-t border-border/50 flex-shrink-0",children:[g.jsx("div",{className:"hidden md:block",children:g.jsxs(bt,{variant:"ghost",className:"w-full justify-start gap-3 p-3 h-auto font-normal text-left hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-200 border border-blue-200 dark:border-blue-700 rounded-lg mb-2",onClick:S,children:[g.jsxs("div",{className:"relative",children:[g.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),g.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Update Available"}),g.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Version ",p," is ready"]})]})]})}),g.jsx("div",{className:"md:hidden p-3 pb-2",children:g.jsxs("button",{className:"w-full h-12 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-xl flex items-center justify-start gap-3 px-4 active:scale-[0.98] transition-all duration-150",onClick:S,children:[g.jsxs("div",{className:"relative",children:[g.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),g.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),g.jsxs("div",{className:"min-w-0 flex-1 text-left",children:[g.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Update Available"}),g.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Version ",p," is ready"]})]})]})})]}),g.jsxs("div",{className:"md:p-2 md:border-t md:border-border flex-shrink-0",children:[g.jsx("div",{className:"md:hidden p-4 pb-20 border-t border-border/50",children:g.jsxs("button",{className:"w-full h-14 bg-muted/50 hover:bg-muted/70 rounded-2xl flex items-center justify-start gap-4 px-4 active:scale-[0.98] transition-all duration-150",onClick:d,children:[g.jsx("div",{className:"w-10 h-10 rounded-2xl bg-background/80 flex items-center justify-center",children:g.jsx(Gu,{className:"w-5 h-5 text-muted-foreground"})}),g.jsx("span",{className:"text-lg font-medium text-foreground",children:"Settings"})]})}),g.jsxs(bt,{variant:"ghost",className:"hidden md:flex w-full justify-start gap-2 p-2 h-auto font-normal text-muted-foreground hover:text-foreground hover:bg-accent transition-colors duration-200",onClick:d,children:[g.jsx(Gu,{className:"w-3 h-3"}),g.jsx("span",{className:"text-xs",children:"Tools Settings"})]})]})]})}function o$(r,e){const t={};return(r[r.length-1]===""?[...r,""]:r).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const a$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,l$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,c$={};function u1(r,e){return(c$.jsx?l$:a$).test(r)}const h$=/[ \t\n\f\r]/g;function u$(r){return typeof r=="object"?r.type==="text"?d1(r.value):!1:d1(r)}function d1(r){return r.replace(h$,"")===""}let Rc=class{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}};Rc.prototype.normal={};Rc.prototype.property={};Rc.prototype.space=void 0;function Ww(r,e){const t={},i={};for(const n of r)Object.assign(t,n.property),Object.assign(i,n.normal);return new Rc(t,i,e)}function vg(r){return r.toLowerCase()}class oi{constructor(e,t){this.attribute=t,this.property=e}}oi.prototype.attribute="";oi.prototype.booleanish=!1;oi.prototype.boolean=!1;oi.prototype.commaOrSpaceSeparated=!1;oi.prototype.commaSeparated=!1;oi.prototype.defined=!1;oi.prototype.mustUseProperty=!1;oi.prototype.number=!1;oi.prototype.overloadedBoolean=!1;oi.prototype.property="";oi.prototype.spaceSeparated=!1;oi.prototype.space=void 0;let d$=0;const gt=ko(),ar=ko(),xg=ko(),Re=ko(),Xt=ko(),ua=ko(),mi=ko();function ko(){return 2**++d$}const yg=Object.freeze(Object.defineProperty({__proto__:null,boolean:gt,booleanish:ar,commaOrSpaceSeparated:mi,commaSeparated:ua,number:Re,overloadedBoolean:xg,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),Zp=Object.keys(yg);class V0 extends oi{constructor(e,t,i,n){let s=-1;if(super(e,t),f1(this,"space",n),typeof i=="number")for(;++s<Zp.length;){const a=Zp[s];f1(this,Zp[s],(i&yg[a])===yg[a])}}}V0.prototype.defined=!0;function f1(r,e,t){t&&(r[e]=t)}function Na(r){const e={},t={};for(const[i,n]of Object.entries(r.properties)){const s=new V0(i,r.transform(r.attributes||{},i),n,r.space);r.mustUseProperty&&r.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[vg(i)]=i,t[vg(s.attribute)]=i}return new Rc(e,t,r.space)}const Fw=Na({properties:{ariaActiveDescendant:null,ariaAtomic:ar,ariaAutoComplete:null,ariaBusy:ar,ariaChecked:ar,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:ar,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:ar,ariaFlowTo:Xt,ariaGrabbed:ar,ariaHasPopup:null,ariaHidden:ar,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:Re,ariaLive:null,ariaModal:ar,ariaMultiLine:ar,ariaMultiSelectable:ar,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:ar,ariaReadOnly:ar,ariaRelevant:null,ariaRequired:ar,ariaRoleDescription:Xt,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:ar,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null},transform(r,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Zw(r,e){return e in r?r[e]:e}function Vw(r,e){return Zw(r,e.toLowerCase())}const f$=Na({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ua,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:gt,allowPaymentRequest:gt,allowUserMedia:gt,alt:null,as:null,async:gt,autoCapitalize:null,autoComplete:Xt,autoFocus:gt,autoPlay:gt,blocking:Xt,capture:null,charSet:null,checked:gt,cite:null,className:Xt,cols:Re,colSpan:null,content:null,contentEditable:ar,controls:gt,controlsList:Xt,coords:Re|ua,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gt,defer:gt,dir:null,dirName:null,disabled:gt,download:xg,draggable:ar,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gt,formTarget:null,headers:Xt,height:Re,hidden:xg,high:Re,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:gt,inputMode:null,integrity:null,is:null,isMap:gt,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:gt,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gt,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:gt,muted:gt,name:null,nonce:null,noModule:gt,noValidate:gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gt,optimum:Re,pattern:null,ping:Xt,placeholder:null,playsInline:gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gt,referrerPolicy:null,rel:Xt,required:gt,reversed:gt,rows:Re,rowSpan:Re,sandbox:Xt,scope:null,scoped:gt,seamless:gt,selected:gt,shadowRootClonable:gt,shadowRootDelegatesFocus:gt,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:ar,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:gt,useMap:null,value:ar,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gt,declare:gt,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:gt,noHref:gt,noShade:gt,noWrap:gt,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:ar,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gt,disableRemotePlayback:gt,prefix:null,property:null,results:Re,security:null,unselectable:null},space:"html",transform:Vw}),p$=Na({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mi,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ua,g2:ua,glyphName:ua,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Zw}),Uw=Na({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,e){return"xlink:"+e.slice(5).toLowerCase()}}),Hw=Na({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Vw}),Yw=Na({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,e){return"xml:"+e.slice(3).toLowerCase()}}),m$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},g$=/[A-Z]/g,p1=/-[a-z]/g,O$=/^data[-\w.:]+$/i;function v$(r,e){const t=vg(e);let i=e,n=oi;if(t in r.normal)return r.property[r.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&O$.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(p1,y$);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!p1.test(s)){let a=s.replace(g$,x$);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}n=V0}return new n(i,e)}function x$(r){return"-"+r.toLowerCase()}function y$(r){return r.charAt(1).toUpperCase()}const b$=Ww([Fw,f$,Uw,Hw,Yw],"html"),U0=Ww([Fw,p$,Uw,Hw,Yw],"svg");function _$(r){return r.join(" ").trim()}var ea={},Vp,m1;function S$(){if(m1)return Vp;m1=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,u="/",d="*",f="",p="comment",v="declaration";Vp=function(x,m){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];m=m||{};var y=1,b=1;function _(N){var q=N.match(e);q&&(y+=q.length);var V=N.lastIndexOf(l);b=~V?N.length-V:b+N.length}function P(){var N={line:y,column:b};return function(q){return q.position=new T(N),k(),q}}function T(N){this.start=N,this.end={line:y,column:b},this.source=m.source}T.prototype.content=x;function C(N){var q=new Error(m.source+":"+y+":"+b+": "+N);if(q.reason=N,q.filename=m.source,q.line=y,q.column=b,q.source=x,!m.silent)throw q}function R(N){var q=N.exec(x);if(q){var V=q[0];return _(V),x=x.slice(V.length),q}}function k(){R(t)}function E(N){var q;for(N=N||[];q=$();)q!==!1&&N.push(q);return N}function $(){var N=P();if(!(u!=x.charAt(0)||d!=x.charAt(1))){for(var q=2;f!=x.charAt(q)&&(d!=x.charAt(q)||u!=x.charAt(q+1));)++q;if(q+=2,f===x.charAt(q-1))return C("End of comment missing");var V=x.slice(2,q-2);return b+=2,_(V),x=x.slice(q),b+=2,N({type:p,comment:V})}}function D(){var N=P(),q=R(i);if(q){if($(),!R(n))return C("property missing ':'");var V=R(s),K=N({type:v,property:S(q[0].replace(r,f)),value:V?S(V[0].replace(r,f)):f});return R(a),K}}function A(){var N=[];E(N);for(var q;q=D();)q!==!1&&(N.push(q),E(N));return N}return k(),A()};function S(x){return x?x.replace(o,f):f}return Vp}var g1;function w$(){if(g1)return ea;g1=1;var r=ea&&ea.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=t;var e=r(S$());function t(i,n){var s=null;if(!i||typeof i!="string")return s;var a=(0,e.default)(i),o=typeof n=="function";return a.forEach(function(l){if(l.type==="declaration"){var u=l.property,d=l.value;o?n(u,d,l):d&&(s=s||{},s[u]=d)}}),s}return ea}var Pl={},O1;function k$(){if(O1)return Pl;O1=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,n=/^-(ms)-/,s=function(u){return!u||t.test(u)||r.test(u)},a=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},l=function(u,d){return d===void 0&&(d={}),s(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(n,o):u=u.replace(i,o),u.replace(e,a))};return Pl.camelCase=l,Pl}var Tl,v1;function C$(){if(v1)return Tl;v1=1;var r=Tl&&Tl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},e=r(w$()),t=k$();function i(n,s){var a={};return!n||typeof n!="string"||(0,e.default)(n,function(o,l){o&&l&&(a[(0,t.camelCase)(o,s)]=l)}),a}return i.default=i,Tl=i,Tl}var P$=C$();const T$=Aa(P$),Gw=Kw("end"),H0=Kw("start");function Kw(r){return e;function e(t){const i=t&&t.position&&t.position[r]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function E$(r){const e=H0(r),t=Gw(r);if(e&&t)return{start:e,end:t}}function Vl(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?x1(r.position):"start"in r||"end"in r?x1(r):"line"in r||"column"in r?bg(r):""}function bg(r){return y1(r&&r.line)+":"+y1(r&&r.column)}function x1(r){return bg(r&&r.start)+"-"+bg(r&&r.end)}function y1(r){return r&&typeof r=="number"?r:1}class Ir extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let n="",s={},a=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?n=e:!s.cause&&e&&(a=!0,n=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=n,this.line=o?o.line:void 0,this.name=Vl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ir.prototype.file="";Ir.prototype.name="";Ir.prototype.reason="";Ir.prototype.message="";Ir.prototype.stack="";Ir.prototype.column=void 0;Ir.prototype.line=void 0;Ir.prototype.ancestors=void 0;Ir.prototype.cause=void 0;Ir.prototype.fatal=void 0;Ir.prototype.place=void 0;Ir.prototype.ruleId=void 0;Ir.prototype.source=void 0;const Y0={}.hasOwnProperty,Q$=new Map,R$=/[A-Z]/g,$$=new Set(["table","tbody","thead","tfoot","tr"]),A$=new Set(["td","th"]),Jw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function L$(r,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=q$(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=z$(t,e.jsx,e.jsxs)}const n={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?U0:b$,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=ek(n,r,void 0);return s&&typeof s!="string"?s:n.create(r,n.Fragment,{children:s||void 0},void 0)}function ek(r,e,t){if(e.type==="element")return M$(r,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return j$(r,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return D$(r,e,t);if(e.type==="mdxjsEsm")return N$(r,e);if(e.type==="root")return I$(r,e,t);if(e.type==="text")return B$(r,e)}function M$(r,e,t){const i=r.schema;let n=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(n=U0,r.schema=n),r.ancestors.push(e);const s=rk(r,e.tagName,!1),a=X$(r,e);let o=K0(r,e);return $$.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!u$(l):!0})),tk(r,a,s,e),G0(a,o),r.ancestors.pop(),r.schema=i,r.create(e,s,a,t)}function j$(r,e){if(e.data&&e.data.estree&&r.evaluater){const i=e.data.estree.body[0];return i.type,r.evaluater.evaluateExpression(i.expression)}oc(r,e.position)}function N$(r,e){if(e.data&&e.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(e.data.estree);oc(r,e.position)}function D$(r,e,t){const i=r.schema;let n=i;e.name==="svg"&&i.space==="html"&&(n=U0,r.schema=n),r.ancestors.push(e);const s=e.name===null?r.Fragment:rk(r,e.name,!0),a=W$(r,e),o=K0(r,e);return tk(r,a,s,e),G0(a,o),r.ancestors.pop(),r.schema=i,r.create(e,s,a,t)}function I$(r,e,t){const i={};return G0(i,K0(r,e)),r.create(e,r.Fragment,i,t)}function B$(r,e){return e.value}function tk(r,e,t,i){typeof t!="string"&&t!==r.Fragment&&r.passNode&&(e.node=i)}function G0(r,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(r.children=t)}}function z$(r,e,t){return i;function i(n,s,a,o){const u=Array.isArray(a.children)?t:e;return o?u(s,a,o):u(s,a)}}function q$(r,e){return t;function t(i,n,s,a){const o=Array.isArray(s.children),l=H0(i);return e(n,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:r,lineNumber:l?l.line:void 0},void 0)}}function X$(r,e){const t={};let i,n;for(n in e.properties)if(n!=="children"&&Y0.call(e.properties,n)){const s=F$(r,n,e.properties[n]);if(s){const[a,o]=s;r.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&A$.has(e.tagName)?i=o:t[a]=o}}if(i){const s=t.style||(t.style={});s[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function W$(r,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&r.evaluater){const s=i.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(t,r.evaluater.evaluateExpression(o.argument))}else oc(r,e.position);else{const n=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&r.evaluater){const o=i.value.data.estree.body[0];o.type,s=r.evaluater.evaluateExpression(o.expression)}else oc(r,e.position);else s=i.value===null?!0:i.value;t[n]=s}return t}function K0(r,e){const t=[];let i=-1;const n=r.passKeys?new Map:Q$;for(;++i<e.children.length;){const s=e.children[i];let a;if(r.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=n.get(l)||0;a=l+"-"+u,n.set(l,u+1)}}const o=ek(r,s,a);o!==void 0&&t.push(o)}return t}function F$(r,e,t){const i=v$(r.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?o$(t):_$(t)),i.property==="style"){let n=typeof t=="object"?t:Z$(r,String(t));return r.stylePropertyNameCase==="css"&&(n=V$(n)),["style",n]}return[r.elementAttributeNameCase==="react"&&i.space?m$[i.property]||i.property:i.attribute,t]}}function Z$(r,e){try{return T$(e,{reactCompat:!0})}catch(t){if(r.ignoreInvalidStyle)return{};const i=t,n=new Ir("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=r.filePath||void 0,n.url=Jw+"#cannot-parse-style-attribute",n}}function rk(r,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const n=e.split(".");let s=-1,a;for(;++s<n.length;){const o=u1(n[s])?{type:"Identifier",name:n[s]}:{type:"Literal",value:n[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=a}else i=u1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const n=i.value;return Y0.call(r.components,n)?r.components[n]:n}if(r.evaluater)return r.evaluater.evaluateExpression(i);oc(r)}function oc(r,e){const t=new Ir("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=r.filePath||void 0,t.url=Jw+"#cannot-handle-mdx-estrees-without-createevaluater",t}function V$(r){const e={};let t;for(t in r)Y0.call(r,t)&&(e[U$(t)]=r[t]);return e}function U$(r){let e=r.replace(R$,H$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function H$(r){return"-"+r.toLowerCase()}const Up={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Y$={};function G$(r,e){const t=Y$,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,n=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return ik(r,i,n)}function ik(r,e,t){if(K$(r)){if("value"in r)return r.type==="html"&&!t?"":r.value;if(e&&"alt"in r&&r.alt)return r.alt;if("children"in r)return b1(r.children,e,t)}return Array.isArray(r)?b1(r,e,t):""}function b1(r,e,t){const i=[];let n=-1;for(;++n<r.length;)i[n]=ik(r[n],e,t);return i.join("")}function K$(r){return!!(r&&typeof r=="object")}const _1=document.createElement("i");function J0(r){const e="&"+r+";";_1.innerHTML=e;const t=_1.textContent;return t.charCodeAt(t.length-1)===59&&r!=="semi"||t===e?!1:t}function yn(r,e,t,i){const n=r.length;let s=0,a;if(e<0?e=-e>n?0:n+e:e=e>n?n:e,t=t>0?t:0,i.length<1e4)a=Array.from(i),a.unshift(e,t),r.splice(...a);else for(t&&r.splice(e,t);s<i.length;)a=i.slice(s,s+1e4),a.unshift(e,0),r.splice(...a),s+=1e4,e+=1e4}function Pi(r,e){return r.length>0?(yn(r,r.length,0,e),r):e}const S1={}.hasOwnProperty;function J$(r){const e={};let t=-1;for(;++t<r.length;)e4(e,r[t]);return e}function e4(r,e){let t;for(t in e){const n=(S1.call(r,t)?r[t]:void 0)||(r[t]={}),s=e[t];let a;if(s)for(a in s){S1.call(n,a)||(n[a]=[]);const o=s[a];t4(n[a],Array.isArray(o)?o:o?[o]:[])}}}function t4(r,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?r:i).push(e[t]);yn(r,0,0,i)}function nk(r,e){const t=Number.parseInt(r,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function da(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const un=Is(/[A-Za-z]/),vi=Is(/[\dA-Za-z]/),r4=Is(/[#-'*+\--9=?A-Z^-~]/);function _g(r){return r!==null&&(r<32||r===127)}const Sg=Is(/\d/),i4=Is(/[\dA-Fa-f]/),n4=Is(/[!-/:-@[-`{-~]/);function dt(r){return r!==null&&r<-2}function si(r){return r!==null&&(r<0||r===32)}function Et(r){return r===-2||r===-1||r===32}const s4=Is(new RegExp("\\p{P}|\\p{S}","u")),o4=Is(/\s/);function Is(r){return e;function e(t){return t!==null&&t>-1&&r.test(String.fromCharCode(t))}}function Da(r){const e=[];let t=-1,i=0,n=0;for(;++t<r.length;){const s=r.charCodeAt(t);let a="";if(s===37&&vi(r.charCodeAt(t+1))&&vi(r.charCodeAt(t+2)))n=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=r.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),n=1):a=""}else a=String.fromCharCode(s);a&&(e.push(r.slice(i,t),encodeURIComponent(a)),i=t+n+1,a=""),n&&(t+=n,n=0)}return e.join("")+r.slice(i)}function Wt(r,e,t,i){const n=i?i-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Et(l)?(r.enter(t),o(l)):e(l)}function o(l){return Et(l)&&s++<n?(r.consume(l),o):(r.exit(t),e(l))}}const a4={tokenize:l4};function l4(r){const e=r.attempt(this.parser.constructs.contentInitial,i,n);let t;return e;function i(o){if(o===null){r.consume(o);return}return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),Wt(r,e,"linePrefix")}function n(o){return r.enter("paragraph"),s(o)}function s(o){const l=r.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(o)}function a(o){if(o===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(o);return}return dt(o)?(r.consume(o),r.exit("chunkText"),s):(r.consume(o),a)}}const c4={tokenize:h4},w1={tokenize:u4};function h4(r){const e=this,t=[];let i=0,n,s,a;return o;function o(_){if(i<t.length){const P=t[i];return e.containerState=P[1],r.attempt(P[0].continuation,l,u)(_)}return u(_)}function l(_){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,n&&b();const P=e.events.length;let T=P,C;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){C=e.events[T][1].end;break}y(i);let R=P;for(;R<e.events.length;)e.events[R][1].end={...C},R++;return yn(e.events,T+1,0,e.events.slice(P)),e.events.length=R,u(_)}return o(_)}function u(_){if(i===t.length){if(!n)return p(_);if(n.currentConstruct&&n.currentConstruct.concrete)return S(_);e.interrupt=!!(n.currentConstruct&&!n._gfmTableDynamicInterruptHack)}return e.containerState={},r.check(w1,d,f)(_)}function d(_){return n&&b(),y(i),p(_)}function f(_){return e.parser.lazy[e.now().line]=i!==t.length,a=e.now().offset,S(_)}function p(_){return e.containerState={},r.attempt(w1,v,S)(_)}function v(_){return i++,t.push([e.currentConstruct,e.containerState]),p(_)}function S(_){if(_===null){n&&b(),y(0),r.consume(_);return}return n=n||e.parser.flow(e.now()),r.enter("chunkFlow",{_tokenizer:n,contentType:"flow",previous:s}),x(_)}function x(_){if(_===null){m(r.exit("chunkFlow"),!0),y(0),r.consume(_);return}return dt(_)?(r.consume(_),m(r.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(r.consume(_),x)}function m(_,P){const T=e.sliceStream(_);if(P&&T.push(null),_.previous=s,s&&(s.next=_),s=_,n.defineSkip(_.start),n.write(T),e.parser.lazy[_.start.line]){let C=n.events.length;for(;C--;)if(n.events[C][1].start.offset<a&&(!n.events[C][1].end||n.events[C][1].end.offset>a))return;const R=e.events.length;let k=R,E,$;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(E){$=e.events[k][1].end;break}E=!0}for(y(i),C=R;C<e.events.length;)e.events[C][1].end={...$},C++;yn(e.events,k+1,0,e.events.slice(R)),e.events.length=C}}function y(_){let P=t.length;for(;P-- >_;){const T=t[P];e.containerState=T[1],T[0].exit.call(e,r)}t.length=_}function b(){n.write([null]),s=void 0,n=void 0,e.containerState._closeFlow=void 0}}function u4(r,e,t){return Wt(r,r.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function k1(r){if(r===null||si(r)||o4(r))return 1;if(s4(r))return 2}function eO(r,e,t){const i=[];let n=-1;for(;++n<r.length;){const s=r[n].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const wg={name:"attention",resolveAll:d4,tokenize:f4};function d4(r,e){let t=-1,i,n,s,a,o,l,u,d;for(;++t<r.length;)if(r[t][0]==="enter"&&r[t][1].type==="attentionSequence"&&r[t][1]._close){for(i=t;i--;)if(r[i][0]==="exit"&&r[i][1].type==="attentionSequence"&&r[i][1]._open&&e.sliceSerialize(r[i][1]).charCodeAt(0)===e.sliceSerialize(r[t][1]).charCodeAt(0)){if((r[i][1]._close||r[t][1]._open)&&(r[t][1].end.offset-r[t][1].start.offset)%3&&!((r[i][1].end.offset-r[i][1].start.offset+r[t][1].end.offset-r[t][1].start.offset)%3))continue;l=r[i][1].end.offset-r[i][1].start.offset>1&&r[t][1].end.offset-r[t][1].start.offset>1?2:1;const f={...r[i][1].end},p={...r[t][1].start};C1(f,-l),C1(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...r[i][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...r[t][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...r[i][1].end},end:{...r[t][1].start}},n={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},r[i][1].end={...a.start},r[t][1].start={...o.end},u=[],r[i][1].end.offset-r[i][1].start.offset&&(u=Pi(u,[["enter",r[i][1],e],["exit",r[i][1],e]])),u=Pi(u,[["enter",n,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=Pi(u,eO(e.parser.constructs.insideSpan.null,r.slice(i+1,t),e)),u=Pi(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",n,e]]),r[t][1].end.offset-r[t][1].start.offset?(d=2,u=Pi(u,[["enter",r[t][1],e],["exit",r[t][1],e]])):d=0,yn(r,i-1,t-i+3,u),t=i+u.length-d-2;break}}for(t=-1;++t<r.length;)r[t][1].type==="attentionSequence"&&(r[t][1].type="data");return r}function f4(r,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,n=k1(i);let s;return a;function a(l){return s=l,r.enter("attentionSequence"),o(l)}function o(l){if(l===s)return r.consume(l),o;const u=r.exit("attentionSequence"),d=k1(l),f=!d||d===2&&n||t.includes(l),p=!n||n===2&&d||t.includes(i);return u._open=!!(s===42?f:f&&(n||!p)),u._close=!!(s===42?p:p&&(d||!f)),e(l)}}function C1(r,e){r.column+=e,r.offset+=e,r._bufferIndex+=e}const p4={name:"autolink",tokenize:m4};function m4(r,e,t){let i=0;return n;function n(v){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),s}function s(v){return un(v)?(r.consume(v),a):v===64?t(v):u(v)}function a(v){return v===43||v===45||v===46||vi(v)?(i=1,o(v)):u(v)}function o(v){return v===58?(r.consume(v),i=0,l):(v===43||v===45||v===46||vi(v))&&i++<32?(r.consume(v),o):(i=0,u(v))}function l(v){return v===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),e):v===null||v===32||v===60||_g(v)?t(v):(r.consume(v),l)}function u(v){return v===64?(r.consume(v),d):r4(v)?(r.consume(v),u):t(v)}function d(v){return vi(v)?f(v):t(v)}function f(v){return v===46?(r.consume(v),i=0,d):v===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(v),r.exit("autolinkMarker"),r.exit("autolink"),e):p(v)}function p(v){if((v===45||vi(v))&&i++<63){const S=v===45?p:f;return r.consume(v),S}return t(v)}}const jd={partial:!0,tokenize:g4};function g4(r,e,t){return i;function i(s){return Et(s)?Wt(r,n,"linePrefix")(s):n(s)}function n(s){return s===null||dt(s)?e(s):t(s)}}const sk={continuation:{tokenize:v4},exit:x4,name:"blockQuote",tokenize:O4};function O4(r,e,t){const i=this;return n;function n(a){if(a===62){const o=i.containerState;return o.open||(r.enter("blockQuote",{_container:!0}),o.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(a),r.exit("blockQuoteMarker"),s}return t(a)}function s(a){return Et(a)?(r.enter("blockQuotePrefixWhitespace"),r.consume(a),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),e):(r.exit("blockQuotePrefix"),e(a))}}function v4(r,e,t){const i=this;return n;function n(a){return Et(a)?Wt(r,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return r.attempt(sk,e,t)(a)}}function x4(r){r.exit("blockQuote")}const ok={name:"characterEscape",tokenize:y4};function y4(r,e,t){return i;function i(s){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(s),r.exit("escapeMarker"),n}function n(s){return n4(s)?(r.enter("characterEscapeValue"),r.consume(s),r.exit("characterEscapeValue"),r.exit("characterEscape"),e):t(s)}}const ak={name:"characterReference",tokenize:b4};function b4(r,e,t){const i=this;let n=0,s,a;return o;function o(f){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(f),r.exit("characterReferenceMarker"),l}function l(f){return f===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(f),r.exit("characterReferenceMarkerNumeric"),u):(r.enter("characterReferenceValue"),s=31,a=vi,d(f))}function u(f){return f===88||f===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(f),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),s=6,a=i4,d):(r.enter("characterReferenceValue"),s=7,a=Sg,d(f))}function d(f){if(f===59&&n){const p=r.exit("characterReferenceValue");return a===vi&&!J0(i.sliceSerialize(p))?t(f):(r.enter("characterReferenceMarker"),r.consume(f),r.exit("characterReferenceMarker"),r.exit("characterReference"),e)}return a(f)&&n++<s?(r.consume(f),d):t(f)}}const P1={partial:!0,tokenize:S4},T1={concrete:!0,name:"codeFenced",tokenize:_4};function _4(r,e,t){const i=this,n={partial:!0,tokenize:T};let s=0,a=0,o;return l;function l(C){return u(C)}function u(C){const R=i.events[i.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,o=C,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),d(C)}function d(C){return C===o?(a++,r.consume(C),d):a<3?t(C):(r.exit("codeFencedFenceSequence"),Et(C)?Wt(r,f,"whitespace")(C):f(C))}function f(C){return C===null||dt(C)?(r.exit("codeFencedFence"),i.interrupt?e(C):r.check(P1,x,P)(C)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||dt(C)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),f(C)):Et(C)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),Wt(r,v,"whitespace")(C)):C===96&&C===o?t(C):(r.consume(C),p)}function v(C){return C===null||dt(C)?f(C):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),S(C))}function S(C){return C===null||dt(C)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),f(C)):C===96&&C===o?t(C):(r.consume(C),S)}function x(C){return r.attempt(n,P,m)(C)}function m(C){return r.enter("lineEnding"),r.consume(C),r.exit("lineEnding"),y}function y(C){return s>0&&Et(C)?Wt(r,b,"linePrefix",s+1)(C):b(C)}function b(C){return C===null||dt(C)?r.check(P1,x,P)(C):(r.enter("codeFlowValue"),_(C))}function _(C){return C===null||dt(C)?(r.exit("codeFlowValue"),b(C)):(r.consume(C),_)}function P(C){return r.exit("codeFenced"),e(C)}function T(C,R,k){let E=0;return $;function $(V){return C.enter("lineEnding"),C.consume(V),C.exit("lineEnding"),D}function D(V){return C.enter("codeFencedFence"),Et(V)?Wt(C,A,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):A(V)}function A(V){return V===o?(C.enter("codeFencedFenceSequence"),N(V)):k(V)}function N(V){return V===o?(E++,C.consume(V),N):E>=a?(C.exit("codeFencedFenceSequence"),Et(V)?Wt(C,q,"whitespace")(V):q(V)):k(V)}function q(V){return V===null||dt(V)?(C.exit("codeFencedFence"),R(V)):k(V)}}}function S4(r,e,t){const i=this;return n;function n(a){return a===null?t(a):(r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),s)}function s(a){return i.parser.lazy[i.now().line]?t(a):e(a)}}const Hp={name:"codeIndented",tokenize:k4},w4={partial:!0,tokenize:C4};function k4(r,e,t){const i=this;return n;function n(u){return r.enter("codeIndented"),Wt(r,s,"linePrefix",5)(u)}function s(u){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):t(u)}function a(u){return u===null?l(u):dt(u)?r.attempt(w4,a,l)(u):(r.enter("codeFlowValue"),o(u))}function o(u){return u===null||dt(u)?(r.exit("codeFlowValue"),a(u)):(r.consume(u),o)}function l(u){return r.exit("codeIndented"),e(u)}}function C4(r,e,t){const i=this;return n;function n(a){return i.parser.lazy[i.now().line]?t(a):dt(a)?(r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),n):Wt(r,s,"linePrefix",5)(a)}function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):dt(a)?n(a):t(a)}}const P4={name:"codeText",previous:E4,resolve:T4,tokenize:Q4};function T4(r){let e=r.length-4,t=3,i,n;if((r[t][1].type==="lineEnding"||r[t][1].type==="space")&&(r[e][1].type==="lineEnding"||r[e][1].type==="space")){for(i=t;++i<e;)if(r[i][1].type==="codeTextData"){r[t][1].type="codeTextPadding",r[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)n===void 0?i!==e&&r[i][1].type!=="lineEnding"&&(n=i):(i===e||r[i][1].type==="lineEnding")&&(r[n][1].type="codeTextData",i!==n+2&&(r[n][1].end=r[i-1][1].end,r.splice(n+2,i-n-2),e-=i-n-2,i=n+2),n=void 0);return r}function E4(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q4(r,e,t){let i=0,n,s;return a;function a(f){return r.enter("codeText"),r.enter("codeTextSequence"),o(f)}function o(f){return f===96?(r.consume(f),i++,o):(r.exit("codeTextSequence"),l(f))}function l(f){return f===null?t(f):f===32?(r.enter("space"),r.consume(f),r.exit("space"),l):f===96?(s=r.enter("codeTextSequence"),n=0,d(f)):dt(f)?(r.enter("lineEnding"),r.consume(f),r.exit("lineEnding"),l):(r.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||dt(f)?(r.exit("codeTextData"),l(f)):(r.consume(f),u)}function d(f){return f===96?(r.consume(f),n++,d):n===i?(r.exit("codeTextSequence"),r.exit("codeText"),e(f)):(s.type="codeTextData",u(f))}}class R4{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const n=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-n,Number.POSITIVE_INFINITY);return i&&El(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),El(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),El(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);El(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);El(this.left,t.reverse())}}}function El(r,e){let t=0;if(e.length<1e4)r.push(...e);else for(;t<e.length;)r.push(...e.slice(t,t+1e4)),t+=1e4}function lk(r){const e={};let t=-1,i,n,s,a,o,l,u;const d=new R4(r);for(;++t<d.length;){for(;t in e;)t=e[t];if(i=d.get(t),t&&i[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,$4(d,t)),t=e[t],u=!0);else if(i[1]._container){for(s=t,n=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(n&&(d.get(n)[1].type="lineEndingBlank"),a[1].type="lineEnding",n=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;n&&(i[1].end={...d.get(n)[1].start},o=d.slice(n,t),o.unshift(i),d.splice(n,t-n+1,o))}}return yn(r,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function $4(r,e){const t=r.get(e)[1],i=r.get(e)[2];let n=e-1;const s=[];let a=t._tokenizer;a||(a=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let d,f,p=-1,v=t,S=0,x=0;const m=[x];for(;v;){for(;r.get(++n)[1]!==v;);s.push(n),v._tokenizer||(d=i.sliceStream(v),v.next||d.push(null),f&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=v,v=v.next}for(v=t;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(x=p+1,m.push(x),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):m.pop(),p=m.length;p--;){const y=o.slice(m[p],m[p+1]),b=s.pop();l.push([b,b+y.length-1]),r.splice(b,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[S+l[p][0]]=S+l[p][1],S+=l[p][1]-l[p][0]-1;return u}const A4={resolve:M4,tokenize:j4},L4={partial:!0,tokenize:N4};function M4(r){return lk(r),r}function j4(r,e){let t;return i;function i(o){return r.enter("content"),t=r.enter("chunkContent",{contentType:"content"}),n(o)}function n(o){return o===null?s(o):dt(o)?r.check(L4,a,s)(o):(r.consume(o),n)}function s(o){return r.exit("chunkContent"),r.exit("content"),e(o)}function a(o){return r.consume(o),r.exit("chunkContent"),t.next=r.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,n}}function N4(r,e,t){const i=this;return n;function n(a){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),Wt(r,s,"linePrefix")}function s(a){if(a===null||dt(a))return t(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):r.interrupt(i.parser.constructs.flow,t,e)(a)}}function ck(r,e,t,i,n,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(r.enter(i),r.enter(n),r.enter(s),r.consume(y),r.exit(s),p):y===null||y===32||y===41||_g(y)?t(y):(r.enter(i),r.enter(a),r.enter(o),r.enter("chunkString",{contentType:"string"}),x(y))}function p(y){return y===62?(r.enter(s),r.consume(y),r.exit(s),r.exit(n),r.exit(i),e):(r.enter(o),r.enter("chunkString",{contentType:"string"}),v(y))}function v(y){return y===62?(r.exit("chunkString"),r.exit(o),p(y)):y===null||y===60||dt(y)?t(y):(r.consume(y),y===92?S:v)}function S(y){return y===60||y===62||y===92?(r.consume(y),v):v(y)}function x(y){return!d&&(y===null||y===41||si(y))?(r.exit("chunkString"),r.exit(o),r.exit(a),r.exit(i),e(y)):d<u&&y===40?(r.consume(y),d++,x):y===41?(r.consume(y),d--,x):y===null||y===32||y===40||_g(y)?t(y):(r.consume(y),y===92?m:x)}function m(y){return y===40||y===41||y===92?(r.consume(y),x):x(y)}}function hk(r,e,t,i,n,s){const a=this;let o=0,l;return u;function u(v){return r.enter(i),r.enter(n),r.consume(v),r.exit(n),r.enter(s),d}function d(v){return o>999||v===null||v===91||v===93&&!l||v===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?t(v):v===93?(r.exit(s),r.enter(n),r.consume(v),r.exit(n),r.exit(i),e):dt(v)?(r.enter("lineEnding"),r.consume(v),r.exit("lineEnding"),d):(r.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||v===91||v===93||dt(v)||o++>999?(r.exit("chunkString"),d(v)):(r.consume(v),l||(l=!Et(v)),v===92?p:f)}function p(v){return v===91||v===92||v===93?(r.consume(v),o++,f):f(v)}}function uk(r,e,t,i,n,s){let a;return o;function o(p){return p===34||p===39||p===40?(r.enter(i),r.enter(n),r.consume(p),r.exit(n),a=p===40?41:p,l):t(p)}function l(p){return p===a?(r.enter(n),r.consume(p),r.exit(n),r.exit(i),e):(r.enter(s),u(p))}function u(p){return p===a?(r.exit(s),l(a)):p===null?t(p):dt(p)?(r.enter("lineEnding"),r.consume(p),r.exit("lineEnding"),Wt(r,u,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||dt(p)?(r.exit("chunkString"),u(p)):(r.consume(p),p===92?f:d)}function f(p){return p===a||p===92?(r.consume(p),d):d(p)}}function Ul(r,e){let t;return i;function i(n){return dt(n)?(r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),t=!0,i):Et(n)?Wt(r,i,t?"linePrefix":"lineSuffix")(n):e(n)}}const D4={name:"definition",tokenize:B4},I4={partial:!0,tokenize:z4};function B4(r,e,t){const i=this;let n;return s;function s(v){return r.enter("definition"),a(v)}function a(v){return hk.call(i,r,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function o(v){return n=da(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(r.enter("definitionMarker"),r.consume(v),r.exit("definitionMarker"),l):t(v)}function l(v){return si(v)?Ul(r,u)(v):u(v)}function u(v){return ck(r,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function d(v){return r.attempt(I4,f,f)(v)}function f(v){return Et(v)?Wt(r,p,"whitespace")(v):p(v)}function p(v){return v===null||dt(v)?(r.exit("definition"),i.parser.defined.push(n),e(v)):t(v)}}function z4(r,e,t){return i;function i(o){return si(o)?Ul(r,n)(o):t(o)}function n(o){return uk(r,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Et(o)?Wt(r,a,"whitespace")(o):a(o)}function a(o){return o===null||dt(o)?e(o):t(o)}}const q4={name:"hardBreakEscape",tokenize:X4};function X4(r,e,t){return i;function i(s){return r.enter("hardBreakEscape"),r.consume(s),n}function n(s){return dt(s)?(r.exit("hardBreakEscape"),e(s)):t(s)}}const W4={name:"headingAtx",resolve:F4,tokenize:Z4};function F4(r,e){let t=r.length-2,i=3,n,s;return r[i][1].type==="whitespace"&&(i+=2),t-2>i&&r[t][1].type==="whitespace"&&(t-=2),r[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&r[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(n={type:"atxHeadingText",start:r[i][1].start,end:r[t][1].end},s={type:"chunkText",start:r[i][1].start,end:r[t][1].end,contentType:"text"},yn(r,i,t-i+1,[["enter",n,e],["enter",s,e],["exit",s,e],["exit",n,e]])),r}function Z4(r,e,t){let i=0;return n;function n(d){return r.enter("atxHeading"),s(d)}function s(d){return r.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&i++<6?(r.consume(d),a):d===null||si(d)?(r.exit("atxHeadingSequence"),o(d)):t(d)}function o(d){return d===35?(r.enter("atxHeadingSequence"),l(d)):d===null||dt(d)?(r.exit("atxHeading"),e(d)):Et(d)?Wt(r,o,"whitespace")(d):(r.enter("atxHeadingText"),u(d))}function l(d){return d===35?(r.consume(d),l):(r.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||si(d)?(r.exit("atxHeadingText"),o(d)):(r.consume(d),u)}}const V4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],E1=["pre","script","style","textarea"],U4={concrete:!0,name:"htmlFlow",resolveTo:G4,tokenize:K4},H4={partial:!0,tokenize:eA},Y4={partial:!0,tokenize:J4};function G4(r){let e=r.length;for(;e--&&!(r[e][0]==="enter"&&r[e][1].type==="htmlFlow"););return e>1&&r[e-2][1].type==="linePrefix"&&(r[e][1].start=r[e-2][1].start,r[e+1][1].start=r[e-2][1].start,r.splice(e-2,2)),r}function K4(r,e,t){const i=this;let n,s,a,o,l;return u;function u(W){return d(W)}function d(W){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(W),f}function f(W){return W===33?(r.consume(W),p):W===47?(r.consume(W),s=!0,x):W===63?(r.consume(W),n=3,i.interrupt?e:M):un(W)?(r.consume(W),a=String.fromCharCode(W),m):t(W)}function p(W){return W===45?(r.consume(W),n=2,v):W===91?(r.consume(W),n=5,o=0,S):un(W)?(r.consume(W),n=4,i.interrupt?e:M):t(W)}function v(W){return W===45?(r.consume(W),i.interrupt?e:M):t(W)}function S(W){const se="CDATA[";return W===se.charCodeAt(o++)?(r.consume(W),o===se.length?i.interrupt?e:A:S):t(W)}function x(W){return un(W)?(r.consume(W),a=String.fromCharCode(W),m):t(W)}function m(W){if(W===null||W===47||W===62||si(W)){const se=W===47,le=a.toLowerCase();return!se&&!s&&E1.includes(le)?(n=1,i.interrupt?e(W):A(W)):V4.includes(a.toLowerCase())?(n=6,se?(r.consume(W),y):i.interrupt?e(W):A(W)):(n=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(W):s?b(W):_(W))}return W===45||vi(W)?(r.consume(W),a+=String.fromCharCode(W),m):t(W)}function y(W){return W===62?(r.consume(W),i.interrupt?e:A):t(W)}function b(W){return Et(W)?(r.consume(W),b):$(W)}function _(W){return W===47?(r.consume(W),$):W===58||W===95||un(W)?(r.consume(W),P):Et(W)?(r.consume(W),_):$(W)}function P(W){return W===45||W===46||W===58||W===95||vi(W)?(r.consume(W),P):T(W)}function T(W){return W===61?(r.consume(W),C):Et(W)?(r.consume(W),T):_(W)}function C(W){return W===null||W===60||W===61||W===62||W===96?t(W):W===34||W===39?(r.consume(W),l=W,R):Et(W)?(r.consume(W),C):k(W)}function R(W){return W===l?(r.consume(W),l=null,E):W===null||dt(W)?t(W):(r.consume(W),R)}function k(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||si(W)?T(W):(r.consume(W),k)}function E(W){return W===47||W===62||Et(W)?_(W):t(W)}function $(W){return W===62?(r.consume(W),D):t(W)}function D(W){return W===null||dt(W)?A(W):Et(W)?(r.consume(W),D):t(W)}function A(W){return W===45&&n===2?(r.consume(W),K):W===60&&n===1?(r.consume(W),Y):W===62&&n===4?(r.consume(W),I):W===63&&n===3?(r.consume(W),M):W===93&&n===5?(r.consume(W),z):dt(W)&&(n===6||n===7)?(r.exit("htmlFlowData"),r.check(H4,U,N)(W)):W===null||dt(W)?(r.exit("htmlFlowData"),N(W)):(r.consume(W),A)}function N(W){return r.check(Y4,q,U)(W)}function q(W){return r.enter("lineEnding"),r.consume(W),r.exit("lineEnding"),V}function V(W){return W===null||dt(W)?N(W):(r.enter("htmlFlowData"),A(W))}function K(W){return W===45?(r.consume(W),M):A(W)}function Y(W){return W===47?(r.consume(W),a="",L):A(W)}function L(W){if(W===62){const se=a.toLowerCase();return E1.includes(se)?(r.consume(W),I):A(W)}return un(W)&&a.length<8?(r.consume(W),a+=String.fromCharCode(W),L):A(W)}function z(W){return W===93?(r.consume(W),M):A(W)}function M(W){return W===62?(r.consume(W),I):W===45&&n===2?(r.consume(W),M):A(W)}function I(W){return W===null||dt(W)?(r.exit("htmlFlowData"),U(W)):(r.consume(W),I)}function U(W){return r.exit("htmlFlow"),e(W)}}function J4(r,e,t){const i=this;return n;function n(a){return dt(a)?(r.enter("lineEnding"),r.consume(a),r.exit("lineEnding"),s):t(a)}function s(a){return i.parser.lazy[i.now().line]?t(a):e(a)}}function eA(r,e,t){return i;function i(n){return r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),r.attempt(jd,e,t)}}const tA={name:"htmlText",tokenize:rA};function rA(r,e,t){const i=this;let n,s,a;return o;function o(M){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(M),l}function l(M){return M===33?(r.consume(M),u):M===47?(r.consume(M),T):M===63?(r.consume(M),_):un(M)?(r.consume(M),k):t(M)}function u(M){return M===45?(r.consume(M),d):M===91?(r.consume(M),s=0,S):un(M)?(r.consume(M),b):t(M)}function d(M){return M===45?(r.consume(M),v):t(M)}function f(M){return M===null?t(M):M===45?(r.consume(M),p):dt(M)?(a=f,Y(M)):(r.consume(M),f)}function p(M){return M===45?(r.consume(M),v):f(M)}function v(M){return M===62?K(M):M===45?p(M):f(M)}function S(M){const I="CDATA[";return M===I.charCodeAt(s++)?(r.consume(M),s===I.length?x:S):t(M)}function x(M){return M===null?t(M):M===93?(r.consume(M),m):dt(M)?(a=x,Y(M)):(r.consume(M),x)}function m(M){return M===93?(r.consume(M),y):x(M)}function y(M){return M===62?K(M):M===93?(r.consume(M),y):x(M)}function b(M){return M===null||M===62?K(M):dt(M)?(a=b,Y(M)):(r.consume(M),b)}function _(M){return M===null?t(M):M===63?(r.consume(M),P):dt(M)?(a=_,Y(M)):(r.consume(M),_)}function P(M){return M===62?K(M):_(M)}function T(M){return un(M)?(r.consume(M),C):t(M)}function C(M){return M===45||vi(M)?(r.consume(M),C):R(M)}function R(M){return dt(M)?(a=R,Y(M)):Et(M)?(r.consume(M),R):K(M)}function k(M){return M===45||vi(M)?(r.consume(M),k):M===47||M===62||si(M)?E(M):t(M)}function E(M){return M===47?(r.consume(M),K):M===58||M===95||un(M)?(r.consume(M),$):dt(M)?(a=E,Y(M)):Et(M)?(r.consume(M),E):K(M)}function $(M){return M===45||M===46||M===58||M===95||vi(M)?(r.consume(M),$):D(M)}function D(M){return M===61?(r.consume(M),A):dt(M)?(a=D,Y(M)):Et(M)?(r.consume(M),D):E(M)}function A(M){return M===null||M===60||M===61||M===62||M===96?t(M):M===34||M===39?(r.consume(M),n=M,N):dt(M)?(a=A,Y(M)):Et(M)?(r.consume(M),A):(r.consume(M),q)}function N(M){return M===n?(r.consume(M),n=void 0,V):M===null?t(M):dt(M)?(a=N,Y(M)):(r.consume(M),N)}function q(M){return M===null||M===34||M===39||M===60||M===61||M===96?t(M):M===47||M===62||si(M)?E(M):(r.consume(M),q)}function V(M){return M===47||M===62||si(M)?E(M):t(M)}function K(M){return M===62?(r.consume(M),r.exit("htmlTextData"),r.exit("htmlText"),e):t(M)}function Y(M){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),L}function L(M){return Et(M)?Wt(r,z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):z(M)}function z(M){return r.enter("htmlTextData"),a(M)}}const tO={name:"labelEnd",resolveAll:oA,resolveTo:aA,tokenize:lA},iA={tokenize:cA},nA={tokenize:hA},sA={tokenize:uA};function oA(r){let e=-1;const t=[];for(;++e<r.length;){const i=r[e][1];if(t.push(r[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const n=i.type==="labelImage"?4:2;i.type="data",e+=n}}return r.length!==t.length&&yn(r,0,r.length,t),r}function aA(r,e){let t=r.length,i=0,n,s,a,o;for(;t--;)if(n=r[t][1],s){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;r[t][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(a){if(r[t][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(s=t,n.type!=="labelLink")){i=2;break}}else n.type==="labelEnd"&&(a=t);const l={type:r[s][1].type==="labelLink"?"link":"image",start:{...r[s][1].start},end:{...r[r.length-1][1].end}},u={type:"label",start:{...r[s][1].start},end:{...r[a][1].end}},d={type:"labelText",start:{...r[s+i+2][1].end},end:{...r[a-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Pi(o,r.slice(s+1,s+i+3)),o=Pi(o,[["enter",d,e]]),o=Pi(o,eO(e.parser.constructs.insideSpan.null,r.slice(s+i+4,a-3),e)),o=Pi(o,[["exit",d,e],r[a-2],r[a-1],["exit",u,e]]),o=Pi(o,r.slice(a+1)),o=Pi(o,[["exit",l,e]]),yn(r,s,r.length,o),r}function lA(r,e,t){const i=this;let n=i.events.length,s,a;for(;n--;)if((i.events[n][1].type==="labelImage"||i.events[n][1].type==="labelLink")&&!i.events[n][1]._balanced){s=i.events[n][1];break}return o;function o(p){return s?s._inactive?f(p):(a=i.parser.defined.includes(da(i.sliceSerialize({start:s.end,end:i.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(p),r.exit("labelMarker"),r.exit("labelEnd"),l):t(p)}function l(p){return p===40?r.attempt(iA,d,a?d:f)(p):p===91?r.attempt(nA,d,a?u:f)(p):a?d(p):f(p)}function u(p){return r.attempt(sA,d,f)(p)}function d(p){return e(p)}function f(p){return s._balanced=!0,t(p)}}function cA(r,e,t){return i;function i(f){return r.enter("resource"),r.enter("resourceMarker"),r.consume(f),r.exit("resourceMarker"),n}function n(f){return si(f)?Ul(r,s)(f):s(f)}function s(f){return f===41?d(f):ck(r,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return si(f)?Ul(r,l)(f):d(f)}function o(f){return t(f)}function l(f){return f===34||f===39||f===40?uk(r,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return si(f)?Ul(r,d)(f):d(f)}function d(f){return f===41?(r.enter("resourceMarker"),r.consume(f),r.exit("resourceMarker"),r.exit("resource"),e):t(f)}}function hA(r,e,t){const i=this;return n;function n(o){return hk.call(i,r,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(da(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function a(o){return t(o)}}function uA(r,e,t){return i;function i(s){return r.enter("reference"),r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),n}function n(s){return s===93?(r.enter("referenceMarker"),r.consume(s),r.exit("referenceMarker"),r.exit("reference"),e):t(s)}}const dA={name:"labelStartImage",resolveAll:tO.resolveAll,tokenize:fA};function fA(r,e,t){const i=this;return n;function n(o){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(o),r.exit("labelImageMarker"),s}function s(o){return o===91?(r.enter("labelMarker"),r.consume(o),r.exit("labelMarker"),r.exit("labelImage"),a):t(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const pA={name:"labelStartLink",resolveAll:tO.resolveAll,tokenize:mA};function mA(r,e,t){const i=this;return n;function n(a){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(a),r.exit("labelMarker"),r.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(a):e(a)}}const Yp={name:"lineEnding",tokenize:gA};function gA(r,e){return t;function t(i){return r.enter("lineEnding"),r.consume(i),r.exit("lineEnding"),Wt(r,e,"linePrefix")}}const Au={name:"thematicBreak",tokenize:OA};function OA(r,e,t){let i=0,n;return s;function s(u){return r.enter("thematicBreak"),a(u)}function a(u){return n=u,o(u)}function o(u){return u===n?(r.enter("thematicBreakSequence"),l(u)):i>=3&&(u===null||dt(u))?(r.exit("thematicBreak"),e(u)):t(u)}function l(u){return u===n?(r.consume(u),i++,l):(r.exit("thematicBreakSequence"),Et(u)?Wt(r,o,"whitespace")(u):o(u))}}const Jr={continuation:{tokenize:bA},exit:SA,name:"list",tokenize:yA},vA={partial:!0,tokenize:wA},xA={partial:!0,tokenize:_A};function yA(r,e,t){const i=this,n=i.events[i.events.length-1];let s=n&&n[1].type==="linePrefix"?n[2].sliceSerialize(n[1],!0).length:0,a=0;return o;function o(v){const S=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:Sg(v)){if(i.containerState.type||(i.containerState.type=S,r.enter(S,{_container:!0})),S==="listUnordered")return r.enter("listItemPrefix"),v===42||v===45?r.check(Au,t,u)(v):u(v);if(!i.interrupt||v===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),l(v)}return t(v)}function l(v){return Sg(v)&&++a<10?(r.consume(v),l):(!i.interrupt||a<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(r.exit("listItemValue"),u(v)):t(v)}function u(v){return r.enter("listItemMarker"),r.consume(v),r.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,r.check(jd,i.interrupt?t:d,r.attempt(vA,p,f))}function d(v){return i.containerState.initialBlankLine=!0,s++,p(v)}function f(v){return Et(v)?(r.enter("listItemPrefixWhitespace"),r.consume(v),r.exit("listItemPrefixWhitespace"),p):t(v)}function p(v){return i.containerState.size=s+i.sliceSerialize(r.exit("listItemPrefix"),!0).length,e(v)}}function bA(r,e,t){const i=this;return i.containerState._closeFlow=void 0,r.check(jd,n,s);function n(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Wt(r,e,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!Et(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,r.attempt(xA,e,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Wt(r,r.attempt(Jr,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function _A(r,e,t){const i=this;return Wt(r,n,"listItemIndent",i.containerState.size+1);function n(s){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?e(s):t(s)}}function SA(r){r.exit(this.containerState.type)}function wA(r,e,t){const i=this;return Wt(r,n,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function n(s){const a=i.events[i.events.length-1];return!Et(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const Q1={name:"setextUnderline",resolveTo:kA,tokenize:CA};function kA(r,e){let t=r.length,i,n,s;for(;t--;)if(r[t][0]==="enter"){if(r[t][1].type==="content"){i=t;break}r[t][1].type==="paragraph"&&(n=t)}else r[t][1].type==="content"&&r.splice(t,1),!s&&r[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:{...r[i][1].start},end:{...r[r.length-1][1].end}};return r[n][1].type="setextHeadingText",s?(r.splice(n,0,["enter",a,e]),r.splice(s+1,0,["exit",r[i][1],e]),r[i][1].end={...r[s][1].end}):r[i][1]=a,r.push(["exit",a,e]),r}function CA(r,e,t){const i=this;let n;return s;function s(u){let d=i.events.length,f;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){f=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||f)?(r.enter("setextHeadingLine"),n=u,a(u)):t(u)}function a(u){return r.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===n?(r.consume(u),o):(r.exit("setextHeadingLineSequence"),Et(u)?Wt(r,l,"lineSuffix")(u):l(u))}function l(u){return u===null||dt(u)?(r.exit("setextHeadingLine"),e(u)):t(u)}}const PA={tokenize:TA};function TA(r){const e=this,t=r.attempt(jd,i,r.attempt(this.parser.constructs.flowInitial,n,Wt(r,r.attempt(this.parser.constructs.flow,n,r.attempt(A4,n)),"linePrefix")));return t;function i(s){if(s===null){r.consume(s);return}return r.enter("lineEndingBlank"),r.consume(s),r.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function n(s){if(s===null){r.consume(s);return}return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),e.currentConstruct=void 0,t}}const EA={resolveAll:fk()},QA=dk("string"),RA=dk("text");function dk(r){return{resolveAll:fk(r==="text"?$A:void 0),tokenize:e};function e(t){const i=this,n=this.parser.constructs[r],s=t.attempt(n,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),l}function l(d){return u(d)?(t.exit("data"),s(d)):(t.consume(d),l)}function u(d){if(d===null)return!0;const f=n[d];let p=-1;if(f)for(;++p<f.length;){const v=f[p];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function fk(r){return e;function e(t,i){let n=-1,s;for(;++n<=t.length;)s===void 0?t[n]&&t[n][1].type==="data"&&(s=n,n++):(!t[n]||t[n][1].type!=="data")&&(n!==s+2&&(t[s][1].end=t[n-1][1].end,t.splice(s+2,n-s-2),n=s+2),s=void 0);return r?r(t,i):t}}function $A(r,e){let t=0;for(;++t<=r.length;)if((t===r.length||r[t][1].type==="lineEnding")&&r[t-1][1].type==="data"){const i=r[t-1][1],n=e.sliceStream(i);let s=n.length,a=-1,o=0,l;for(;s--;){const u=n[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===r.length&&(o=0),o){const u={type:t===r.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...u.start},i.start.offset===i.end.offset?Object.assign(i,u):(r.splice(t,0,["enter",u,e],["exit",u,e]),t+=2)}t++}return r}const AA={42:Jr,43:Jr,45:Jr,48:Jr,49:Jr,50:Jr,51:Jr,52:Jr,53:Jr,54:Jr,55:Jr,56:Jr,57:Jr,62:sk},LA={91:D4},MA={[-2]:Hp,[-1]:Hp,32:Hp},jA={35:W4,42:Au,45:[Q1,Au],60:U4,61:Q1,95:Au,96:T1,126:T1},NA={38:ak,92:ok},DA={[-5]:Yp,[-4]:Yp,[-3]:Yp,33:dA,38:ak,42:wg,60:[p4,tA],91:pA,92:[q4,ok],93:tO,95:wg,96:P4},IA={null:[wg,EA]},BA={null:[42,95]},zA={null:[]},qA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:BA,contentInitial:LA,disable:zA,document:AA,flow:jA,flowInitial:MA,insideSpan:IA,string:NA,text:DA},Symbol.toStringTag,{value:"Module"}));function XA(r,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const n={},s=[];let a=[],o=[];const l={attempt:R(T),check:R(C),consume:b,enter:_,exit:P,interrupt:R(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:S,parser:r,previous:null,sliceSerialize:p,sliceStream:v,write:f};let d=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function f(D){return a=Pi(a,D),m(),a[a.length-1]!==null?[]:(k(e,0),u.events=eO(s,u.events,u),u.events)}function p(D,A){return FA(v(D),A)}function v(D){return WA(a,D)}function S(){const{_bufferIndex:D,_index:A,line:N,column:q,offset:V}=i;return{_bufferIndex:D,_index:A,line:N,column:q,offset:V}}function x(D){n[D.line]=D.column,$()}function m(){let D;for(;i._index<a.length;){const A=a[i._index];if(typeof A=="string")for(D=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===D&&i._bufferIndex<A.length;)y(A.charCodeAt(i._bufferIndex));else y(A)}}function y(D){d=d(D)}function b(D){dt(D)?(i.line++,i.column=1,i.offset+=D===-3?2:1,$()):D!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=D}function _(D,A){const N=A||{};return N.type=D,N.start=S(),u.events.push(["enter",N,u]),o.push(N),N}function P(D){const A=o.pop();return A.end=S(),u.events.push(["exit",A,u]),A}function T(D,A){k(D,A.from)}function C(D,A){A.restore()}function R(D,A){return N;function N(q,V,K){let Y,L,z,M;return Array.isArray(q)?U(q):"tokenize"in q?U([q]):I(q);function I(ae){return B;function B(ee){const ie=ee!==null&&ae[ee],G=ee!==null&&ae.null,me=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(G)?G:G?[G]:[]];return U(me)(ee)}}function U(ae){return Y=ae,L=0,ae.length===0?K:W(ae[L])}function W(ae){return B;function B(ee){return M=E(),z=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?le():ae.tokenize.call(A?Object.assign(Object.create(u),A):u,l,se,le)(ee)}}function se(ae){return D(z,M),V}function le(ae){return M.restore(),++L<Y.length?W(Y[L]):K}}}function k(D,A){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&yn(u.events,A,u.events.length-A,D.resolve(u.events.slice(A),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function E(){const D=S(),A=u.previous,N=u.currentConstruct,q=u.events.length,V=Array.from(o);return{from:q,restore:K};function K(){i=D,u.previous=A,u.currentConstruct=N,u.events.length=q,o=V,$()}}function $(){i.line in n&&i.column<2&&(i.column=n[i.line],i.offset+=n[i.line]-1)}}function WA(r,e){const t=e.start._index,i=e.start._bufferIndex,n=e.end._index,s=e.end._bufferIndex;let a;if(t===n)a=[r[t].slice(i,s)];else{if(a=r.slice(t,n),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}s>0&&a.push(r[n].slice(0,s))}return a}function FA(r,e){let t=-1;const i=[];let n;for(;++t<r.length;){const s=r[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&n)continue;a=" ";break}default:a=String.fromCharCode(s)}n=s===-2,i.push(a)}return i.join("")}function ZA(r){const i={constructs:J$([qA,...(r||{}).extensions||[]]),content:n(a4),defined:[],document:n(c4),flow:n(PA),lazy:{},string:n(QA),text:n(RA)};return i;function n(s){return a;function a(o){return XA(i,s,o)}}}function VA(r){for(;!lk(r););return r}const R1=/[\0\t\n\r]/g;function UA(){let r=1,e="",t=!0,i;return n;function n(s,a,o){const l=[];let u,d,f,p,v;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,e="",t&&(s.charCodeAt(0)===65279&&f++,t=void 0);f<s.length;){if(R1.lastIndex=f,u=R1.exec(s),p=u&&u.index!==void 0?u.index:s.length,v=s.charCodeAt(p),!u){e=s.slice(f);break}if(v===10&&f===p&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),f<p&&(l.push(s.slice(f,p)),r+=p-f),v){case 0:{l.push(65533),r++;break}case 9:{for(d=Math.ceil(r/4)*4,l.push(-2);r++<d;)l.push(-1);break}case 10:{l.push(-4),r=1;break}default:i=!0,r=1}f=p+1}return o&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}const HA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function YA(r){return r.replace(HA,GA)}function GA(r,e,t){if(e)return e;if(t.charCodeAt(0)===35){const n=t.charCodeAt(1),s=n===120||n===88;return nk(t.slice(s?2:1),s?16:10)}return J0(t)||r}const pk={}.hasOwnProperty;function KA(r,e,t){return typeof e!="string"&&(t=e,e=void 0),JA(t)(VA(ZA(t).document().write(UA()(r,e,!0))))}function JA(r){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(et),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(st),blockQuote:s(G),characterEscape:E,characterReference:E,codeFenced:s(me),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(me,a),codeText:s(be,a),codeTextData:E,data:E,codeFlowValue:E,definition:s(Ie),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(qe),hardBreakEscape:s(_e),hardBreakTrailing:s(_e),htmlFlow:s(Se,a),htmlFlowData:E,htmlText:s(Se,a),htmlTextData:E,image:s(Ee),label:a,link:s(et),listItem:s(Xe),listItemValue:p,listOrdered:s(Be,f),listUnordered:s(Be),paragraph:s($e),reference:W,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(st),strong:s(Qe),thematicBreak:s(Pe)},exit:{atxHeading:l(),atxHeadingSequence:T,autolink:l(),autolinkEmail:ie,autolinkProtocol:ee,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ae,characterReference:B,codeFenced:l(m),codeFencedFence:x,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:$,codeIndented:l(y),codeText:l(V),codeTextData:$,data:$,definition:l(),definitionDestinationString:P,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(N),htmlFlowData:$,htmlText:l(q),htmlTextData:$,image:l(Y),label:z,labelText:L,lineEnding:D,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:se,resourceDestinationString:M,resourceTitleString:I,resource:U,setextHeading:l(k),setextHeadingLineSequence:R,setextHeadingText:C,strong:l(),thematicBreak:l()}};mk(e,(r||{}).mdastExtensions||[]);const t={};return i;function i(oe){let xe={type:"root",children:[]};const je={stack:[xe],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:d,data:t},te=[];let H=-1;for(;++H<oe.length;)if(oe[H][1].type==="listOrdered"||oe[H][1].type==="listUnordered")if(oe[H][0]==="enter")te.push(H);else{const de=te.pop();H=n(oe,de,H)}for(H=-1;++H<oe.length;){const de=e[oe[H][0]];pk.call(de,oe[H][1].type)&&de[oe[H][1].type].call(Object.assign({sliceSerialize:oe[H][2].sliceSerialize},je),oe[H][1])}if(je.tokenStack.length>0){const de=je.tokenStack[je.tokenStack.length-1];(de[1]||$1).call(je,void 0,de[0])}for(xe.position={start:ys(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:ys(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<e.transforms.length;)xe=e.transforms[H](xe)||xe;return xe}function n(oe,xe,je){let te=xe-1,H=-1,de=!1,Oe,pe,ot,Pt;for(;++te<=je;){const Qt=oe[te];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?H++:H--,Pt=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&(Oe&&!Pt&&!H&&!ot&&(ot=te),Pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pt=void 0}if(!H&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||H===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(Oe){let Ot=te;for(pe=void 0;Ot--;){const Lt=oe[Ot];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;pe&&(oe[pe][1].type="lineEndingBlank",de=!0),Lt[1].type="lineEnding",pe=Ot}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}ot&&(!pe||ot<pe)&&(Oe._spread=!0),Oe.end=Object.assign({},pe?oe[pe][1].start:Qt[1].end),oe.splice(pe||te,0,["exit",Oe,Qt[2]]),te++,je++}if(Qt[1].type==="listItemPrefix"){const Ot={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};Oe=Ot,oe.splice(te,0,["enter",Ot,Qt[2]]),te++,je++,ot=void 0,Pt=!0}}}return oe[xe][1]._spread=de,je}function s(oe,xe){return je;function je(te){o.call(this,oe(te),te),xe&&xe.call(this,te)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(oe,xe,je){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([xe,je||void 0]),oe.position={start:ys(xe.start),end:void 0}}function l(oe){return xe;function xe(je){oe&&oe.call(this,je),u.call(this,je)}}function u(oe,xe){const je=this.stack.pop(),te=this.tokenStack.pop();if(te)te[0].type!==oe.type&&(xe?xe.call(this,oe,te[0]):(te[1]||$1).call(this,oe,te[0]));else throw new Error("Cannot close `"+oe.type+"` ("+Vl({start:oe.start,end:oe.end})+"): its not open");je.position.end=ys(oe.end)}function d(){return G$(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(oe){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function v(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=oe}function S(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=oe}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=oe.replace(/(\r?\n|\r)$/g,"")}function b(oe){const xe=this.resume(),je=this.stack[this.stack.length-1];je.label=xe,je.identifier=da(this.sliceSerialize(oe)).toLowerCase()}function _(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=oe}function P(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=oe}function T(oe){const xe=this.stack[this.stack.length-1];if(!xe.depth){const je=this.sliceSerialize(oe).length;xe.depth=je}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function R(oe){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function E(oe){const je=this.stack[this.stack.length-1].children;let te=je[je.length-1];(!te||te.type!=="text")&&(te=ve(),te.position={start:ys(oe.start),end:void 0},je.push(te)),this.stack.push(te)}function $(oe){const xe=this.stack.pop();xe.value+=this.sliceSerialize(oe),xe.position.end=ys(oe.end)}function D(oe){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const je=xe.children[xe.children.length-1];je.position.end=ys(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(xe.type)&&(E.call(this,oe),$.call(this,oe))}function A(){this.data.atHardBreak=!0}function N(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=oe}function q(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=oe}function V(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=oe}function K(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=xe,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function Y(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=xe,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function L(oe){const xe=this.sliceSerialize(oe),je=this.stack[this.stack.length-2];je.label=YA(xe),je.identifier=da(xe).toLowerCase()}function z(){const oe=this.stack[this.stack.length-1],xe=this.resume(),je=this.stack[this.stack.length-1];if(this.data.inReference=!0,je.type==="link"){const te=oe.children;je.children=te}else je.alt=xe}function M(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=oe}function I(){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=oe}function U(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function se(oe){const xe=this.resume(),je=this.stack[this.stack.length-1];je.label=xe,je.identifier=da(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function le(oe){this.data.characterReferenceType=oe.type}function ae(oe){const xe=this.sliceSerialize(oe),je=this.data.characterReferenceType;let te;je?(te=nk(xe,je==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):te=J0(xe);const H=this.stack[this.stack.length-1];H.value+=te}function B(oe){const xe=this.stack.pop();xe.position.end=ys(oe.end)}function ee(oe){$.call(this,oe);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(oe)}function ie(oe){$.call(this,oe);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(oe)}function G(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function Ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qe(){return{type:"emphasis",children:[]}}function st(){return{type:"heading",depth:0,children:[]}}function _e(){return{type:"break"}}function Se(){return{type:"html",value:""}}function Ee(){return{type:"image",title:null,url:"",alt:null}}function et(){return{type:"link",title:null,url:"",children:[]}}function Be(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Xe(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function $e(){return{type:"paragraph",children:[]}}function Qe(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function ys(r){return{line:r.line,column:r.column,offset:r.offset}}function mk(r,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?mk(r,i):eL(r,i)}}function eL(r,e){let t;for(t in e)if(pk.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&r[t].push(...i);break}case"transforms":{const i=e[t];i&&r[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(r[t],i);break}}}function $1(r,e){throw r?new Error("Cannot close `"+r.type+"` ("+Vl({start:r.start,end:r.end})+"): a different token (`"+e.type+"`, "+Vl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Vl({start:e.start,end:e.end})+") is still open")}function tL(r){const e=this;e.parser=t;function t(i){return KA(i,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function rL(r,e){const t={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(e),!0)};return r.patch(e,t),r.applyData(e,t)}function iL(r,e){const t={type:"element",tagName:"br",properties:{},children:[]};return r.patch(e,t),[r.applyData(e,t),{type:"text",value:`
`}]}function nL(r,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let n={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(n.data={meta:e.meta}),r.patch(e,n),n=r.applyData(e,n),n={type:"element",tagName:"pre",properties:{},children:[n]},r.patch(e,n),n}function sL(r,e){const t={type:"element",tagName:"del",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function oL(r,e){const t={type:"element",tagName:"em",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function aL(r,e){const t=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),n=Da(i.toLowerCase()),s=r.footnoteOrder.indexOf(i);let a,o=r.footnoteCounts.get(i);o===void 0?(o=0,r.footnoteOrder.push(i),a=r.footnoteOrder.length):a=s+1,o+=1,r.footnoteCounts.set(i,o);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+n,id:t+"fnref-"+n+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};r.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return r.patch(e,u),r.applyData(e,u)}function lL(r,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function cL(r,e){if(r.options.allowDangerousHtml){const t={type:"raw",value:e.value};return r.patch(e,t),r.applyData(e,t)}}function gk(r,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const n=r.all(e),s=n[0];s&&s.type==="text"?s.value="["+s.value:n.unshift({type:"text",value:"["});const a=n[n.length-1];return a&&a.type==="text"?a.value+=i:n.push({type:"text",value:i}),n}function hL(r,e){const t=String(e.identifier).toUpperCase(),i=r.definitionById.get(t);if(!i)return gk(r,e);const n={src:Da(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(n.title=i.title);const s={type:"element",tagName:"img",properties:n,children:[]};return r.patch(e,s),r.applyData(e,s)}function uL(r,e){const t={src:Da(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return r.patch(e,i),r.applyData(e,i)}function dL(r,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};r.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return r.patch(e,i),r.applyData(e,i)}function fL(r,e){const t=String(e.identifier).toUpperCase(),i=r.definitionById.get(t);if(!i)return gk(r,e);const n={href:Da(i.url||"")};i.title!==null&&i.title!==void 0&&(n.title=i.title);const s={type:"element",tagName:"a",properties:n,children:r.all(e)};return r.patch(e,s),r.applyData(e,s)}function pL(r,e){const t={href:Da(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:r.all(e)};return r.patch(e,i),r.applyData(e,i)}function mL(r,e,t){const i=r.all(e),n=t?gL(t):Ok(e),s={},a=[];if(typeof e.checked=="boolean"){const d=i[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},i.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(n||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!n?a.push(...d.children):a.push(d)}const l=i[i.length-1];l&&(n||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return r.patch(e,u),r.applyData(e,u)}function gL(r){let e=!1;if(r.type==="list"){e=r.spread||!1;const t=r.children;let i=-1;for(;!e&&++i<t.length;)e=Ok(t[i])}return e}function Ok(r){const e=r.spread;return e??r.children.length>1}function OL(r,e){const t={},i=r.all(e);let n=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++n<i.length;){const a=i[n];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:r.wrap(i,!0)};return r.patch(e,s),r.applyData(e,s)}function vL(r,e){const t={type:"element",tagName:"p",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function xL(r,e){const t={type:"root",children:r.wrap(r.all(e))};return r.patch(e,t),r.applyData(e,t)}function yL(r,e){const t={type:"element",tagName:"strong",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function bL(r,e){const t=r.all(e),i=t.shift(),n=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:r.wrap([i],!0)};r.patch(e.children[0],a),n.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:r.wrap(t,!0)},o=H0(e.children[1]),l=Gw(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),n.push(a)}const s={type:"element",tagName:"table",properties:{},children:r.wrap(n,!0)};return r.patch(e,s),r.applyData(e,s)}function _L(r,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const f=e.children[l],p={},v=a?a[l]:void 0;v&&(p.align=v);let S={type:"element",tagName:s,properties:p,children:[]};f&&(S.children=r.all(f),r.patch(f,S),S=r.applyData(f,S)),u.push(S)}const d={type:"element",tagName:"tr",properties:{},children:r.wrap(u,!0)};return r.patch(e,d),r.applyData(e,d)}function SL(r,e){const t={type:"element",tagName:"td",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}const A1=9,L1=32;function wL(r){const e=String(r),t=/\r?\n|\r/g;let i=t.exec(e),n=0;const s=[];for(;i;)s.push(M1(e.slice(n,i.index),n>0,!0),i[0]),n=i.index+i[0].length,i=t.exec(e);return s.push(M1(e.slice(n),n>0,!1)),s.join("")}function M1(r,e,t){let i=0,n=r.length;if(e){let s=r.codePointAt(i);for(;s===A1||s===L1;)i++,s=r.codePointAt(i)}if(t){let s=r.codePointAt(n-1);for(;s===A1||s===L1;)n--,s=r.codePointAt(n-1)}return n>i?r.slice(i,n):""}function kL(r,e){const t={type:"text",value:wL(String(e.value))};return r.patch(e,t),r.applyData(e,t)}function CL(r,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(e,t),r.applyData(e,t)}const PL={blockquote:rL,break:iL,code:nL,delete:sL,emphasis:oL,footnoteReference:aL,heading:lL,html:cL,imageReference:hL,image:uL,inlineCode:dL,linkReference:fL,link:pL,listItem:mL,list:OL,paragraph:vL,root:xL,strong:yL,table:bL,tableCell:SL,tableRow:_L,text:kL,thematicBreak:CL,toml:tu,yaml:tu,definition:tu,footnoteDefinition:tu};function tu(){}const vk=-1,Nd=0,Hl=1,Ku=2,rO=3,iO=4,nO=5,sO=6,xk=7,yk=8,j1=typeof self=="object"?self:globalThis,TL=(r,e)=>{const t=(n,s)=>(r.set(s,n),n),i=n=>{if(r.has(n))return r.get(n);const[s,a]=e[n];switch(s){case Nd:case vk:return t(a,n);case Hl:{const o=t([],n);for(const l of a)o.push(i(l));return o}case Ku:{const o=t({},n);for(const[l,u]of a)o[i(l)]=i(u);return o}case rO:return t(new Date(a),n);case iO:{const{source:o,flags:l}=a;return t(new RegExp(o,l),n)}case nO:{const o=t(new Map,n);for(const[l,u]of a)o.set(i(l),i(u));return o}case sO:{const o=t(new Set,n);for(const l of a)o.add(i(l));return o}case xk:{const{name:o,message:l}=a;return t(new j1[o](l),n)}case yk:return t(BigInt(a),n);case"BigInt":return t(Object(BigInt(a)),n);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return t(new DataView(o),a)}}return t(new j1[s](a),n)};return i},N1=r=>TL(new Map,r)(0),ta="",{toString:EL}={},{keys:QL}=Object,Ql=r=>{const e=typeof r;if(e!=="object"||!r)return[Nd,e];const t=EL.call(r).slice(8,-1);switch(t){case"Array":return[Hl,ta];case"Object":return[Ku,ta];case"Date":return[rO,ta];case"RegExp":return[iO,ta];case"Map":return[nO,ta];case"Set":return[sO,ta];case"DataView":return[Hl,t]}return t.includes("Array")?[Hl,t]:t.includes("Error")?[xk,t]:[Ku,t]},ru=([r,e])=>r===Nd&&(e==="function"||e==="symbol"),RL=(r,e,t,i)=>{const n=(a,o)=>{const l=i.push(a)-1;return t.set(o,l),l},s=a=>{if(t.has(a))return t.get(a);let[o,l]=Ql(a);switch(o){case Nd:{let d=a;switch(l){case"bigint":o=yk,d=a.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return n([vk],a)}return n([o,d],a)}case Hl:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),n([l,[...p]],a)}const d=[],f=n([o,d],a);for(const p of a)d.push(s(p));return f}case Ku:{if(l)switch(l){case"BigInt":return n([l,a.toString()],a);case"Boolean":case"Number":case"String":return n([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const d=[],f=n([o,d],a);for(const p of QL(a))(r||!ru(Ql(a[p])))&&d.push([s(p),s(a[p])]);return f}case rO:return n([o,a.toISOString()],a);case iO:{const{source:d,flags:f}=a;return n([o,{source:d,flags:f}],a)}case nO:{const d=[],f=n([o,d],a);for(const[p,v]of a)(r||!(ru(Ql(p))||ru(Ql(v))))&&d.push([s(p),s(v)]);return f}case sO:{const d=[],f=n([o,d],a);for(const p of a)(r||!ru(Ql(p)))&&d.push(s(p));return f}}const{message:u}=a;return n([o,{name:l,message:u}],a)};return s},D1=(r,{json:e,lossy:t}={})=>{const i=[];return RL(!(e||t),!!e,new Map,i)(r),i},Ju=typeof structuredClone=="function"?(r,e)=>e&&("json"in e||"lossy"in e)?N1(D1(r,e)):structuredClone(r):(r,e)=>N1(D1(r,e));function $L(r,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function AL(r,e){return"Back to reference "+(r+1)+(e>1?"-"+e:"")}function LL(r){const e=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",t=r.options.footnoteBackContent||$L,i=r.options.footnoteBackLabel||AL,n=r.options.footnoteLabel||"Footnotes",s=r.options.footnoteLabelTagName||"h2",a=r.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<r.footnoteOrder.length;){const u=r.footnoteById.get(r.footnoteOrder[l]);if(!u)continue;const d=r.all(u),f=String(u.identifier).toUpperCase(),p=Da(f.toLowerCase());let v=0;const S=[],x=r.footnoteCounts.get(f);for(;x!==void 0&&++v<=x;){S.length>0&&S.push({type:"text",value:" "});let b=typeof t=="string"?t:t(l,v);typeof b=="string"&&(b={type:"text",value:b}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,v),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const m=d[d.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const b=m.children[m.children.length-1];b&&b.type==="text"?b.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...S)}else d.push(...S);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:r.wrap(d,!0)};r.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ju(a),id:"footnote-label"},children:[{type:"text",value:n}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(o,!0)},{type:"text",value:`
`}]}}const bk=function(r){if(r==null)return DL;if(typeof r=="function")return Dd(r);if(typeof r=="object")return Array.isArray(r)?ML(r):jL(r);if(typeof r=="string")return NL(r);throw new Error("Expected function, string, or object as test")};function ML(r){const e=[];let t=-1;for(;++t<r.length;)e[t]=bk(r[t]);return Dd(i);function i(...n){let s=-1;for(;++s<e.length;)if(e[s].apply(this,n))return!0;return!1}}function jL(r){const e=r;return Dd(t);function t(i){const n=i;let s;for(s in r)if(n[s]!==e[s])return!1;return!0}}function NL(r){return Dd(e);function e(t){return t&&t.type===r}}function Dd(r){return e;function e(t,i,n){return!!(IL(t)&&r.call(this,t,typeof i=="number"?i:void 0,n||void 0))}}function DL(){return!0}function IL(r){return r!==null&&typeof r=="object"&&"type"in r}const _k=[],BL=!0,I1=!1,zL="skip";function qL(r,e,t,i){let n;typeof e=="function"&&typeof t!="function"?(i=t,t=e):n=e;const s=bk(n),a=i?-1:1;o(r,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const v=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(v?"<"+v+">":""))+")"})}return p;function p(){let v=_k,S,x,m;if((!e||s(l,u,d[d.length-1]||void 0))&&(v=XL(t(l,d)),v[0]===I1))return v;if("children"in l&&l.children){const y=l;if(y.children&&v[0]!==zL)for(x=(i?y.children.length:-1)+a,m=d.concat(y);x>-1&&x<y.children.length;){const b=y.children[x];if(S=o(b,x,m)(),S[0]===I1)return S;x=typeof S[1]=="number"?S[1]:x+a}}return v}}}function XL(r){return Array.isArray(r)?r:typeof r=="number"?[BL,r]:r==null?_k:[r]}function Sk(r,e,t,i){let n,s,a;typeof e=="function"&&typeof t!="function"?(s=void 0,a=e,n=t):(s=e,a=t,n=i),qL(r,s,o,n);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const kg={}.hasOwnProperty,WL={};function FL(r,e){const t=e||WL,i=new Map,n=new Map,s=new Map,a={...PL,...t.handlers},o={all:u,applyData:VL,definitionById:i,footnoteById:n,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:t,patch:ZL,wrap:HL};return Sk(r,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?i:n,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),o;function l(d,f){const p=d.type,v=o.handlers[p];if(kg.call(o.handlers,p)&&v)return v(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:x,...m}=d,y=Ju(m);return y.children=o.all(d),y}return Ju(d)}return(o.options.unknownHandler||UL)(o,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let v=-1;for(;++v<p.length;){const S=o.one(p[v],d);if(S){if(v&&p[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=B1(S.value)),!Array.isArray(S)&&S.type==="element")){const x=S.children[0];x&&x.type==="text"&&(x.value=B1(x.value))}Array.isArray(S)?f.push(...S):f.push(S)}}}return f}}function ZL(r,e){r.position&&(e.position=E$(r))}function VL(r,e){let t=e;if(r&&r.data){const i=r.data.hName,n=r.data.hChildren,s=r.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const a="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:a}}t.type==="element"&&s&&Object.assign(t.properties,Ju(s)),"children"in t&&t.children&&n!==null&&n!==void 0&&(t.children=n)}return t}function UL(r,e){const t=e.data||{},i="value"in e&&!(kg.call(t,"hProperties")||kg.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:r.all(e)};return r.patch(e,i),r.applyData(e,i)}function HL(r,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<r.length;)i&&t.push({type:"text",value:`
`}),t.push(r[i]);return e&&r.length>0&&t.push({type:"text",value:`
`}),t}function B1(r){let e=0,t=r.charCodeAt(e);for(;t===9||t===32;)e++,t=r.charCodeAt(e);return r.slice(e)}function z1(r,e){const t=FL(r,e),i=t.one(r,void 0),n=LL(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return n&&s.children.push({type:"text",value:`
`},n),s}function YL(r,e){return r&&"run"in r?async function(t,i){const n=z1(t,{file:i,...e});await r.run(n,i)}:function(t,i){return z1(t,{file:i,...r||e})}}function q1(r){if(r)throw r}var Gp,X1;function GL(){if(X1)return Gp;X1=1;var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=r.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&r.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!f)return!1;var p;for(p in u);return typeof p>"u"||r.call(u,p)},a=function(u,d){t&&d.name==="__proto__"?t(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(r.call(u,d)){if(i)return i(u,d).value}else return;return u[d]};return Gp=function l(){var u,d,f,p,v,S,x=arguments[0],m=1,y=arguments.length,b=!1;for(typeof x=="boolean"&&(b=x,x=arguments[1]||{},m=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});m<y;++m)if(u=arguments[m],u!=null)for(d in u)f=o(x,d),p=o(u,d),x!==p&&(b&&p&&(s(p)||(v=n(p)))?(v?(v=!1,S=f&&n(f)?f:[]):S=f&&s(f)?f:{},a(x,{name:d,newValue:l(b,S,p)})):typeof p<"u"&&a(x,{name:d,newValue:p}));return x},Gp}var KL=GL();const Kp=Aa(KL);function Cg(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function JL(){const r=[],e={run:t,use:i};return e;function t(...n){let s=-1;const a=n.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...n);function o(l,...u){const d=r[++s];let f=-1;if(l){a(l);return}for(;++f<n.length;)(u[f]===null||u[f]===void 0)&&(u[f]=n[f]);n=u,d?eM(d,o)(...u):a(null,...u)}}function i(n){if(typeof n!="function")throw new TypeError("Expected `middelware` to be a function, not "+n);return r.push(n),e}}function eM(r,e){let t;return i;function i(...a){const o=r.length>a.length;let l;o&&a.push(n);try{l=r.apply(this,a)}catch(u){const d=u;if(o&&t)throw d;return n(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,n):l instanceof Error?n(l):s(l))}function n(a,...o){t||(t=!0,e(a,...o))}function s(a){n(null,a)}}const hn={basename:tM,dirname:rM,extname:iM,join:nM,sep:"/"};function tM(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');$c(r);let t=0,i=-1,n=r.length,s;if(e===void 0||e.length===0||e.length>r.length){for(;n--;)if(r.codePointAt(n)===47){if(s){t=n+1;break}}else i<0&&(s=!0,i=n+1);return i<0?"":r.slice(t,i)}if(e===r)return"";let a=-1,o=e.length-1;for(;n--;)if(r.codePointAt(n)===47){if(s){t=n+1;break}}else a<0&&(s=!0,a=n+1),o>-1&&(r.codePointAt(n)===e.codePointAt(o--)?o<0&&(i=n):(o=-1,i=a));return t===i?i=a:i<0&&(i=r.length),r.slice(t,i)}function rM(r){if($c(r),r.length===0)return".";let e=-1,t=r.length,i;for(;--t;)if(r.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?r.codePointAt(0)===47?"/":".":e===1&&r.codePointAt(0)===47?"//":r.slice(0,e)}function iM(r){$c(r);let e=r.length,t=-1,i=0,n=-1,s=0,a;for(;e--;){const o=r.codePointAt(e);if(o===47){if(a){i=e+1;break}continue}t<0&&(a=!0,t=e+1),o===46?n<0?n=e:s!==1&&(s=1):n>-1&&(s=-1)}return n<0||t<0||s===0||s===1&&n===t-1&&n===i+1?"":r.slice(n,t)}function nM(...r){let e=-1,t;for(;++e<r.length;)$c(r[e]),r[e]&&(t=t===void 0?r[e]:t+"/"+r[e]);return t===void 0?".":sM(t)}function sM(r){$c(r);const e=r.codePointAt(0)===47;let t=oM(r,!e);return t.length===0&&!e&&(t="."),t.length>0&&r.codePointAt(r.length-1)===47&&(t+="/"),e?"/"+t:t}function oM(r,e){let t="",i=0,n=-1,s=0,a=-1,o,l;for(;++a<=r.length;){if(a<r.length)o=r.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",i=0):(t=t.slice(0,l),i=t.length-1-t.lastIndexOf("/")),n=a,s=0;continue}}else if(t.length>0){t="",i=0,n=a,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+r.slice(n+1,a):t=r.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s>-1?s++:s=-1}return t}function $c(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const aM={cwd:lM};function lM(){return"/"}function Pg(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function cM(r){if(typeof r=="string")r=new URL(r);else if(!Pg(r)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(r.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hM(r)}function hM(r){if(r.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=r.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const n=new TypeError("File URL path must not include encoded / characters");throw n.code="ERR_INVALID_FILE_URL_PATH",n}}return decodeURIComponent(e)}const Jp=["history","path","basename","stem","extname","dirname"];class wk{constructor(e){let t;e?Pg(e)?t={path:e}:typeof e=="string"||uM(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":aM.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Jp.length;){const s=Jp[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let n;for(n in t)Jp.includes(n)||(this[n]=t[n])}get basename(){return typeof this.path=="string"?hn.basename(this.path):void 0}set basename(e){tm(e,"basename"),em(e,"basename"),this.path=hn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?hn.dirname(this.path):void 0}set dirname(e){W1(this.basename,"dirname"),this.path=hn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?hn.extname(this.path):void 0}set extname(e){if(em(e,"extname"),W1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Pg(e)&&(e=cM(e)),tm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?hn.basename(this.path,this.extname):void 0}set stem(e){tm(e,"stem"),em(e,"stem"),this.path=hn.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const n=this.message(e,t,i);throw n.fatal=!0,n}info(e,t,i){const n=this.message(e,t,i);return n.fatal=void 0,n}message(e,t,i){const n=new Ir(e,t,i);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function em(r,e){if(r&&r.includes(hn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+hn.sep+"`")}function tm(r,e){if(!r)throw new Error("`"+e+"` cannot be empty")}function W1(r,e){if(!r)throw new Error("Setting `"+e+"` requires `path` to be set too")}function uM(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const dM=function(r){const i=this.constructor.prototype,n=i[r],s=function(){return n.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},fM={}.hasOwnProperty;class oO extends dM{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=JL()}copy(){const e=new oO;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(Kp(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(nm("data",this.frozen),this.namespace[e]=t,this):fM.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const n=t.call(e,...i);typeof n=="function"&&this.transformers.use(n)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=iu(e),i=this.parser||this.Parser;return rm("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),rm("process",this.parser||this.Parser),im("process",this.compiler||this.Compiler),t?n(void 0,t):new Promise(n);function n(s,a){const o=iu(e),l=i.parse(o);i.run(l,o,function(d,f,p){if(d||!f||!p)return u(d);const v=f,S=i.stringify(v,p);gM(S)?p.value=S:p.result=S,u(d,p)});function u(d,f){d||!f?a(d):s?s(f):t(void 0,f)}}}processSync(e){let t=!1,i;return this.freeze(),rm("processSync",this.parser||this.Parser),im("processSync",this.compiler||this.Compiler),this.process(e,n),Z1("processSync","process",t),i;function n(s,a){t=!0,q1(s),i=a}}run(e,t,i){F1(e),this.freeze();const n=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(a,o){const l=iu(t);n.run(e,l,u);function u(d,f,p){const v=f||e;d?o(d):a?a(v):i(void 0,v,p)}}}runSync(e,t){let i=!1,n;return this.run(e,t,s),Z1("runSync","run",i),n;function s(a,o){q1(a),n=o,i=!0}}stringify(e,t){this.freeze();const i=iu(t),n=this.compiler||this.Compiler;return im("stringify",n),F1(e),n(e,i)}use(e,...t){const i=this.attachers,n=this.namespace;if(nm("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(n.settings=Kp(!0,n.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<i.length;)if(i[f][0]===u){p=f;break}if(p===-1)i.push([u,...d]);else if(d.length>0){let[v,...S]=d;const x=i[p][1];Cg(x)&&Cg(v)&&(v=Kp(!0,x,v)),i[p]=[u,v,...S]}}}}const pM=new oO().freeze();function rm(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function im(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function nm(r,e){if(e)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function F1(r){if(!Cg(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function Z1(r,e,t){if(!t)throw new Error("`"+r+"` finished async. Use `"+e+"` instead")}function iu(r){return mM(r)?r:new wk(r)}function mM(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function gM(r){return typeof r=="string"||OM(r)}function OM(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const vM="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",V1=[],U1={allowDangerousHtml:!0},xM=/^(https?|ircs?|mailto|xmpp)$/i,yM=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rl(r){const e=bM(r),t=_M(r);return SM(e.runSync(e.parse(t),t),r)}function bM(r){const e=r.rehypePlugins||V1,t=r.remarkPlugins||V1,i=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...U1}:U1;return pM().use(tL).use(t).use(YL,i).use(e)}function _M(r){const e=r.children||"",t=new wk;return typeof e=="string"&&(t.value=e),t}function SM(r,e){const t=e.allowedElements,i=e.allowElement,n=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||wM;for(const d of yM)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+vM+d.id,void 0);return Sk(r,u),L$(r,{Fragment:g.Fragment,components:n,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return a?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let v;for(v in Up)if(Object.hasOwn(Up,v)&&Object.hasOwn(d.properties,v)){const S=d.properties[v],x=Up[v];(x===null||x.includes(d.tagName))&&(d.properties[v]=l(String(S||""),v,d))}}if(d.type==="element"){let v=t?!t.includes(d.tagName):s?s.includes(d.tagName):!1;if(!v&&i&&typeof f=="number"&&(v=!i(d,f,p)),v&&p&&typeof f=="number")return o&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function wM(r){const e=r.indexOf(":"),t=r.indexOf("?"),i=r.indexOf("#"),n=r.indexOf("/");return e===-1||n!==-1&&e>n||t!==-1&&e>t||i!==-1&&e>i||xM.test(r.slice(0,e))?r:""}var sm={exports:{}},om,H1;function kM(){if(H1)return om;H1=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return om=r,om}var am,Y1;function CM(){if(Y1)return am;Y1=1;var r=kM();function e(){}function t(){}return t.resetWarningCache=e,am=function(){function i(a,o,l,u,d,f){if(f!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},am}var G1;function PM(){return G1||(G1=1,sm.exports=CM()()),sm.exports}var TM=PM();const Mt=Aa(TM);function Co(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(f){a(f)}}function l(d){try{u(i.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):n(d.value).then(o,l)}u((i=i.apply(r,e||[])).next())})}const EM=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ba(r,e,t){const i=QM(r),{webkitRelativePath:n}=r,s=typeof e=="string"?e:typeof n=="string"&&n.length>0?n:`./${r.name}`;return typeof i.path!="string"&&K1(i,"path",s),K1(i,"relativePath",s),i}function QM(r){const{name:e}=r;if(e&&e.lastIndexOf(".")!==-1&&!r.type){const i=e.split(".").pop().toLowerCase(),n=EM.get(i);n&&Object.defineProperty(r,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return r}function K1(r,e,t){Object.defineProperty(r,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const RM=[".DS_Store","Thumbs.db"];function $M(r){return Co(this,void 0,void 0,function*(){return ed(r)&&AM(r.dataTransfer)?NM(r.dataTransfer,r.type):LM(r)?MM(r):Array.isArray(r)&&r.every(e=>"getFile"in e&&typeof e.getFile=="function")?jM(r):[]})}function AM(r){return ed(r)}function LM(r){return ed(r)&&ed(r.target)}function ed(r){return typeof r=="object"&&r!==null}function MM(r){return Tg(r.target.files).map(e=>ba(e))}function jM(r){return Co(this,void 0,void 0,function*(){return(yield Promise.all(r.map(t=>t.getFile()))).map(t=>ba(t))})}function NM(r,e){return Co(this,void 0,void 0,function*(){if(r.items){const t=Tg(r.items).filter(n=>n.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(DM));return J1(kk(i))}return J1(Tg(r.files).map(t=>ba(t)))})}function J1(r){return r.filter(e=>RM.indexOf(e.name)===-1)}function Tg(r){if(r===null)return[];const e=[];for(let t=0;t<r.length;t++){const i=r[t];e.push(i)}return e}function DM(r){if(typeof r.webkitGetAsEntry!="function")return eb(r);const e=r.webkitGetAsEntry();return e&&e.isDirectory?Ck(e):eb(r,e)}function kk(r){return r.reduce((e,t)=>[...e,...Array.isArray(t)?kk(t):[t]],[])}function eb(r,e){return Co(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const s=yield r.getAsFileSystemHandle();if(s===null)throw new Error(`${r} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,ba(a)}}const i=r.getAsFile();if(!i)throw new Error(`${r} is not a File`);return ba(i,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function IM(r){return Co(this,void 0,void 0,function*(){return r.isDirectory?Ck(r):BM(r)})}function Ck(r){const e=r.createReader();return new Promise((t,i)=>{const n=[];function s(){e.readEntries(a=>Co(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(IM));n.push(o),s()}else try{const o=yield Promise.all(n);t(o)}catch(o){i(o)}}),a=>{i(a)})}s()})}function BM(r){return Co(this,void 0,void 0,function*(){return new Promise((e,t)=>{r.file(i=>{const n=ba(i,r.fullPath);e(n)},i=>{t(i)})})})}var nu={},tb;function zM(){return tb||(tb=1,nu.__esModule=!0,nu.default=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=r.name||"",n=(r.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return t.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):n===o})}return!0}),nu}var qM=zM();const lm=Aa(qM);function rb(r){return FM(r)||WM(r)||Tk(r)||XM()}function XM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function FM(r){if(Array.isArray(r))return Eg(r)}function ib(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function nb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(t),!0).forEach(function(i){Pk(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ib(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Pk(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ac(r,e){return UM(r)||VM(r,e)||Tk(r,e)||ZM()}function ZM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tk(r,e){if(r){if(typeof r=="string")return Eg(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eg(r,e)}}function Eg(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function VM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i=[],n=!0,s=!1,a,o;try{for(t=t.call(r);!(n=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function UM(r){if(Array.isArray(r))return r}var HM=typeof lm=="function"?lm:lm.default,YM="file-invalid-type",GM="file-too-large",KM="file-too-small",JM="too-many-files",ej=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:YM,message:"File type must be ".concat(i)}},sb=function(e){return{code:GM,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ob=function(e){return{code:KM,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},tj={code:JM,message:"Too many files"};function Ek(r,e){var t=r.type==="application/x-moz-file"||HM(r,e);return[t,t?null:ej(e)]}function Qk(r,e,t){if(oo(r.size))if(oo(e)&&oo(t)){if(r.size>t)return[!1,sb(t)];if(r.size<e)return[!1,ob(e)]}else{if(oo(e)&&r.size<e)return[!1,ob(e)];if(oo(t)&&r.size>t)return[!1,sb(t)]}return[!0,null]}function oo(r){return r!=null}function rj(r){var e=r.files,t=r.accept,i=r.minSize,n=r.maxSize,s=r.multiple,a=r.maxFiles,o=r.validator;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(l){var u=Ek(l,t),d=ac(u,1),f=d[0],p=Qk(l,i,n),v=ac(p,1),S=v[0],x=o?o(l):null;return f&&S&&!x})}function td(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function su(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function ab(r){r.preventDefault()}function ij(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function nj(r){return r.indexOf("Edge/")!==-1}function sj(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ij(r)||nj(r)}function nn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(i){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return e.some(function(o){return!td(i)&&o&&o.apply(void 0,[i].concat(s)),td(i)})}}function oj(){return"showOpenFilePicker"in window}function aj(r){if(oo(r)){var e=Object.entries(r).filter(function(t){var i=ac(t,2),n=i[0],s=i[1],a=!0;return Rk(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every($k))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(t,i){var n=ac(i,2),s=n[0],a=n[1];return nb(nb({},t),{},Pk({},s,a))},{});return[{description:"Files",accept:e}]}return r}function lj(r){if(oo(r))return Object.entries(r).reduce(function(e,t){var i=ac(t,2),n=i[0],s=i[1];return[].concat(rb(e),[n],rb(s))},[]).filter(function(e){return Rk(e)||$k(e)}).join(",")}function cj(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function hj(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function Rk(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function $k(r){return/^.*\.[\w]+$/.test(r)}var uj=["children"],dj=["open"],fj=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pj=["refKey","onChange","onClick"];function mj(r){return vj(r)||Oj(r)||Ak(r)||gj()}function gj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oj(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vj(r){if(Array.isArray(r))return Qg(r)}function cm(r,e){return bj(r)||yj(r,e)||Ak(r,e)||xj()}function xj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ak(r,e){if(r){if(typeof r=="string")return Qg(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qg(r,e)}}function Qg(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function yj(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i=[],n=!0,s=!1,a,o;try{for(t=t.call(r);!(n=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function bj(r){if(Array.isArray(r))return r}function lb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function Jt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(t),!0).forEach(function(i){Rg(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lb(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Rg(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rd(r,e){if(r==null)return{};var t=_j(r,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function _j(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,s;for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var aO=F.forwardRef(function(r,e){var t=r.children,i=rd(r,uj),n=Mk(i),s=n.open,a=rd(n,dj);return F.useImperativeHandle(e,function(){return{open:s}},[s]),Vn.createElement(F.Fragment,null,t(Jt(Jt({},a),{},{open:s})))});aO.displayName="Dropzone";var Lk={disabled:!1,getFilesFromEvent:$M,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};aO.defaultProps=Lk;aO.propTypes={children:Mt.func,accept:Mt.objectOf(Mt.arrayOf(Mt.string)),multiple:Mt.bool,preventDropOnDocument:Mt.bool,noClick:Mt.bool,noKeyboard:Mt.bool,noDrag:Mt.bool,noDragEventsBubbling:Mt.bool,minSize:Mt.number,maxSize:Mt.number,maxFiles:Mt.number,disabled:Mt.bool,getFilesFromEvent:Mt.func,onFileDialogCancel:Mt.func,onFileDialogOpen:Mt.func,useFsAccessApi:Mt.bool,autoFocus:Mt.bool,onDragEnter:Mt.func,onDragLeave:Mt.func,onDragOver:Mt.func,onDrop:Mt.func,onDropAccepted:Mt.func,onDropRejected:Mt.func,onError:Mt.func,validator:Mt.func};var $g={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Mk(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Jt(Jt({},Lk),r),t=e.accept,i=e.disabled,n=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,v=e.onDropAccepted,S=e.onDropRejected,x=e.onFileDialogCancel,m=e.onFileDialogOpen,y=e.useFsAccessApi,b=e.autoFocus,_=e.preventDropOnDocument,P=e.noClick,T=e.noKeyboard,C=e.noDrag,R=e.noDragEventsBubbling,k=e.onError,E=e.validator,$=F.useMemo(function(){return lj(t)},[t]),D=F.useMemo(function(){return aj(t)},[t]),A=F.useMemo(function(){return typeof m=="function"?m:cb},[m]),N=F.useMemo(function(){return typeof x=="function"?x:cb},[x]),q=F.useRef(null),V=F.useRef(null),K=F.useReducer(Sj,$g),Y=cm(K,2),L=Y[0],z=Y[1],M=L.isFocused,I=L.isFileDialogActive,U=F.useRef(typeof window<"u"&&window.isSecureContext&&y&&oj()),W=function(){!U.current&&I&&setTimeout(function(){if(V.current){var Pe=V.current.files;Pe.length||(z({type:"closeDialog"}),N())}},300)};F.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[V,I,N,U]);var se=F.useRef([]),le=function(Pe){q.current&&q.current.contains(Pe.target)||(Pe.preventDefault(),se.current=[])};F.useEffect(function(){return _&&(document.addEventListener("dragover",ab,!1),document.addEventListener("drop",le,!1)),function(){_&&(document.removeEventListener("dragover",ab),document.removeEventListener("drop",le))}},[q,_]),F.useEffect(function(){return!i&&b&&q.current&&q.current.focus(),function(){}},[q,b,i]);var ae=F.useCallback(function(ve){k?k(ve):console.error(ve)},[k]),B=F.useCallback(function(ve){ve.preventDefault(),ve.persist(),Be(ve),se.current=[].concat(mj(se.current),[ve.target]),su(ve)&&Promise.resolve(n(ve)).then(function(Pe){if(!(td(ve)&&!R)){var oe=Pe.length,xe=oe>0&&rj({files:Pe,accept:$,minSize:a,maxSize:s,multiple:o,maxFiles:l,validator:E}),je=oe>0&&!xe;z({isDragAccept:xe,isDragReject:je,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ve)}}).catch(function(Pe){return ae(Pe)})},[n,u,ae,R,$,a,s,o,l,E]),ee=F.useCallback(function(ve){ve.preventDefault(),ve.persist(),Be(ve);var Pe=su(ve);if(Pe&&ve.dataTransfer)try{ve.dataTransfer.dropEffect="copy"}catch{}return Pe&&f&&f(ve),!1},[f,R]),ie=F.useCallback(function(ve){ve.preventDefault(),ve.persist(),Be(ve);var Pe=se.current.filter(function(xe){return q.current&&q.current.contains(xe)}),oe=Pe.indexOf(ve.target);oe!==-1&&Pe.splice(oe,1),se.current=Pe,!(Pe.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),su(ve)&&d&&d(ve))},[q,d,R]),G=F.useCallback(function(ve,Pe){var oe=[],xe=[];ve.forEach(function(je){var te=Ek(je,$),H=cm(te,2),de=H[0],Oe=H[1],pe=Qk(je,a,s),ot=cm(pe,2),Pt=ot[0],Qt=ot[1],Ot=E?E(je):null;if(de&&Pt&&!Ot)oe.push(je);else{var Lt=[Oe,Qt];Ot&&(Lt=Lt.concat(Ot)),xe.push({file:je,errors:Lt.filter(function(ji){return ji})})}}),(!o&&oe.length>1||o&&l>=1&&oe.length>l)&&(oe.forEach(function(je){xe.push({file:je,errors:[tj]})}),oe.splice(0)),z({acceptedFiles:oe,fileRejections:xe,isDragReject:xe.length>0,type:"setFiles"}),p&&p(oe,xe,Pe),xe.length>0&&S&&S(xe,Pe),oe.length>0&&v&&v(oe,Pe)},[z,o,$,a,s,l,p,v,S,E]),me=F.useCallback(function(ve){ve.preventDefault(),ve.persist(),Be(ve),se.current=[],su(ve)&&Promise.resolve(n(ve)).then(function(Pe){td(ve)&&!R||G(Pe,ve)}).catch(function(Pe){return ae(Pe)}),z({type:"reset"})},[n,G,ae,R]),be=F.useCallback(function(){if(U.current){z({type:"openDialog"}),A();var ve={multiple:o,types:D};window.showOpenFilePicker(ve).then(function(Pe){return n(Pe)}).then(function(Pe){G(Pe,null),z({type:"closeDialog"})}).catch(function(Pe){cj(Pe)?(N(Pe),z({type:"closeDialog"})):hj(Pe)?(U.current=!1,V.current?(V.current.value=null,V.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(Pe)});return}V.current&&(z({type:"openDialog"}),A(),V.current.value=null,V.current.click())},[z,A,N,y,G,ae,D,o]),Ie=F.useCallback(function(ve){!q.current||!q.current.isEqualNode(ve.target)||(ve.key===" "||ve.key==="Enter"||ve.keyCode===32||ve.keyCode===13)&&(ve.preventDefault(),be())},[q,be]),qe=F.useCallback(function(){z({type:"focus"})},[]),st=F.useCallback(function(){z({type:"blur"})},[]),_e=F.useCallback(function(){P||(sj()?setTimeout(be,0):be())},[P,be]),Se=function(Pe){return i?null:Pe},Ee=function(Pe){return T?null:Se(Pe)},et=function(Pe){return C?null:Se(Pe)},Be=function(Pe){R&&Pe.stopPropagation()},Xe=F.useMemo(function(){return function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ve.refKey,oe=Pe===void 0?"ref":Pe,xe=ve.role,je=ve.onKeyDown,te=ve.onFocus,H=ve.onBlur,de=ve.onClick,Oe=ve.onDragEnter,pe=ve.onDragOver,ot=ve.onDragLeave,Pt=ve.onDrop,Qt=rd(ve,fj);return Jt(Jt(Rg({onKeyDown:Ee(nn(je,Ie)),onFocus:Ee(nn(te,qe)),onBlur:Ee(nn(H,st)),onClick:Se(nn(de,_e)),onDragEnter:et(nn(Oe,B)),onDragOver:et(nn(pe,ee)),onDragLeave:et(nn(ot,ie)),onDrop:et(nn(Pt,me)),role:typeof xe=="string"&&xe!==""?xe:"presentation"},oe,q),!i&&!T?{tabIndex:0}:{}),Qt)}},[q,Ie,qe,st,_e,B,ee,ie,me,T,C,i]),$e=F.useCallback(function(ve){ve.stopPropagation()},[]),Qe=F.useMemo(function(){return function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ve.refKey,oe=Pe===void 0?"ref":Pe,xe=ve.onChange,je=ve.onClick,te=rd(ve,pj),H=Rg({accept:$,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Se(nn(xe,me)),onClick:Se(nn(je,$e)),tabIndex:-1},oe,V);return Jt(Jt({},H),te)}},[V,t,o,me,i]);return Jt(Jt({},L),{},{isFocused:M&&!i,getRootProps:Xe,getInputProps:Qe,rootRef:q,inputRef:V,open:Se(be)})}function Sj(r,e){switch(e.type){case"focus":return Jt(Jt({},r),{},{isFocused:!0});case"blur":return Jt(Jt({},r),{},{isFocused:!1});case"openDialog":return Jt(Jt({},$g),{},{isFileDialogActive:!0});case"closeDialog":return Jt(Jt({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jt(Jt({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Jt(Jt({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Jt({},$g);default:return r}}function cb(){}const hm=({todos:r,isResult:e=!1})=>{if(!r||!Array.isArray(r))return null;const t=s=>{switch(s){case"completed":return g.jsx(JR,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"in_progress":return g.jsx(fg,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"});case"pending":default:return g.jsx(t3,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},i=s=>{switch(s){case"completed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border-green-200 dark:border-green-800";case"in_progress":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-800";case"pending":default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700"}},n=s=>{switch(s){case"high":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800";case"medium":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800";case"low":default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700"}};return g.jsxs("div",{className:"space-y-3",children:[e&&g.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Todo List (",r.length," ",r.length===1?"item":"items",")"]}),r.map(s=>g.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md dark:shadow-gray-900/50 transition-shadow",children:[g.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t(s.status)}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[g.jsx("p",{className:`text-sm font-medium ${s.status==="completed"?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:s.content}),g.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[g.jsx(ya,{variant:"outline",className:`text-xs px-2 py-0.5 ${n(s.priority)}`,children:s.priority}),g.jsx(ya,{variant:"outline",className:`text-xs px-2 py-0.5 ${i(s.status)}`,children:s.status.replace("_"," ")})]})]})})]},s.id))]})};function wj({status:r,onAbort:e,isLoading:t}){const[i,n]=F.useState(0),[s,a]=F.useState(0),[o,l]=F.useState(0);if(F.useEffect(()=>{if(!t){n(0),l(0);return}const m=Date.now(),y=setInterval(()=>{const b=Math.floor((Date.now()-m)/1e3);n(b),l(Math.floor(b*(30+Math.random()*20)))},1e3);return()=>clearInterval(y)},[t]),F.useEffect(()=>{if(!t)return;const m=setInterval(()=>{a(y=>(y+1)%4)},500);return()=>clearInterval(m)},[t]),!t)return null;const u=["Thinking","Processing","Analyzing","Working","Computing","Reasoning"],d=Math.floor(i/3)%u.length,f=r?.text||u[d],p=r?.tokens||o,v=r?.can_interrupt!==!1,x=["","","",""][s];return g.jsx("div",{className:"w-full mb-6 animate-in slide-in-from-bottom duration-300",children:g.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto bg-gray-900 dark:bg-gray-950 text-white rounded-lg shadow-lg px-4 py-3",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:fr("text-xl transition-all duration-500",s%2===0?"text-blue-400 scale-110":"text-blue-300"),children:x}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"font-medium text-sm",children:[f,"..."]}),g.jsxs("span",{className:"text-gray-400 text-sm",children:["(",i,"s)"]}),p>0&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-gray-400",children:""}),g.jsxs("span",{className:"text-gray-300 text-sm hidden sm:inline",children:[" ",p.toLocaleString()," tokens"]}),g.jsxs("span",{className:"text-gray-300 text-sm sm:hidden",children:[" ",p.toLocaleString()]})]}),g.jsx("span",{className:"text-gray-400 hidden sm:inline",children:""}),g.jsx("span",{className:"text-gray-300 text-sm hidden sm:inline",children:"esc to interrupt"})]}),g.jsx("div",{className:"text-xs text-gray-400 sm:hidden mt-1",children:"esc to interrupt"})]})]})}),v&&e&&g.jsxs("button",{onClick:e,className:"ml-3 text-xs bg-red-600 hover:bg-red-700 text-white px-2.5 py-1 sm:px-3 sm:py-1.5 rounded-md transition-colors flex items-center gap-1.5 flex-shrink-0",children:[g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),g.jsx("span",{className:"hidden sm:inline",children:"Stop"})]})]})})}async function kj(r,e){const t=new FormData,i=`recording_${Date.now()}.webm`,n=new File([r],i,{type:r.type});t.append("audio",n);const s=window.localStorage.getItem("whisperMode")||"default";t.append("mode",s);try{const a=await br.transcribe(t);if(!a.ok){const l=await a.json().catch(()=>({}));throw new Error(l.error||`Transcription error: ${a.status} ${a.statusText}`)}return(await a.json()).text||""}catch(a){throw a.name==="TypeError"&&a.message.includes("fetch")?new Error("Cannot connect to server. Please ensure the backend is running."):a}}function jk({onTranscript:r,className:e=""}){const[t,i]=F.useState("idle"),[n,s]=F.useState(null),[a,o]=F.useState(!0),l=F.useRef(null),u=F.useRef(null),d=F.useRef([]),f=F.useRef(0);F.useEffect(()=>{(()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){o(!1),s("Microphone not supported. Please use HTTPS or a modern browser.");return}if(location.protocol!=="https:"&&location.hostname!=="localhost"){o(!1),s("Microphone requires HTTPS. Please use a secure connection.");return}o(!0),s(null)})()},[]);const p=async()=>{try{if(console.log("Starting recording..."),s(null),d.current=[],!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Microphone access not available. Please use HTTPS or a supported browser.");const _=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=_;const P=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",T=new MediaRecorder(_,{mimeType:P});l.current=T,T.ondataavailable=C=>{C.data.size>0&&d.current.push(C.data)},T.onstop=async()=>{console.log("Recording stopped, creating blob...");const C=new Blob(d.current,{type:P});u.current&&(u.current.getTracks().forEach($=>$.stop()),u.current=null),i("transcribing");const R=window.localStorage.getItem("whisperMode")||"default",k=R==="prompt"||R==="vibe"||R==="instructions"||R==="architect";let E;k&&(E=setTimeout(()=>{i("processing")},2e3));try{const $=await kj(C);$&&r&&r($)}catch($){console.error("Transcription error:",$),s($.message)}finally{E&&clearTimeout(E),i("idle")}},T.start(),i("recording"),console.log("Recording started successfully")}catch(_){console.error("Failed to start recording:",_);let P="Microphone access failed";_.name==="NotAllowedError"?P="Microphone access denied. Please allow microphone permissions.":_.name==="NotFoundError"?P="No microphone found. Please check your audio devices.":_.name==="NotSupportedError"?P="Microphone not supported by this browser.":_.name==="NotReadableError"?P="Microphone is being used by another application.":_.message.includes("HTTPS")&&(P=_.message),s(P),i("idle")}},v=()=>{console.log("Stopping recording..."),l.current&&l.current.state==="recording"?l.current.stop():(console.log("Recorder not in recording state, forcing cleanup"),u.current&&(u.current.getTracks().forEach(_=>_.stop()),u.current=null),i("idle"))},S=_=>{if(_&&(_.preventDefault(),_.stopPropagation()),!a)return;const P=Date.now();if(P-f.current<300){console.log("Ignoring rapid tap");return}f.current=P,console.log("Button clicked, current state:",t),t==="idle"?p():t==="recording"&&v()};F.useEffect(()=>()=>{u.current&&u.current.getTracks().forEach(_=>_.stop())},[]);const x=()=>{if(!a)return{icon:g.jsx($u,{className:"w-5 h-5"}),className:"bg-gray-400 cursor-not-allowed",disabled:!0};switch(t){case"recording":return{icon:g.jsx($u,{className:"w-5 h-5 text-white"}),className:"bg-red-500 hover:bg-red-600 animate-pulse",disabled:!1};case"transcribing":return{icon:g.jsx(C3,{className:"w-5 h-5 animate-spin"}),className:"bg-blue-500 hover:bg-blue-600",disabled:!0};case"processing":return{icon:g.jsx(ZR,{className:"w-5 h-5 animate-pulse"}),className:"bg-purple-500 hover:bg-purple-600",disabled:!0};default:return{icon:g.jsx($u,{className:"w-5 h-5"}),className:"bg-gray-700 hover:bg-gray-600",disabled:!1}}},{icon:m,className:y,disabled:b}=x();return g.jsxs("div",{className:"relative",children:[g.jsx("button",{type:"button",style:{backgroundColor:t==="recording"?"#ef4444":t==="transcribing"?"#3b82f6":t==="processing"?"#a855f7":"#374151"},className:`
          flex items-center justify-center
          w-12 h-12 rounded-full
          text-white transition-all duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
          dark:ring-offset-gray-800
          touch-action-manipulation
          ${b?"cursor-not-allowed opacity-75":"cursor-pointer"}
          ${t==="recording"?"animate-pulse":""}
          hover:opacity-90
          ${e}
        `,onClick:S,disabled:b,children:m}),n&&g.jsx("div",{className:`absolute top-full mt-2 left-1/2 transform -translate-x-1/2 \r
                        bg-red-500 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10\r
                        animate-fade-in`,children:n}),t==="recording"&&g.jsx("div",{className:"absolute -inset-1 rounded-full border-2 border-red-500 animate-ping pointer-events-none"}),t==="processing"&&g.jsx("div",{className:"absolute -inset-1 rounded-full border-2 border-purple-500 animate-ping pointer-events-none"})]})}const sn={setItem:(r,e)=>{try{if(r.startsWith("chat_messages_")&&typeof e=="string")try{const t=JSON.parse(e);if(Array.isArray(t)&&t.length>50){console.warn(`Truncating chat history for ${r} from ${t.length} to 50 messages`);const i=t.slice(-50);e=JSON.stringify(i)}}catch(t){console.warn("Could not parse chat messages for truncation:",t)}localStorage.setItem(r,e)}catch(t){if(t.name==="QuotaExceededError"){console.warn("localStorage quota exceeded, clearing old data");const i=Object.keys(localStorage),n=i.filter(a=>a.startsWith("chat_messages_")).sort();n.length>3&&n.slice(0,n.length-3).forEach(a=>{localStorage.removeItem(a),console.log(`Removed old chat data: ${a}`)}),i.filter(a=>a.startsWith("draft_input_")).forEach(a=>{localStorage.removeItem(a)});try{localStorage.setItem(r,e)}catch(a){if(console.error("Failed to save to localStorage even after cleanup:",a),r.startsWith("chat_messages_")&&typeof e=="string")try{const o=JSON.parse(e);if(Array.isArray(o)&&o.length>10){const l=o.slice(-10);localStorage.setItem(r,JSON.stringify(l)),console.warn("Saved only last 10 messages due to quota constraints")}}catch(o){console.error("Final save attempt failed:",o)}}}else console.error("localStorage error:",t)}},getItem:r=>{try{return localStorage.getItem(r)}catch(e){return console.error("localStorage getItem error:",e),null}},removeItem:r=>{try{localStorage.removeItem(r)}catch(e){console.error("localStorage removeItem error:",e)}}},Cj=F.memo(({message:r,index:e,prevMessage:t,createDiff:i,onFileOpen:n,onShowSettings:s,autoExpandTools:a,showRawParameters:o})=>{const l=t&&t.type===r.type&&t.type==="assistant"&&!t.isToolUse&&!r.isToolUse,u=Vn.useRef(null),[d,f]=Vn.useState(!1);return Vn.useEffect(()=>{if(!a||!u.current||!r.isToolUse)return;const p=new IntersectionObserver(v=>{v.forEach(S=>{S.isIntersecting&&!d&&(f(!0),u.current.querySelectorAll("details").forEach(m=>{m.open=!0}))})},{threshold:.1});return p.observe(u.current),()=>{u.current&&p.unobserve(u.current)}},[a,d,r.isToolUse]),g.jsx("div",{ref:u,className:`chat-message ${r.type} ${l?"grouped":""} ${r.type==="user"?"flex justify-end px-3 sm:px-0":"px-3 sm:px-0"}`,children:r.type==="user"?g.jsxs("div",{className:"flex items-end space-x-0 sm:space-x-3 w-full sm:w-auto sm:max-w-[85%] md:max-w-md lg:max-w-lg xl:max-w-xl",children:[g.jsxs("div",{className:"bg-blue-600 text-white rounded-2xl rounded-br-md px-3 sm:px-4 py-2 shadow-sm flex-1 sm:flex-initial",children:[g.jsx("div",{className:"text-sm whitespace-pre-wrap break-words",children:r.content}),r.images&&r.images.length>0&&g.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:r.images.map((p,v)=>g.jsx("img",{src:p.data,alt:p.name,className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(p.data,"_blank")},v))}),g.jsx("div",{className:"text-xs text-blue-100 mt-1 text-right",children:new Date(r.timestamp).toLocaleTimeString()})]}),!l&&g.jsx("div",{className:"hidden sm:flex w-8 h-8 bg-blue-600 rounded-full items-center justify-center text-white text-sm flex-shrink-0",children:"U"})]}):g.jsxs("div",{className:"w-full",children:[!l&&g.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.type==="error"?g.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"!"}):g.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0 p-1",children:g.jsx(Xw,{className:"w-full h-full"})}),g.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.type==="error"?"Error":"Claude"})]}),g.jsxs("div",{className:"w-full",children:[r.isToolUse&&!["Read","TodoWrite","TodoRead"].includes(r.toolName)?g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-2 sm:p-3 mb-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center",children:g.jsxs("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),g.jsxs("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:["Using ",r.toolName]}),g.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-mono",children:r.toolId})]}),s&&g.jsx("button",{onClick:p=>{p.stopPropagation(),s()},className:"p-1 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",title:"Tool Settings",children:g.jsxs("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),r.toolInput&&r.toolName==="Edit"&&(()=>{try{const p=JSON.parse(r.toolInput);if(p.file_path&&p.old_string&&p.new_string)return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})," View edit diff for",g.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),n&&n(p.file_path,{old_string:p.old_string,new_string:p.new_string})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline font-mono",children:p.file_path.split("/").pop()})]}),g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("button",{onClick:()=>n&&n(p.file_path,{old_string:p.old_string,new_string:p.new_string}),className:"text-xs font-mono text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 truncate underline cursor-pointer",children:p.file_path}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Diff"})]}),g.jsx("div",{className:"text-xs font-mono",children:i(p.old_string,p.new_string).map((v,S)=>g.jsxs("div",{className:"flex",children:[g.jsx("span",{className:`w-8 text-center border-r ${v.type==="removed"?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800"}`,children:v.type==="removed"?"-":"+"}),g.jsx("span",{className:`px-2 py-0.5 flex-1 whitespace-pre-wrap ${v.type==="removed"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200":"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200"}`,children:v.content})]},S))})]}),o&&g.jsxs("details",{className:"mt-2",open:a,children:[g.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer hover:text-blue-700 dark:hover:text-blue-300",children:"View raw parameters"}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded whitespace-pre-wrap break-words overflow-hidden text-blue-900 dark:text-blue-100",children:r.toolInput})]})]})]})}catch{}return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsx("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200",children:"View input parameters"}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded whitespace-pre-wrap break-words overflow-hidden text-blue-900 dark:text-blue-100",children:r.toolInput})]})})(),r.toolInput&&r.toolName!=="Edit"&&(()=>{if(console.log("Tool display - name:",r.toolName,"input type:",typeof r.toolInput),r.toolName==="Write"){console.log("Write tool detected, toolInput:",r.toolInput);try{let p;if(typeof r.toolInput=="string"?p=JSON.parse(r.toolInput):p=r.toolInput,console.log("Parsed Write input:",p),p.file_path&&p.content!==void 0)return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})," Creating new file:",g.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),n&&n(p.file_path,{old_string:"",new_string:p.content})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline font-mono",children:p.file_path.split("/").pop()})]}),g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("button",{onClick:()=>n&&n(p.file_path,{old_string:"",new_string:p.content}),className:"text-xs font-mono text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 truncate underline cursor-pointer",children:p.file_path}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"New File"})]}),g.jsx("div",{className:"text-xs font-mono",children:i("",p.content).map((v,S)=>g.jsxs("div",{className:"flex",children:[g.jsx("span",{className:`w-8 text-center border-r ${v.type==="removed"?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800"}`,children:v.type==="removed"?"-":"+"}),g.jsx("span",{className:`px-2 py-0.5 flex-1 whitespace-pre-wrap ${v.type==="removed"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200":"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200"}`,children:v.content})]},S))})]}),o&&g.jsxs("details",{className:"mt-2",open:a,children:[g.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer hover:text-blue-700 dark:hover:text-blue-300",children:"View raw parameters"}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded whitespace-pre-wrap break-words overflow-hidden text-blue-900 dark:text-blue-100",children:r.toolInput})]})]})]})}catch{}}if(r.toolName==="TodoWrite")try{const p=JSON.parse(r.toolInput);if(p.todos&&Array.isArray(p.todos))return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Updating Todo List"]}),g.jsxs("div",{className:"mt-3",children:[g.jsx(hm,{todos:p.todos}),o&&g.jsxs("details",{className:"mt-3",open:a,children:[g.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer hover:text-blue-700 dark:hover:text-blue-300",children:"View raw parameters"}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded overflow-x-auto text-blue-900 dark:text-blue-100",children:r.toolInput})]})]})]})}catch{}if(r.toolName==="Bash")try{const p=JSON.parse(r.toolInput);return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Running command"]}),g.jsxs("div",{className:"mt-3 space-y-2",children:[g.jsxs("div",{className:"bg-gray-900 dark:bg-gray-950 text-gray-100 rounded-lg p-3 font-mono text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-400",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.jsx("span",{className:"text-xs",children:"Terminal"})]}),g.jsxs("div",{className:"whitespace-pre-wrap break-all text-green-400",children:["$ ",p.command]})]}),p.description&&g.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 italic",children:p.description}),o&&g.jsxs("details",{className:"mt-2",children:[g.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer hover:text-blue-700 dark:hover:text-blue-300",children:"View raw parameters"}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded whitespace-pre-wrap break-words overflow-hidden text-blue-900 dark:text-blue-100",children:r.toolInput})]})]})]})}catch{}if(r.toolName==="Read")try{const p=JSON.parse(r.toolInput);if(p.file_path){const v=p.file_path.split("/").pop();return g.jsxs("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:["Read"," ",g.jsx("button",{onClick:()=>n&&n(p.file_path),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline font-mono",children:v})]})}}catch{}if(r.toolName==="exit_plan_mode")try{const p=JSON.parse(r.toolInput);if(p.plan){const v=p.plan.replace(/\\n/g,`
`);return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})," View implementation plan"]}),g.jsx("div",{className:"mt-3 prose prose-sm max-w-none dark:prose-invert",children:g.jsx(Rl,{children:v})})]})}}catch{}return g.jsxs("details",{className:"mt-2",open:a,children:[g.jsxs("summary",{className:"text-sm text-blue-700 dark:text-blue-300 cursor-pointer hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View input parameters"]}),g.jsx("pre",{className:"mt-2 text-xs bg-blue-100 dark:bg-blue-800/30 p-2 rounded whitespace-pre-wrap break-words overflow-hidden text-blue-900 dark:text-blue-100",children:r.toolInput})]})})(),r.toolResult&&g.jsxs("div",{className:"mt-3 border-t border-blue-200 dark:border-blue-700 pt-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:`w-4 h-4 rounded flex items-center justify-center ${r.toolResult.isError?"bg-red-500":"bg-green-500"}`,children:g.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.toolResult.isError?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsx("span",{className:`text-sm font-medium ${r.toolResult.isError?"text-red-700 dark:text-red-300":"text-green-700 dark:text-green-300"}`,children:r.toolResult.isError?"Tool Error":"Tool Result"})]}),g.jsx("div",{className:`text-sm ${r.toolResult.isError?"text-red-800 dark:text-red-200":"text-green-800 dark:text-green-200"}`,children:(()=>{const p=String(r.toolResult.content||"");if((r.toolName==="TodoWrite"||r.toolName==="TodoRead")&&(p.includes("Todos have been modified successfully")||p.includes("Todo list")||p.startsWith("[")&&p.includes('"content"')&&p.includes('"status"')))try{let x=null;if(p.startsWith("["))x=JSON.parse(p);else if(p.includes("Todos have been modified successfully"))return g.jsx("div",{children:g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:"font-medium",children:"Todo list has been updated successfully"})})});if(x&&Array.isArray(x))return g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center gap-2 mb-3",children:g.jsx("span",{className:"font-medium",children:"Current Todo List"})}),g.jsx(hm,{todos:x,isResult:!0})]})}catch{}if(r.toolName==="exit_plan_mode")try{const x=JSON.parse(p);if(x.plan){const m=x.plan.replace(/\\n/g,`
`);return g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center gap-2 mb-3",children:g.jsx("span",{className:"font-medium",children:"Implementation Plan"})}),g.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:g.jsx(Rl,{children:m})})]})}}catch{}if(p.includes("Do you want to proceed?")&&r.toolName==="Bash"){const x=p.split(`
`),m=x.findIndex(R=>R.includes("Do you want to proceed?")),y=x.slice(0,m).join(`
`),b=x.slice(m),_=b.find(R=>R.includes("Do you want to proceed?"))||"",P=[];b.forEach(R=>{const k=R.match(/^\s*(\d+)\.\s+(.+)$/);k&&P.push({number:k[1],text:k[2].trim()})});const T=p.match(/>\s*(\d+)/),C=T?T[1]:null;return g.jsxs("div",{className:"space-y-3",children:[y&&g.jsx("div",{className:"bg-gray-900 dark:bg-gray-950 text-gray-100 rounded-lg p-3 font-mono text-xs overflow-x-auto",children:g.jsx("pre",{className:"whitespace-pre-wrap break-words",children:y})}),g.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:g.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100 text-base mb-2",children:"Interactive Prompt"}),g.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-4",children:_}),g.jsx("div",{className:"space-y-2 mb-4",children:P.map(R=>g.jsx("button",{className:`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${C===R.number?"bg-amber-600 dark:bg-amber-700 text-white border-amber-600 dark:border-amber-700 shadow-md":"bg-white dark:bg-gray-800 text-amber-900 dark:text-amber-100 border-amber-300 dark:border-amber-700 hover:border-amber-400 dark:hover:border-amber-600 hover:shadow-sm"} ${C?"cursor-default":"cursor-not-allowed opacity-75"}`,disabled:!0,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C===R.number?"bg-white/20":"bg-amber-100 dark:bg-amber-800/50"}`,children:R.number}),g.jsx("span",{className:"text-sm sm:text-base font-medium flex-1",children:R.text}),C===R.number&&g.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},R.number))}),C&&g.jsxs("div",{className:"bg-amber-100 dark:bg-amber-800/30 rounded-lg p-3",children:[g.jsxs("p",{className:"text-amber-900 dark:text-amber-100 text-sm font-medium mb-1",children:[" Claude selected option"," ",C]}),g.jsx("p",{className:"text-amber-800 dark:text-amber-200 text-xs",children:"In the CLI, you would select this option interactively using arrow keys or by typing the number."})]})]})]})})]})}const v=p.match(/The file (.+?) has been updated\./);if(v)return g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:"font-medium",children:"File updated successfully"})}),g.jsx("button",{onClick:()=>n&&n(v[1]),className:"text-xs font-mono bg-green-100 dark:bg-green-800/30 px-2 py-1 rounded text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline cursor-pointer",children:v[1]})]});const S=p.match(/(?:The file|File) (.+?) has been (?:created|written)(?: successfully)?\.?/);return S?g.jsxs("div",{children:[g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:"font-medium",children:"File created successfully"})}),g.jsx("button",{onClick:()=>n&&n(S[1]),className:"text-xs font-mono bg-green-100 dark:bg-green-800/30 px-2 py-1 rounded text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline cursor-pointer",children:S[1]})]}):r.toolName==="Write"&&!r.toolResult.isError?g.jsxs("div",{className:"text-green-700 dark:text-green-300",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{className:"font-medium",children:"File written successfully"})]}),g.jsx("p",{className:"text-xs mt-1 text-green-600 dark:text-green-400",children:"The file content is displayed in the diff view above"})]}):p.includes("cat -n")&&p.includes("")?g.jsxs("details",{open:a,children:[g.jsxs("summary",{className:"text-sm text-green-700 dark:text-green-300 cursor-pointer hover:text-green-800 dark:hover:text-green-200 mb-2 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View file content"]}),g.jsx("div",{className:"mt-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:g.jsx("div",{className:"text-xs font-mono p-3 whitespace-pre-wrap break-words overflow-hidden",children:p})})]}):p.length>300?g.jsxs("details",{open:a,children:[g.jsxs("summary",{className:"text-sm text-green-700 dark:text-green-300 cursor-pointer hover:text-green-800 dark:hover:text-green-200 mb-2 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 transition-transform details-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View full output (",p.length," chars)"]}),g.jsx("div",{className:"mt-2 prose prose-sm max-w-none prose-green dark:prose-invert",children:g.jsx(Rl,{children:p})})]}):g.jsx("div",{className:"prose prose-sm max-w-none prose-green dark:prose-invert",children:g.jsx(Rl,{children:p})})})()})]})]}):r.isInteractivePrompt?g.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:g.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100 text-base mb-3",children:"Interactive Prompt"}),(()=>{const p=r.content.split(`
`).filter(x=>x.trim()),v=p.find(x=>x.includes("?"))||p[0]||"",S=[];return p.forEach(x=>{const m=x.match(/[\s]*(\d+)\.\s+(.+)/);if(m){const y=x.includes("");S.push({number:m[1],text:m[2].trim(),isSelected:y})}}),g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-4",children:v}),g.jsx("div",{className:"space-y-2 mb-4",children:S.map(x=>g.jsx("button",{className:`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${x.isSelected?"bg-amber-600 dark:bg-amber-700 text-white border-amber-600 dark:border-amber-700 shadow-md":"bg-white dark:bg-gray-800 text-amber-900 dark:text-amber-100 border-amber-300 dark:border-amber-700"} cursor-not-allowed opacity-75`,disabled:!0,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${x.isSelected?"bg-white/20":"bg-amber-100 dark:bg-amber-800/50"}`,children:x.number}),g.jsx("span",{className:"text-sm sm:text-base font-medium flex-1",children:x.text}),x.isSelected&&g.jsx("span",{className:"text-lg",children:""})]})},x.number))}),g.jsxs("div",{className:"bg-amber-100 dark:bg-amber-800/30 rounded-lg p-3",children:[g.jsx("p",{className:"text-amber-900 dark:text-amber-100 text-sm font-medium mb-1",children:" Waiting for your response in the CLI"}),g.jsx("p",{className:"text-amber-800 dark:text-amber-200 text-xs",children:"Please select an option in your terminal where Claude is running."})]})]})})()]})]})}):r.isToolUse&&r.toolName==="Read"?(()=>{try{const p=JSON.parse(r.toolInput);if(p.file_path){const v=p.file_path.split("/").pop();return g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-300 dark:border-blue-600 pl-3 py-1 mb-2 text-sm text-blue-700 dark:text-blue-300",children:[" Read"," ",g.jsx("button",{onClick:()=>n&&n(p.file_path),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline font-mono",children:v})]})}}catch{return g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-300 dark:border-blue-600 pl-3 py-1 mb-2 text-sm text-blue-700 dark:text-blue-300",children:" Read file"})}})():r.isToolUse&&r.toolName==="TodoWrite"?(()=>{try{const p=JSON.parse(r.toolInput);if(p.todos&&Array.isArray(p.todos))return g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-300 dark:border-blue-600 pl-3 py-1 mb-2",children:[g.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:" Update todo list"}),g.jsx(hm,{todos:p.todos})]})}catch{return g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-300 dark:border-blue-600 pl-3 py-1 mb-2 text-sm text-blue-700 dark:text-blue-300",children:" Update todo list"})}})():r.isToolUse&&r.toolName==="TodoRead"?g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-300 dark:border-blue-600 pl-3 py-1 mb-2 text-sm text-blue-700 dark:text-blue-300",children:" Read todo list"}):g.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.type==="assistant"?g.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert prose-gray [&_code]:!bg-transparent [&_code]:!p-0",children:g.jsx(Rl,{components:{code:({node:p,inline:v,className:S,children:x,...m})=>v?g.jsx("strong",{className:"text-blue-600 dark:text-blue-400 font-bold not-prose",...m,children:x}):g.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg overflow-hidden my-2",children:g.jsx("code",{className:"text-gray-800 dark:text-gray-200 text-sm font-mono block whitespace-pre-wrap break-words",...m,children:x})}),blockquote:({children:p})=>g.jsx("blockquote",{className:"border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic text-gray-600 dark:text-gray-400 my-2",children:p}),a:({href:p,children:v})=>g.jsx("a",{href:p,className:"text-blue-600 dark:text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer",children:v}),p:({children:p})=>g.jsx("div",{className:"mb-2 last:mb-0",children:p})},children:String(r.content||"")})}):g.jsx("div",{className:"whitespace-pre-wrap",children:r.content})}),g.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 mt-1 ${l?"opacity-0 group-hover:opacity-100":""}`,children:new Date(r.timestamp).toLocaleTimeString()})]})]})})}),Pj=({file:r,onRemove:e,uploadProgress:t,error:i})=>{const[n,s]=F.useState(null);return F.useEffect(()=>{const a=URL.createObjectURL(r);return s(a),()=>URL.revokeObjectURL(a)},[r]),g.jsxs("div",{className:"relative group",children:[g.jsx("img",{src:n,alt:r.name,className:"w-20 h-20 object-cover rounded"}),t!==void 0&&t<100&&g.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:g.jsxs("div",{className:"text-white text-xs",children:[t,"%"]})}),i&&g.jsx("div",{className:"absolute inset-0 bg-red-500/50 flex items-center justify-center",children:g.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("button",{onClick:e,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100",children:g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})};function Tj({selectedProject:r,selectedSession:e,ws:t,sendMessage:i,messages:n,onFileOpen:s,onInputFocusChange:a,onSessionActive:o,onSessionInactive:l,onReplaceTemporarySession:u,onNavigateToSession:d,onShowSettings:f,autoExpandTools:p,showRawParameters:v,autoScrollToBottom:S,sendByCtrlEnter:x}){const[m,y]=F.useState(()=>typeof window<"u"&&r&&sn.getItem(`draft_input_${r.name}`)||""),[b,_]=F.useState(()=>{if(typeof window<"u"&&r){const he=sn.getItem(`chat_messages_${r.name}`);return he?JSON.parse(he):[]}return[]}),[P,T]=F.useState(!1),[C,R]=F.useState(e?.id||null),[k,E]=F.useState(!1),[$,D]=F.useState([]),[A,N]=F.useState(!1),[q,V]=F.useState(!1),[K,Y]=F.useState("default"),[L,z]=F.useState([]),[M,I]=F.useState(new Map),[U,W]=F.useState(new Map),se=F.useRef(null),le=F.useRef(null),ae=F.useRef(null),[B,ee]=F.useState(""),[ie,G]=F.useState(!1),[me,be]=F.useState([]),[Ie,qe]=F.useState([]),[st,_e]=F.useState(-1),[Se,Ee]=F.useState(0),[et,Be]=F.useState(-1),[Xe,$e]=F.useState(!1),[Qe,ve]=F.useState(!1),Pe=F.useRef({height:0,top:0}),[oe,xe]=F.useState(!1),[je,te]=F.useState([]),[H,de]=F.useState([]),[Oe,pe]=F.useState(!1),[ot,Pt]=F.useState(-1),[Qt,Ot]=F.useState(-1),[Lt,ji]=F.useState(100),[Ni,Sr]=F.useState(null),Zr=F.useMemo(()=>{const he=new Map;return(Ne,We)=>{const Le=`${Ne.length}-${We.length}-${Ne.slice(0,50)}`;if(he.has(Le))return he.get(Le);const Ye=To(Ne,We);if(he.set(Le,Ye),he.size>100){const Ue=he.keys().next().value;he.delete(Ue)}return Ye}},[]),Yi=F.useCallback(async(he,Ne)=>{if(!he||!Ne)return[];N(!0);try{const We=await br.sessionMessages(he,Ne);if(!We.ok)throw new Error("Failed to load session messages");return(await We.json()).messages||[]}catch(We){return console.error("Error loading session messages:",We),[]}finally{N(!1)}},[]),To=(he,Ne)=>{const We=he.split(`
`),Le=Ne.split(`
`),Ye=[];let Ue=0,mt=0;for(;Ue<We.length||mt<Le.length;){const _t=We[Ue],Rr=Le[mt];Ue>=We.length?(Ye.push({type:"added",content:Rr,lineNum:mt+1}),mt++):mt>=Le.length?(Ye.push({type:"removed",content:_t,lineNum:Ue+1}),Ue++):_t===Rr?(Ue++,mt++):(Ye.push({type:"removed",content:_t,lineNum:Ue+1}),Ye.push({type:"added",content:Rr,lineNum:mt+1}),Ue++,mt++)}return Ye},Pn=he=>{const Ne=[],We=new Map;for(const Le of he)if(Le.message?.role==="user"&&Array.isArray(Le.message?.content))for(const Ye of Le.message.content)Ye.type==="tool_result"&&We.set(Ye.tool_use_id,{content:Ye.content,isError:Ye.is_error,timestamp:new Date(Le.timestamp||Date.now())});for(const Le of he)if(Le.message?.role==="user"&&Le.message?.content){let Ye="",Ue="user";if(Array.isArray(Le.message.content)){const mt=[];for(const _t of Le.message.content)_t.type==="text"&&mt.push(_t.text);Ye=mt.join(`
`)}else typeof Le.message.content=="string"?Ye=Le.message.content:Ye=String(Le.message.content);Ye&&!Ye.startsWith("<command-name>")&&!Ye.startsWith("[Request interrupted")&&Ne.push({type:Ue,content:Ye,timestamp:Le.timestamp||new Date().toISOString()})}else if(Le.message?.role==="assistant"&&Le.message?.content)if(Array.isArray(Le.message.content)){for(const Ye of Le.message.content)if(Ye.type==="text")Ne.push({type:"assistant",content:Ye.text,timestamp:Le.timestamp||new Date().toISOString()});else if(Ye.type==="tool_use"){const Ue=We.get(Ye.id);Ne.push({type:"assistant",content:"",timestamp:Le.timestamp||new Date().toISOString(),isToolUse:!0,toolName:Ye.name,toolInput:JSON.stringify(Ye.input),toolResult:Ue?typeof Ue.content=="string"?Ue.content:JSON.stringify(Ue.content):null,toolError:Ue?.isError||!1,toolResultTimestamp:Ue?.timestamp||new Date})}}else typeof Le.message.content=="string"&&Ne.push({type:"assistant",content:Le.message.content,timestamp:Le.timestamp||new Date().toISOString()});return Ne},ge=F.useMemo(()=>Pn($),[$]),we=F.useCallback(()=>{ae.current&&(ae.current.scrollTop=ae.current.scrollHeight,ve(!1))},[]),ht=F.useCallback(()=>{if(!ae.current)return!1;const{scrollTop:he,scrollHeight:Ne,clientHeight:We}=ae.current;return Ne-he-We<50},[]),zt=F.useCallback(()=>{if(ae.current){const he=ht();ve(!he)}},[ht]);F.useEffect(()=>{(async()=>{if(e&&r)if(R(e.id),q)V(!1);else{const Ne=await Yi(r.name,e.id);D(Ne),S&&setTimeout(()=>we(),200)}else _([]),D([]),R(null)})()},[e,r,Yi,we,q]),F.useEffect(()=>{$.length>0&&_(ge)},[ge,$]),F.useEffect(()=>{a&&a(k)},[k,a]),F.useEffect(()=>{r&&m!==""?sn.setItem(`draft_input_${r.name}`,m):r&&m===""&&sn.removeItem(`draft_input_${r.name}`)},[m,r]),F.useEffect(()=>{r&&b.length>0&&sn.setItem(`chat_messages_${r.name}`,JSON.stringify(b))},[b,r]),F.useEffect(()=>{if(r){const he=sn.getItem(`draft_input_${r.name}`)||"";he!==m&&y(he)}},[r?.name]),F.useEffect(()=>{if(n.length>0){const he=n[n.length-1];switch(he.type){case"session-created":he.sessionId&&!C&&(sessionStorage.setItem("pendingSessionId",he.sessionId),u&&u(he.sessionId));break;case"claude-response":const Ne=he.data.message||he.data;if(he.data.type==="system"&&he.data.subtype==="init"&&he.data.session_id&&C&&he.data.session_id!==C){console.log(" Claude CLI session duplication detected:",{originalSession:C,newSession:he.data.session_id}),V(!0),d&&d(he.data.session_id);return}if(he.data.type==="system"&&he.data.subtype==="init"&&he.data.session_id&&!C){console.log(" New session init detected:",{newSession:he.data.session_id}),V(!0),d&&d(he.data.session_id);return}if(he.data.type==="system"&&he.data.subtype==="init"&&he.data.session_id&&C&&he.data.session_id===C){console.log(" System init message for current session, ignoring");return}if(Array.isArray(Ne.content)){for(const Ue of Ne.content)if(Ue.type==="tool_use"){const mt=Ue.input?JSON.stringify(Ue.input,null,2):"";_(_t=>[..._t,{type:"assistant",content:"",timestamp:new Date,isToolUse:!0,toolName:Ue.name,toolInput:mt,toolId:Ue.id,toolResult:null}])}else if(Ue.type==="text"&&Ue.text?.trim()){let mt=Ue.text;if(mt.includes("Claude AI usage limit reached|")){const _t=mt.split("|");if(_t.length===2){const Rr=parseInt(_t[1]);if(!isNaN(Rr)){const Jn=new Date(Rr*1e3);mt=`Claude AI usage limit reached. The limit will reset on ${Jn.toLocaleDateString()} at ${Jn.toLocaleTimeString()}.`}}}_(_t=>[..._t,{type:"assistant",content:mt,timestamp:new Date}])}}else if(typeof Ne.content=="string"&&Ne.content.trim()){let Ue=Ne.content;if(Ue.includes("Claude AI usage limit reached|")){const mt=Ue.split("|");if(mt.length===2){const _t=parseInt(mt[1]);if(!isNaN(_t)){const Rr=new Date(_t*1e3);Ue=`Claude AI usage limit reached. The limit will reset on ${Rr.toLocaleDateString()} at ${Rr.toLocaleTimeString()}.`}}}_(mt=>[...mt,{type:"assistant",content:Ue,timestamp:new Date}])}if(Ne.role==="user"&&Array.isArray(Ne.content))for(const Ue of Ne.content)Ue.type==="tool_result"&&_(mt=>mt.map(_t=>_t.isToolUse&&_t.toolId===Ue.tool_use_id?{..._t,toolResult:{content:Ue.content,isError:Ue.is_error,timestamp:new Date}}:_t));break;case"claude-output":_(Ue=>[...Ue,{type:"assistant",content:he.data,timestamp:new Date}]);break;case"claude-interactive-prompt":_(Ue=>[...Ue,{type:"assistant",content:he.data,timestamp:new Date,isInteractivePrompt:!0}]);break;case"claude-error":_(Ue=>[...Ue,{type:"error",content:`Error: ${he.error}`,timestamp:new Date}]);break;case"claude-complete":T(!1),$e(!1),Sr(null);const We=C||sessionStorage.getItem("pendingSessionId");We&&l&&l(We);const Le=sessionStorage.getItem("pendingSessionId");Le&&!C&&he.exitCode===0&&(R(Le),sessionStorage.removeItem("pendingSessionId")),r&&he.exitCode===0&&sn.removeItem(`chat_messages_${r.name}`);break;case"session-aborted":T(!1),$e(!1),Sr(null),C&&l&&l(C),_(Ue=>[...Ue,{type:"assistant",content:"Session interrupted by user.",timestamp:new Date}]);break;case"claude-status":console.log(" Received claude-status message:",he);const Ye=he.data;if(Ye){let Ue={text:"Working...",tokens:0,can_interrupt:!0};Ye.message?Ue.text=Ye.message:Ye.status?Ue.text=Ye.status:typeof Ye=="string"&&(Ue.text=Ye),Ye.tokens?Ue.tokens=Ye.tokens:Ye.token_count&&(Ue.tokens=Ye.token_count),Ye.can_interrupt!==void 0&&(Ue.can_interrupt=Ye.can_interrupt),console.log(" Setting claude status:",Ue),Sr(Ue),T(!0),$e(Ue.can_interrupt)}break}}},[n]),F.useEffect(()=>{r&&rr()},[r]);const rr=async()=>{try{const he=await br.getFiles(r.name);if(he.ok){const Ne=await he.json(),We=Qr(Ne);be(We)}}catch(he){console.error("Error fetching files:",he)}},Qr=(he,Ne="")=>{let We=[];for(const Le of he){const Ye=Ne?`${Ne}/${Le.name}`:Le.name;Le.type==="directory"&&Le.children?We=We.concat(Qr(Le.children,Ye)):Le.type==="file"&&We.push({name:Le.name,path:Ye,relativePath:Le.path})}return We};F.useEffect(()=>{const he=m.slice(0,Se),Ne=he.lastIndexOf("@");if(Ne!==-1){const We=he.slice(Ne+1);if(We.includes(" "))G(!1),Be(-1);else{Be(Ne),G(!0);const Le=me.filter(Ye=>Ye.name.toLowerCase().includes(We.toLowerCase())||Ye.path.toLowerCase().includes(We.toLowerCase())).slice(0,10);qe(Le),_e(-1)}}else G(!1),Be(-1)},[m,Se,me]),F.useEffect(()=>{const he=setTimeout(()=>{ee(m)},150);return()=>clearTimeout(he)},[m]);const Gi=F.useMemo(()=>b.length<=Lt?b:b.slice(-Lt),[b,Lt]);F.useEffect(()=>{if(!S&&ae.current){const he=ae.current;Pe.current={height:he.scrollHeight,top:he.scrollTop}}}),F.useEffect(()=>{if(ae.current&&b.length>0)if(S)Qe||setTimeout(()=>we(),50);else{const he=ae.current,Ne=Pe.current.height,We=Pe.current.top,Ye=he.scrollHeight-Ne;Ye>0&&We>0&&(he.scrollTop=We+Ye)}},[b.length,Qe,we,S]),F.useEffect(()=>{ae.current&&b.length>0&&(ve(!1),setTimeout(()=>we(),200))},[b.length>0,we]),F.useEffect(()=>{const he=ae.current;if(he)return he.addEventListener("scroll",zt),()=>he.removeEventListener("scroll",zt)},[zt]),F.useEffect(()=>{if(le.current){le.current.style.height="auto",le.current.style.height=le.current.scrollHeight+"px";const he=parseInt(window.getComputedStyle(le.current).lineHeight),Ne=le.current.scrollHeight>he*2;pe(Ne)}},[]),F.useEffect(()=>{le.current&&!m.trim()&&(le.current.style.height="auto",pe(!1))},[m]);const Jd=F.useCallback(he=>{he.trim()&&y(Ne=>{const We=Ne.trim()?`${Ne} ${he}`:he;return setTimeout(()=>{if(le.current){le.current.style.height="auto",le.current.style.height=le.current.scrollHeight+"px";const Le=parseInt(window.getComputedStyle(le.current).lineHeight),Ye=le.current.scrollHeight>Le*2;pe(Ye)}},0),We})},[]),Xs=F.useCallback(()=>{ji(he=>he+100)},[]),Tn=F.useCallback(he=>{const Ne=he.filter(We=>{try{if(!We||typeof We!="object")return console.warn("Invalid file object:",We),!1;if(!We.type||!We.type.startsWith("image/"))return!1;if(!We.size||We.size>5242880){const Le=We.name||"Unknown file";return W(Ye=>{const Ue=new Map(Ye);return Ue.set(Le,"File too large (max 5MB)"),Ue}),!1}return!0}catch(Le){return console.error("Error validating file:",Le,We),!1}});Ne.length>0&&z(We=>[...We,...Ne].slice(0,5))},[]),Eo=F.useCallback(async he=>{const Ne=Array.from(he.clipboardData.items);for(const We of Ne)if(We.type.startsWith("image/")){const Le=We.getAsFile();Le&&Tn([Le])}if(Ne.length===0&&he.clipboardData.files.length>0){const Le=Array.from(he.clipboardData.files).filter(Ye=>Ye.type.startsWith("image/"));Le.length>0&&Tn(Le)}},[Tn]),{getRootProps:Wa,getInputProps:ef,isDragActive:tf,open:rf}=Mk({accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp",".svg"]},maxSize:5*1024*1024,maxFiles:5,onDrop:Tn,noClick:!0,noKeyboard:!0}),ai=async he=>{if(he.preventDefault(),!m.trim()||P||!r)return;let Ne=[];if(L.length>0){const mt=new FormData;L.forEach(_t=>{mt.append("images",_t)});try{const _t=sn.getItem("auth-token"),Rr={};_t&&(Rr.Authorization=`Bearer ${_t}`);const Jn=await fetch(`/api/projects/${r.name}/upload-images`,{method:"POST",headers:Rr,body:mt});if(!Jn.ok)throw new Error("Failed to upload images");Ne=(await Jn.json()).images}catch(_t){console.error("Image upload failed:",_t),_(Rr=>[...Rr,{type:"error",content:`Failed to upload images: ${_t.message}`,timestamp:new Date}]);return}}const We={type:"user",content:m,images:Ne,timestamp:new Date};_(mt=>[...mt,We]),T(!0),$e(!0),Sr({text:"Processing",tokens:0,can_interrupt:!0}),ve(!1),setTimeout(()=>we(),100);const Le=C||`new-session-${Date.now()}`;o&&o(Le);const Ue=(()=>{try{const mt=sn.getItem("claude-tools-settings");if(mt)return JSON.parse(mt)}catch(mt){console.error("Error loading tools settings:",mt)}return{allowedTools:[],disallowedTools:[],skipPermissions:!1}})();i({type:"claude-command",command:m,options:{projectPath:r.path,cwd:r.fullPath,sessionId:C,resume:!!C,toolsSettings:Ue,permissionMode:K,images:Ne}}),y(""),z([]),I(new Map),W(new Map),pe(!1),le.current&&(le.current.style.height="auto"),r&&sn.removeItem(`draft_input_${r.name}`)},Xc=he=>{if(ie&&Ie.length>0){if(he.key==="ArrowDown"){he.preventDefault(),_e(Ne=>Ne<Ie.length-1?Ne+1:0);return}if(he.key==="ArrowUp"){he.preventDefault(),_e(Ne=>Ne>0?Ne-1:Ie.length-1);return}if(he.key==="Tab"||he.key==="Enter"){he.preventDefault(),st>=0?Qo(Ie[st]):Ie.length>0&&Qo(Ie[0]);return}if(he.key==="Escape"){he.preventDefault(),G(!1);return}}if(he.key==="Tab"&&!ie){he.preventDefault();const Ne=["default","acceptEdits","bypassPermissions","plan"],Le=(Ne.indexOf(K)+1)%Ne.length;Y(Ne[Le]);return}if(he.key==="Enter"){if(he.nativeEvent.isComposing)return;(he.ctrlKey||he.metaKey)&&!he.shiftKey?(he.preventDefault(),ai(he)):!he.shiftKey&&!he.ctrlKey&&!he.metaKey&&(x||(he.preventDefault(),ai(he)))}},Qo=he=>{const Ne=m.slice(0,et),We=m.slice(et),Le=We.indexOf(" "),Ye=Le!==-1?We.slice(Le):"",Ue=Ne+"@"+he.path+" "+Ye,mt=Ne.length+1+he.path.length+1;le.current&&!le.current.matches(":focus")&&le.current.focus(),y(Ue),Ee(mt),G(!1),Be(-1),le.current&&requestAnimationFrame(()=>{le.current&&(le.current.setSelectionRange(mt,mt),le.current.matches(":focus")||le.current.focus())})},nf=he=>{const Ne=he.target.value;y(Ne),Ee(he.target.selectionStart),Ne.trim()||(he.target.style.height="auto",pe(!1))},Wc=he=>{Ee(he.target.selectionStart)},Fc=()=>{C&&Xe&&i({type:"abort-session",sessionId:C})},Zc=()=>{const he=["default","acceptEdits","bypassPermissions","plan"],We=(he.indexOf(K)+1)%he.length;Y(he[We])};return r?g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
          details[open] .details-chevron {
            transform: rotate(180deg);
          }
        `}),g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsxs("div",{ref:ae,className:"flex-1 overflow-y-auto overflow-x-hidden px-0 py-3 sm:p-4 space-y-3 sm:space-y-4 relative",children:[A&&b.length===0?g.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),g.jsx("p",{children:"Loading session messages..."})]})}):b.length===0?g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 px-6 sm:px-4",children:[g.jsx("p",{className:"font-bold text-lg sm:text-xl mb-3",children:"Start a conversation with Claude"}),g.jsx("p",{className:"text-sm sm:text-base leading-relaxed",children:"Ask questions about your code, request changes, or get help with development tasks"})]})}):g.jsxs(g.Fragment,{children:[b.length>Lt&&g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2 border-b border-gray-200 dark:border-gray-700",children:["Showing last ",Lt," ","messages (",b.length," total) ",g.jsx("button",{className:"ml-1 text-blue-600 hover:text-blue-700 underline",onClick:Xs,children:"Load earlier messages"})]}),Gi.map((he,Ne)=>{const We=Ne>0?Gi[Ne-1]:null;return g.jsx(Cj,{message:he,index:Ne,prevMessage:We,createDiff:Zr,onFileOpen:s,onShowSettings:f,autoExpandTools:p,showRawParameters:v},Ne)})]}),P&&g.jsx("div",{className:"chat-message assistant",children:g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[g.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"C"}),g.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Claude"})]}),g.jsx("div",{className:"w-full text-sm text-gray-500 dark:text-gray-400 pl-3 sm:pl-0",children:g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("div",{className:"animate-pulse",children:""}),g.jsx("div",{className:"animate-pulse",style:{animationDelay:"0.2s"},children:""}),g.jsx("div",{className:"animate-pulse",style:{animationDelay:"0.4s"},children:""}),g.jsx("span",{className:"ml-2",children:"Thinking..."})]})})]})}),g.jsx("div",{ref:se})]}),g.jsxs("div",{className:`p-2 sm:p-4 md:p-6 flex-shrink-0 ${k?"pb-2 sm:pb-4 md:pb-6":"pb-16 sm:pb-4 md:pb-6"}`,children:[g.jsx(wj,{status:Ni,isLoading:P,onAbort:Fc}),g.jsx("div",{className:"max-w-4xl mx-auto mb-3",children:g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("button",{type:"button",onClick:Zc,className:`px-3 py-1.5 rounded-lg text-sm font-medium border transition-all duration-200 ${K==="default"?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600":K==="acceptEdits"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-300 dark:border-green-600 hover:bg-green-100 dark:hover:bg-green-900/30":K==="bypassPermissions"?"bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 border-orange-300 dark:border-orange-600 hover:bg-orange-100 dark:hover:bg-orange-900/30":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,title:"Click to change permission mode (or press Tab in input)",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${K==="default"?"bg-gray-500":K==="acceptEdits"?"bg-green-500":K==="bypassPermissions"?"bg-orange-500":"bg-blue-500"}`}),g.jsxs("span",{children:[K==="default"&&"Default Mode",K==="acceptEdits"&&"Accept Edits",K==="bypassPermissions"&&"Bypass Permissions",K==="plan"&&"Plan Mode"]})]})}),Qe&&b.length>0&&g.jsx("button",{onClick:we,className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:ring-offset-gray-800",title:"Scroll to bottom",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})}),g.jsxs("form",{onSubmit:ai,className:"relative max-w-4xl mx-auto",children:[tf&&g.jsx("div",{className:"absolute inset-0 bg-blue-500/20 border-2 border-dashed border-blue-500 rounded-lg flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg",children:[g.jsx("svg",{className:"w-8 h-8 text-blue-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),g.jsx("p",{className:"text-sm font-medium",children:"Drop images here"})]})}),L.length>0&&g.jsx("div",{className:"mb-2 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((he,Ne)=>g.jsx(Pj,{file:he,onRemove:()=>{z(We=>We.filter((Le,Ye)=>Ye!==Ne))},uploadProgress:M.get(he.name),error:U.get(he.name)},Ne))})}),ie&&Ie.length>0&&g.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-50 backdrop-blur-sm",children:Ie.map((he,Ne)=>g.jsxs("div",{className:`px-4 py-3 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 touch-manipulation ${Ne===st?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,onMouseDown:We=>{We.preventDefault(),We.stopPropagation()},onClick:We=>{We.preventDefault(),We.stopPropagation(),Qo(he)},children:[g.jsx("div",{className:"font-medium text-sm",children:he.name}),g.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:he.path})]},he.path))}),g.jsxs("div",{...Wa(),className:`relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-600 focus-within:ring-2 focus-within:ring-blue-500 dark:focus-within:ring-blue-500 focus-within:border-blue-500 transition-all duration-200 ${Oe?"chat-input-expanded":""}`,children:[g.jsx("input",{...ef()}),g.jsx("textarea",{ref:le,value:m,onChange:nf,onClick:Wc,onKeyDown:Xc,onPaste:Eo,onFocus:()=>E(!0),onBlur:()=>E(!1),onInput:he=>{he.target.style.height="auto",he.target.style.height=he.target.scrollHeight+"px",Ee(he.target.selectionStart);const Ne=parseInt(window.getComputedStyle(he.target).lineHeight),We=he.target.scrollHeight>Ne*2;pe(We)},placeholder:"Ask Claude to help with your code... (@ to reference files)",disabled:P,rows:1,className:"chat-input-placeholder w-full pl-12 pr-28 sm:pr-40 py-3 sm:py-4 bg-transparent rounded-2xl focus:outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 disabled:opacity-50 resize-none min-h-[40px] sm:min-h-[56px] max-h-[40vh] sm:max-h-[300px] overflow-y-auto text-sm sm:text-base transition-all duration-200",style:{height:"auto"}}),m.trim()&&g.jsx("button",{type:"button",onClick:he=>{he.preventDefault(),he.stopPropagation(),y(""),le.current&&(le.current.style.height="auto",le.current.focus()),pe(!1)},onTouchEnd:he=>{he.preventDefault(),he.stopPropagation(),y(""),le.current&&(le.current.style.height="auto",le.current.focus()),pe(!1)},className:"absolute -left-0.5 -top-3 sm:right-28 sm:left-auto sm:top-1/2 sm:-translate-y-1/2 w-6 h-6 sm:w-8 sm:h-8 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-full flex items-center justify-center transition-all duration-200 group z-10 shadow-sm",title:"Clear input",children:g.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600 dark:text-gray-300 group-hover:text-gray-800 dark:group-hover:text-gray-100 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("button",{type:"button",onClick:rf,className:"absolute left-2 bottom-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Attach images",children:g.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),g.jsx("div",{className:"absolute right-16 sm:right-16 top-1/2 transform -translate-y-1/2",style:{display:"none"},children:g.jsx(jk,{onTranscript:Jd,className:"w-10 h-10 sm:w-10 sm:h-10"})}),g.jsx("button",{type:"submit",disabled:!m.trim()||P,onMouseDown:he=>{he.preventDefault(),ai(he)},onTouchStart:he=>{he.preventDefault(),ai(he)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-12 h-12 sm:w-12 sm:h-12 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:ring-offset-gray-800",children:g.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white transform rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),g.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-2 hidden sm:block",children:x?"Ctrl+Enter to send (IME safe)  Shift+Enter for new line  Tab to change modes  @ to reference files":"Press Enter to send  Shift+Enter for new line  Tab to change modes  @ to reference files"}),g.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 text-center mt-2 sm:hidden transition-opacity duration-200 ${k?"opacity-100":"opacity-0"}`,children:x?"Ctrl+Enter to send (IME safe)  Tab for modes  @ for files":"Enter to send  Tab for modes  @ for files"})]})]})]})]}):g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Select a project to start chatting with Claude"})})})}const Ej=Vn.memo(Tj);function Ag(){return Ag=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ag.apply(null,arguments)}function Qj(r,e){if(r==null)return{};var t={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;t[i]=r[i]}return t}let Lg=[],Nk=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?Nk:Lg).push(t=t+r[e])})();function Rj(r){if(r<768)return!1;for(let e=0,t=Lg.length;;){let i=e+t>>1;if(r<Lg[i])t=i;else if(r>=Nk[i])e=i+1;else return!0;if(e==t)return!1}}function hb(r){return r>=127462&&r<=127487}const ub=8205;function $j(r,e,t=!0,i=!0){return(t?Dk:Aj)(r,e,i)}function Dk(r,e,t){if(e==r.length)return e;e&&Ik(r.charCodeAt(e))&&Bk(r.charCodeAt(e-1))&&e--;let i=um(r,e);for(e+=db(i);e<r.length;){let n=um(r,e);if(i==ub||n==ub||t&&Rj(n))e+=db(n),i=n;else if(hb(n)){let s=0,a=e-2;for(;a>=0&&hb(um(r,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function Aj(r,e,t){for(;e>0;){let i=Dk(r,e-2,t);if(i<e)return i;e--}return 0}function um(r,e){let t=r.charCodeAt(e);if(!Bk(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return Ik(i)?(t-55296<<10)+(i-56320)+65536:t}function Ik(r){return r>=56320&&r<57344}function Bk(r){return r>=55296&&r<56320}function db(r){return r<65536?1:2}class wt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=_a(this,e,t);let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),dn.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=_a(this,e,t);let i=[];return this.decompose(e,t,i,0),dn.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new Yl(this),s=new Yl(e);for(let a=t,o=t;;){if(n.next(a),s.next(a),a=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(e=1){return new Yl(this,e)}iterRange(e,t=this.length){return new zk(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new qk(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?wt.empty:e.length<=32?new nr(e):dn.from(nr.split(e,[]))}}class nr extends wt{constructor(e,t=Lj(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let a=this.text[s],o=n+a.length;if((t?i:o)>=e)return new Mj(n,o,i,a);n=o+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new nr(fb(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let a=i.pop(),o=Lu(s.text,a.text.slice(),0,s.length);if(o.length<=32)i.push(new nr(o,a.length+s.length));else{let l=o.length>>1;i.push(new nr(o.slice(0,l)),new nr(o.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof nr))return super.replace(e,t,i);[e,t]=_a(this,e,t);let n=Lu(this.text,Lu(i.text,fb(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new nr(n,s):dn.from(nr.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=_a(this,e,t);let n="";for(let s=0,a=0;s<=t&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>e&&a&&(n+=i),e<l&&t>s&&(n+=o.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new nr(i,n)),i=[],n=-1);return n>-1&&t.push(new nr(i,n)),t}}class dn extends wt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let a=this.children[s],o=n+a.length,l=i+a.lines-1;if((t?l:o)>=e)return a.lineInner(e,t,i,n);n=o+1,i=l+1}}decompose(e,t,i,n){for(let s=0,a=0;a<=t&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(e<=l&&t>=a){let u=n&((a<=e?1:0)|(l>=t?2:0));a>=e&&l<=t&&!u?i.push(o):o.decompose(e-a,t-a,i,u)}a=l+1}}replace(e,t,i){if([e,t]=_a(this,e,t),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.length;if(e>=s&&t<=o){let l=a.replace(e-s,t-s,i),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let d=this.children.slice();return d[n]=l,new dn(d,this.length-(t-e)+i.length)}return super.replace(s,o,l)}s=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=_a(this,e,t);let n="";for(let s=0,a=0;s<this.children.length&&a<=t;s++){let o=this.children[s],l=a+o.length;a>e&&s&&(n+=i),e<l&&t>a&&(n+=o.sliceString(e-a,t-a,i)),a=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof dn))return 0;let i=0,[n,s,a,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==a||s==o)return i;let l=this.children[n],u=e.children[s];if(l!=u)return i+l.scanIdentical(u,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let v of e)i+=v.lines;if(i<32){let v=[];for(let S of e)S.flatten(v);return new nr(v,t)}let n=Math.max(32,i>>5),s=n<<1,a=n>>1,o=[],l=0,u=-1,d=[];function f(v){let S;if(v.lines>s&&v instanceof dn)for(let x of v.children)f(x);else v.lines>a&&(l>a||!l)?(p(),o.push(v)):v instanceof nr&&l&&(S=d[d.length-1])instanceof nr&&v.lines+S.lines<=32?(l+=v.lines,u+=v.length+1,d[d.length-1]=new nr(S.text.concat(v.text),S.length+1+v.length)):(l+v.lines>n&&p(),l+=v.lines,u+=v.length+1,d.push(v))}function p(){l!=0&&(o.push(d.length==1?d[0]:dn.from(d,u)),u=-1,l=d.length=0)}for(let v of e)f(v);return p(),o.length==1?o[0]:new dn(o,t)}}wt.empty=new nr([""],0);function Lj(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Lu(r,e,t=0,i=1e9){for(let n=0,s=0,a=!0;s<r.length&&n<=i;s++){let o=r[s],l=n+o.length;l>=t&&(l>i&&(o=o.slice(0,i-n)),n<t&&(o=o.slice(t-n)),a?(e[e.length-1]+=o,a=!1):e.push(o)),n=l+1}return e}function fb(r,e,t){return Lu(r,[""],e,t)}class Yl{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof nr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],a=s>>1,o=n instanceof nr?n.text.length:n.children.length;if(a==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof nr){let l=n.text[a+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof nr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class zk{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Yl(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class qk{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(wt.prototype[Symbol.iterator]=function(){return this.iter()},Yl.prototype[Symbol.iterator]=zk.prototype[Symbol.iterator]=qk.prototype[Symbol.iterator]=function(){return this});let Mj=class{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}};function _a(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Er(r,e,t=!0,i=!0){return $j(r,e,t,i)}function jj(r){return r>=56320&&r<57344}function Nj(r){return r>=55296&&r<56320}function ei(r,e){let t=r.charCodeAt(e);if(!Nj(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return jj(i)?(t-55296<<10)+(i-56320)+65536:t}function lO(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function fn(r){return r<65536?1:2}const Mg=/\r\n?|\n/;var Tr=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Tr||(Tr={}));class vn{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],a=this.sections[t++];a<0?(e(i,n,s),n+=s):n+=a,i+=s}}iterChangedRanges(e,t=!1){jg(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new vn(e)}composeDesc(e){return this.empty?e:e.empty?this:Xk(this,e)}mapDesc(e,t=!1){return e.empty?this:Ng(this,e,t)}mapPos(e,t=-1,i=Tr.Simple){let n=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],u=n+o;if(l<0){if(u>e)return s+(e-n);s+=o}else{if(i!=Tr.Simple&&u>=e&&(i==Tr.TrackDel&&n<e&&u>e||i==Tr.TrackBefore&&n<e||i==Tr.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!o)return e==n||t<0?s:s+l;s+=l}n=u}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],a=this.sections[i++],o=n+s;if(a>=0&&n<=t&&o>=e)return n<e&&o>t?"cover":!0;n=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new vn(e)}static create(e){return new vn(e)}}class pr extends vn{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return jg(this,(t,i,n,s,a)=>e=e.replace(n,n+(i-t),a),!1),e}mapDesc(e,t=!1){return Ng(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let a=t[n],o=t[n+1];if(o>=0){t[n]=o,t[n+1]=a;let l=n>>1;for(;i.length<l;)i.push(wt.empty);i.push(a?e.slice(s,s+a):wt.empty)}s+=a}return new pr(t,i)}compose(e){return this.empty?e:e.empty?this:Xk(this,e,!0)}map(e,t=!1){return e.empty?this:Ng(this,e,t,!0)}iterChanges(e,t=!1){jg(this,e,t)}get desc(){return vn.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new lc(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,l-o);jr(n,d,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;jr(t,d,f),f>0&&Ts(i,t,s.text),s.forward(d),o+=d}let u=e[a++];for(;o<u;){if(s.done)break e;let d=Math.min(s.len,u-o);jr(t,d,-1),jr(n,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),o+=d}}return{changes:new pr(t,i),filtered:vn.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],a=0,o=null;function l(d=!1){if(!d&&!n.length)return;a<t&&jr(n,t-a,-1);let f=new pr(n,s);o=o?o.compose(f.map(o)):f,n=[],s=[],a=0}function u(d){if(Array.isArray(d))for(let f of d)u(f);else if(d instanceof pr){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);l(),o=o?o.compose(d.map(o)):d}else{let{from:f,to:p=f,insert:v}=d;if(f>p||f<0||p>t)throw new RangeError(`Invalid change range ${f} to ${p} (in doc of length ${t})`);let S=v?typeof v=="string"?wt.of(v.split(i||Mg)):v:wt.empty,x=S.length;if(f==p&&x==0)return;f<a&&l(),f>a&&jr(n,f-a,-1),jr(n,p-f,x),Ts(s,n,S),a=p}}return u(e),l(!o),o}static empty(e){return new pr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(wt.empty);i[n]=wt.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new pr(t,i)}static createSet(e,t){return new pr(e,t)}}function jr(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:n>=0&&e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function Ts(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(wt.empty);r.push(t)}}function jg(r,e,t){let i=r.inserted;for(let n=0,s=0,a=0;a<r.sections.length;){let o=r.sections[a++],l=r.sections[a++];if(l<0)n+=o,s+=o;else{let u=n,d=s,f=wt.empty;for(;u+=o,d+=l,l&&i&&(f=f.append(i[a-2>>1])),!(t||a==r.sections.length||r.sections[a+1]<0);)o=r.sections[a++],l=r.sections[a++];e(n,u,s,d,f),n=u,s=d}}}function Ng(r,e,t,i=!1){let n=[],s=i?[]:null,a=new lc(r),o=new lc(e);for(let l=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let u=Math.min(a.len,o.len);jr(n,u,-1),a.forward(u),o.forward(u)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!t))){let u=o.len;for(jr(n,o.ins,-1);u;){let d=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=d&&(jr(n,0,a.ins),s&&Ts(s,n,a.text),l=a.i),a.forward(d),u-=d}o.next()}else if(a.ins>=0){let u=0,d=a.len;for(;d;)if(o.ins==-1){let f=Math.min(d,o.len);u+=f,d-=f,o.forward(f)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;jr(n,u,l<a.i?a.ins:0),s&&l<a.i&&Ts(s,n,a.text),l=a.i,a.forward(a.len-d)}else{if(a.done&&o.done)return s?pr.createSet(n,s):vn.create(n);throw new Error("Mismatched change set lengths")}}}function Xk(r,e,t=!1){let i=[],n=t?[]:null,s=new lc(r),a=new lc(e);for(let o=!1;;){if(s.done&&a.done)return n?pr.createSet(i,n):vn.create(i);if(s.ins==0)jr(i,s.len,0,o),s.next();else if(a.len==0&&!a.done)jr(i,0,a.ins,o),n&&Ts(n,i,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),u=i.length;if(s.ins==-1){let d=a.ins==-1?-1:a.off?0:a.ins;jr(i,l,d,o),n&&d&&Ts(n,i,a.text)}else a.ins==-1?(jr(i,s.off?0:s.len,l,o),n&&Ts(n,i,s.textBit(l))):(jr(i,s.off?0:s.len,a.off?0:a.ins,o),n&&!a.off&&Ts(n,i,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||i.length>u),s.forward2(l),a.forward(l)}}}}class lc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?wt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?wt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ho{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new ho(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ye.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ye.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ye.range(e.anchor,e.head)}static create(e,t,i){return new ho(e,t,i)}}class ye{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ye.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ye([this.main],0)}addRange(e,t=!0){return ye.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,ye.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ye(e.ranges.map(t=>ho.fromJSON(t)),e.main)}static single(e,t=e){return new ye([ye.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return ye.normalized(e.slice(),t);i=s.to}return new ye(e,t)}static cursor(e,t=0,i,n){return ho.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(n??16777215)<<6)}static range(e,t,i,n){let s=(i??16777215)<<6|(n==null?7:Math.min(6,n));return t<e?ho.create(t,e,48|s):ho.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],a=e[n-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?ye.range(l,o):ye.range(o,l))}}return new ye(e,t)}}function Wk(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let cO=0;class Ze{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=cO++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ze(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:hO),!!e.static,e.enables)}of(e){return new Mu([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Mu(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Mu(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function hO(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class Mu{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=cO++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,l=!1,u=!1,d=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:(((t=e[f.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[f.id]);return{create(f){return f.values[a]=i(f),1},update(f,p){if(l&&p.docChanged||u&&(p.docChanged||p.selection)||Dg(f,d)){let v=i(f);if(o?!pb(v,f.values[a],n):!n(v,f.values[a]))return f.values[a]=v,1}return 0},reconfigure:(f,p)=>{let v,S=p.config.address[s];if(S!=null){let x=nd(p,S);if(this.dependencies.every(m=>m instanceof Ze?p.facet(m)===f.facet(m):m instanceof Or?p.field(m,!1)==f.field(m,!1):!0)||(o?pb(v=i(f),x,n):n(v=i(f),x)))return f.values[a]=x,0}else v=i(f);return f.values[a]=v,1}}}}function pb(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function Dg(r,e){let t=!1;for(let i of e)Gl(r,i)&1&&(t=!0);return t}function Dj(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),a=r[e.id]>>1;function o(l){let u=[];for(let d=0;d<i.length;d++){let f=nd(l,i[d]);if(n[d]==2)for(let p of f)u.push(p);else u.push(f)}return e.combine(u)}return{create(l){for(let u of i)Gl(l,u);return l.values[a]=o(l),1},update(l,u){if(!Dg(l,s))return 0;let d=o(l);return e.compare(d,l.values[a])?0:(l.values[a]=d,1)},reconfigure(l,u){let d=Dg(l,i),f=u.config.facets[e.id],p=u.facet(e);if(f&&!d&&hO(t,f))return l.values[a]=p,0;let v=o(l);return e.compare(v,p)?(l.values[a]=p,0):(l.values[a]=v,1)}}}const ou=Ze.define({static:!0});class Or{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new Or(cO++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ou).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],a=this.updateF(s,n);return this.compareF(s,a)?0:(i.values[t]=a,1)},reconfigure:(i,n)=>{let s=i.facet(ou),a=n.facet(ou),o;return(o=s.find(l=>l.field==this))&&o!=a.find(l=>l.field==this)?(i.values[t]=o.create(i),1):n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,ou.of({field:this,create:e})]}get extension(){return this}}const ao={lowest:4,low:3,default:2,high:1,highest:0};function $l(r){return e=>new Fk(e,r)}const Kn={highest:$l(ao.highest),high:$l(ao.high),default:$l(ao.default),low:$l(ao.low),lowest:$l(ao.lowest)};class Fk{constructor(e,t){this.inner=e,this.prec=t}}class Id{of(e){return new Ig(this,e)}reconfigure(e){return Id.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ig{constructor(e,t){this.compartment=e,this.inner=t}}class id{constructor(e,t,i,n,s,a){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),a=new Map;for(let p of Ij(e,t,a))p instanceof Or?n.push(p):(s[p.facet.id]||(s[p.facet.id]=[])).push(p);let o=Object.create(null),l=[],u=[];for(let p of n)o[p.id]=u.length<<1,u.push(v=>p.slot(v));let d=i?.config.facets;for(let p in s){let v=s[p],S=v[0].facet,x=d&&d[p]||[];if(v.every(m=>m.type==0))if(o[S.id]=l.length<<1|1,hO(x,v))l.push(i.facet(S));else{let m=S.combine(v.map(y=>y.value));l.push(i&&S.compare(m,i.facet(S))?i.facet(S):m)}else{for(let m of v)m.type==0?(o[m.id]=l.length<<1|1,l.push(m.value)):(o[m.id]=u.length<<1,u.push(y=>m.dynamicSlot(y)));o[S.id]=u.length<<1,u.push(m=>Dj(m,S,v))}}let f=u.map(p=>p(o));return new id(e,a,f,o,l,s)}}function Ij(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(a,o){let l=n.get(a);if(l!=null){if(l<=o)return;let u=i[l].indexOf(a);u>-1&&i[l].splice(u,1),a instanceof Ig&&t.delete(a.compartment)}if(n.set(a,o),Array.isArray(a))for(let u of a)s(u,o);else if(a instanceof Ig){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;t.set(a.compartment,u),s(u,o)}else if(a instanceof Fk)s(a.inner,a.prec);else if(a instanceof Or)i[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Mu)i[o].push(a),a.facet.extensions&&s(a.facet.extensions,ao.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,o)}}return s(r,ao.default),i.reduce((a,o)=>a.concat(o))}function Gl(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function nd(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const Zk=Ze.define(),Bg=Ze.define({combine:r=>r.some(e=>e),static:!0}),Vk=Ze.define({combine:r=>r.length?r[0]:void 0,static:!0}),Uk=Ze.define(),Hk=Ze.define(),Yk=Ze.define(),Gk=Ze.define({combine:r=>r.length?r[0]:!1});class Sn{constructor(e,t){this.type=e,this.value=t}static define(){return new Bj}}class Bj{of(e){return new Sn(this,e)}}class zj{constructor(e){this.map=e}of(e){return new ft(this,e)}}class ft{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ft(this.type,t)}is(e){return this.type==e}static define(e={}){return new zj(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}ft.reconfigure=ft.define();ft.appendConfig=ft.define();class cr{constructor(e,t,i,n,s,a){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,i&&Wk(i,t.newLength),s.some(o=>o.type==cr.time)||(this.annotations=s.concat(cr.time.of(Date.now())))}static create(e,t,i,n,s,a){return new cr(e,t,i,n,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(cr.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}cr.time=Sn.define();cr.userEvent=Sn.define();cr.addToHistory=Sn.define();cr.remote=Sn.define();function qj(r,e){let t=[];for(let i=0,n=0;;){let s,a;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],a=r[i++];else if(n<e.length)s=e[n++],a=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function Kk(r,e,t){var i;let n,s,a;return t?(n=e.changes,s=pr.empty(e.changes.length),a=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),a=r.changes.compose(n)),{changes:a,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:ft.mapEffects(r.effects,n).concat(ft.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function zg(r,e,t){let i=e.selection,n=fa(e.annotations);return e.userEvent&&(n=n.concat(cr.userEvent.of(e.userEvent))),{changes:e.changes instanceof pr?e.changes:pr.of(e.changes||[],t,r.facet(Vk)),selection:i&&(i instanceof ye?i:ye.single(i.anchor,i.head)),effects:fa(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function Jk(r,e,t){let i=zg(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let a=!!e[s].sequential;i=Kk(i,zg(r,e[s],a?i.changes.newLength:r.doc.length),a)}let n=cr.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Wj(t?Xj(n):n)}function Xj(r){let e=r.startState,t=!0;for(let n of e.facet(Uk)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:qj(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=pr.empty(e.doc.length);else{let a=r.changes.filter(t);n=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}r=cr.create(e,n,r.selection&&r.selection.map(s),ft.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(Hk);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof cr?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof cr?r=s[0]:r=Jk(e,fa(s),!1)}return r}function Wj(r){let e=r.startState,t=e.facet(Yk),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=Kk(i,zg(e,s,r.changes.newLength),!0))}return i==r?r:cr.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const Fj=[];function fa(r){return r==null?Fj:Array.isArray(r)?r:[r]}var Yt=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Yt||(Yt={}));const Zj=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let qg;try{qg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Vj(r){if(qg)return qg.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Zj.test(t)))return!0}return!1}function Uj(r){return e=>{if(!/\S/.test(e))return Yt.Space;if(Vj(e))return Yt.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return Yt.Word;return Yt.Other}}class yt{constructor(e,t,i,n,s,a){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Gl(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Gl(this,i),nd(this,i)}update(...e){return Jk(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let o of e.effects)o.is(Id.reconfigure)?(t&&(n=new Map,t.compartments.forEach((l,u)=>n.set(u,l)),t=null),n.set(o.value.compartment,o.value.extension)):o.is(ft.reconfigure)?(t=null,i=o.value):o.is(ft.appendConfig)&&(t=null,i=fa(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=id.resolve(i,n,this),s=new yt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let a=e.startState.facet(Bg)?e.newSelection:e.newSelection.asSingle();new yt(t,e.newDoc,a,s,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ye.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],a=fa(i.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),u=this.changes(l.changes),d=u.map(n);for(let p=0;p<o;p++)s[p]=s[p].map(d);let f=n.mapDesc(u,!0);s.push(l.range.map(f)),n=n.compose(d),a=ft.mapEffects(a,d).concat(ft.mapEffects(fa(l.effects),f))}return{changes:n,selection:ye.create(s,t.mainIndex),effects:a}}changes(e=[]){return e instanceof pr?e:pr.of(e,this.doc.length,this.facet(yt.lineSeparator))}toText(e){return wt.of(e.split(this.facet(yt.lineSeparator)||Mg))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Gl(this,t),nd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof Or&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let a=i[s],o=e[s];n.push(a.init(l=>a.spec.fromJSON(o,l)))}}return yt.create({doc:e.doc,selection:ye.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=id.resolve(e.extensions||[],new Map),i=e.doc instanceof wt?e.doc:wt.of((e.doc||"").split(t.staticFacet(yt.lineSeparator)||Mg)),n=e.selection?e.selection instanceof ye?e.selection:ye.single(e.selection.anchor,e.selection.head):ye.single(0);return Wk(n,i.length),t.staticFacet(Bg)||(n=n.asSingle()),new yt(t,i,n,t.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(yt.tabSize)}get lineBreak(){return this.facet(yt.lineSeparator)||`
`}get readOnly(){return this.facet(Gk)}phrase(e,...t){for(let i of this.facet(yt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(Zk))for(let a of s(this,t,i))Object.prototype.hasOwnProperty.call(a,e)&&n.push(a[e]);return n}charCategorizer(e){return Uj(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-i,o=e-i;for(;a>0;){let l=Er(t,a,!1);if(s(t.slice(l,a))!=Yt.Word)break;a=l}for(;o<n;){let l=Er(t,o);if(s(t.slice(o,l))!=Yt.Word)break;o=l}return a==o?null:ye.range(a+i,o+i)}}yt.allowMultipleSelections=Bg;yt.tabSize=Ze.define({combine:r=>r.length?r[0]:4});yt.lineSeparator=Vk;yt.readOnly=Gk;yt.phrases=Ze.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});yt.languageData=Zk;yt.changeFilter=Uk;yt.transactionFilter=Hk;yt.transactionExtender=Yk;Id.reconfigure=ft.define();function wn(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let a=n[s],o=i[s];if(o===void 0)i[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class Oo{eq(e){return this==e}range(e,t=e){return Xg.create(e,t,this)}}Oo.prototype.startSide=Oo.prototype.endSide=0;Oo.prototype.point=!1;Oo.prototype.mapMode=Tr.TrackDel;let Xg=class eC{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new eC(e,t,i)}};function Wg(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class uO{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let a=n,o=s.length;;){if(a==o)return a;let l=a+o>>1,u=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return u>=0?a:o;u>=0?o=l:a=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),a=this.findIndex(i,1e9,!1,s);s<a;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],d=this.from[l]+e,f=this.to[l]+e,p,v;if(d==f){let S=t.mapPos(d,u.startSide,u.mapMode);if(S==null||(p=v=S,u.startSide!=u.endSide&&(v=t.mapPos(d,u.endSide),v<p)))continue}else if(p=t.mapPos(d,u.startSide),v=t.mapPos(f,u.endSide),p>v||p==v&&u.startSide>0&&u.endSide<=0)continue;(v-p||u.endSide-u.startSide)<0||(a<0&&(a=p),u.point&&(o=Math.max(o,v-p)),i.push(u),n.push(p-a),s.push(v-a))}return{mapped:i.length?new uO(n,s,i,o):null,pos:a}}}class Ct{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new Ct(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(i&&(t=t.slice().sort(Wg)),this.isEmpty)return t.length?Ct.of(t):this;let o=new tC(this,null,-1).goto(0),l=0,u=[],d=new bn;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let f=t[l++];d.addInner(f.from,f.to,f.value)||u.push(f)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!a||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||n>o.to||s<o.from||a(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||u.push(Xg.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?Ct.empty:this.nextLayer.update({add:u,filter:a,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(o,o+l.length);if(u===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(o));else if(u===!0){let{mapped:d,pos:f}=l.map(o,e);d&&(n=Math.max(n,d.maxPoint),t.push(d),i.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ct(i,t,s||Ct.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],a=this.chunk[n];if(t>=s&&e<=s+a.length&&a.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return cc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return cc.from(e).goto(t)}static compare(e,t,i,n,s=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),o=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=mb(a,o,i),u=new Al(a,l,s),d=new Al(o,l,s);i.iterGaps((f,p,v)=>gb(u,f,d,p,v,n)),i.empty&&i.length==0&&gb(u,0,d,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),a=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=mb(s,a),l=new Al(s,o,0).goto(i),u=new Al(a,o,0).goto(i);for(;;){if(l.to!=u.to||!Fg(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>n)return!0;l.next(),u.next()}}static spans(e,t,i,n,s=-1){let a=new Al(e,null,s).goto(t),o=t,l=a.openStart;for(;;){let u=Math.min(a.to,i);if(a.point){let d=a.activeForPoint(a.to),f=a.pointFrom<t?d.length+1:a.point.startSide<0?d.length:Math.min(d.length,l);n.point(o,u,a.point,d,f,a.pointRank),l=Math.min(a.openEnd(u),d.length)}else u>o&&(n.span(o,u,a.active,l),l=a.openEnd(u));if(a.to>i)return l+(a.point&&a.to>i?1:0);o=a.to,a.next()}}static of(e,t=!1){let i=new bn;for(let n of e instanceof Xg?[e]:t?Hj(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(e){if(!e.length)return Ct.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let n=e[i];n!=Ct.empty;n=n.nextLayer)t=new Ct(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}Ct.empty=new Ct([],[],null,-1);function Hj(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(Wg(e,i)>0)return r.slice().sort(Wg);e=i}return r}Ct.empty.nextLayer=Ct.empty;class bn{finishChunk(e){this.chunks.push(new uO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new bn)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ct.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ct.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function mb(r,e,t){let i=new Map;for(let s of r)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a]);let n=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=i.get(s.chunk[a]);o!=null&&(t?t.mapPos(o):o)==s.chunkPos[a]&&!t?.touchesRange(o,o+s.chunk[a].length)&&n.add(s.chunk[a])}return n}class tC{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class cc{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=i&&n.push(new tC(a,t,i,s));return n.length==1?n[0]:new cc(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)dm(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)dm(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),dm(this.heap,0)}}}function dm(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class Al{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=cc.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){au(this.active,e),au(this.activeTo,e),au(this.activeRank,e),this.minActive=Ob(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||n-this.activeTo[t])>0;)t++;lu(this.active,t,i),lu(this.activeTo,t,n),lu(this.activeRank,t,s),e&&lu(e,t,this.cursor.from),this.minActive=Ob(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&au(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function gb(r,e,t,i,n,s){r.goto(e),t.goto(i);let a=i+n,o=i,l=i-e;for(;;){let u=r.to+l-t.to,d=u||r.endSide-t.endSide,f=d<0?r.to+l:t.to,p=Math.min(f,a);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Fg(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(o,p,r.point,t.point):p>o&&!Fg(r.active,t.active)&&s.compareRange(o,p,r.active,t.active),f>a)break;(u||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(f),o=f,d<=0&&r.next(),d>=0&&t.next()}}function Fg(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function au(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function lu(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function Ob(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function Zi(r,e,t=r.length){let i=0;for(let n=0;n<t&&n<r.length;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=Er(r,n));return i}function Zg(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=Er(r,n)}return i===!0?-1:r.length}const Vg="",vb=typeof Symbol>"u"?"__"+Vg:Symbol.for(Vg),Ug=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class $s{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,u){let d=[],f=/^@(\w+)\b/.exec(a[0]),p=f&&f[1]=="keyframes";if(f&&o==null)return l.push(a[0]+";");for(let v in o){let S=o[v];if(/&/.test(v))s(v.split(/,\s*/).map(x=>a.map(m=>x.replace(/&/,m))).reduce((x,m)=>x.concat(m)),S,l);else if(S&&typeof S=="object"){if(!f)throw new RangeError("The value of a property ("+v+") should be a primitive value.");s(n(v),S,d,p)}else S!=null&&d.push(v.replace(/_.*/,"").replace(/[A-Z]/g,x=>"-"+x.toLowerCase())+": "+S+";")}(d.length||p)&&l.push((i&&!f&&!u?a.map(i):a).join(", ")+" {"+d.join(" ")+"}")}for(let a in e)s(n(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=xb[vb]||1;return xb[vb]=e+1,Vg+e.toString(36)}static mount(e,t,i){let n=e[Ug],s=i&&i.nonce;n?s&&n.setNonce(s):n=new Yj(e,s),n.mount(Array.isArray(t)?t:[t],e)}}let yb=new Map;class Yj{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=yb.get(i);if(s)return e[Ug]=s;this.sheet=new n.CSSStyleSheet,yb.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Ug]=this}mount(e,t){let i=this.sheet,n=0,s=0;for(let a=0;a<e.length;a++){let o=e[a],l=this.modules.indexOf(o);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,o),i)for(let u=0;u<o.rules.length;u++)i.insertRule(o.rules[u],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=o.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var As={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Gj=typeof navigator<"u"&&/Mac/.test(navigator.platform),Kj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Pr=0;Pr<10;Pr++)As[48+Pr]=As[96+Pr]=String(Pr);for(var Pr=1;Pr<=24;Pr++)As[Pr+111]="F"+Pr;for(var Pr=65;Pr<=90;Pr++)As[Pr]=String.fromCharCode(Pr+32),hc[Pr]=String.fromCharCode(Pr);for(var fm in As)hc.hasOwnProperty(fm)||(hc[fm]=As[fm]);function Jj(r){var e=Gj&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Kj&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?hc:As)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function jt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];typeof n=="string"?r.setAttribute(i,n):n!=null&&(r[i]=n)}e++}for(;e<arguments.length;e++)rC(r,arguments[e]);return r}function rC(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)rC(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}function uc(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function Hg(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function ju(r,e){if(!e.anchorNode)return!1;try{return Hg(r,e.anchorNode)}catch{return!1}}function Sa(r){return r.nodeType==3?xo(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Kl(r,e,t,i){return t?bb(r,e,t,i,-1)||bb(r,e,t,i,1):!1}function vo(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function sd(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function bb(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:_n(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=vo(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?_n(r):0}else return!1}}function _n(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Ac(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function eN(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function iC(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function tN(r,e,t,i,n,s,a,o){let l=r.ownerDocument,u=l.defaultView||window;for(let d=r,f=!1;d&&!f;)if(d.nodeType==1){let p,v=d==l.body,S=1,x=1;if(v)p=eN(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(f=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let b=d.getBoundingClientRect();({scaleX:S,scaleY:x}=iC(d,b)),p={left:b.left,right:b.left+d.clientWidth*S,top:b.top,bottom:b.top+d.clientHeight*x}}let m=0,y=0;if(n=="nearest")e.top<p.top?(y=e.top-(p.top+a),t>0&&e.bottom>p.bottom+y&&(y=e.bottom-p.bottom+a)):e.bottom>p.bottom&&(y=e.bottom-p.bottom+a,t<0&&e.top-y<p.top&&(y=e.top-(p.top+a)));else{let b=e.bottom-e.top,_=p.bottom-p.top;y=(n=="center"&&b<=_?e.top+b/2-_/2:n=="start"||n=="center"&&t<0?e.top-a:e.bottom-_+a)-p.top}if(i=="nearest"?e.left<p.left?(m=e.left-(p.left+s),t>0&&e.right>p.right+m&&(m=e.right-p.right+s)):e.right>p.right&&(m=e.right-p.right+s,t<0&&e.left<p.left+m&&(m=e.left-(p.left+s))):m=(i=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:i=="start"==o?e.left-s:e.right-(p.right-p.left)+s)-p.left,m||y)if(v)u.scrollBy(m,y);else{let b=0,_=0;if(y){let P=d.scrollTop;d.scrollTop+=y/x,_=(d.scrollTop-P)*x}if(m){let P=d.scrollLeft;d.scrollLeft+=m/S,b=(d.scrollLeft-P)*S}e={left:e.left-b,top:e.top-_,right:e.right-b,bottom:e.bottom-_},b&&Math.abs(b-m)<1&&(i="nearest"),_&&Math.abs(_-y)<1&&(n="nearest")}if(v)break;(e.top<p.top||e.bottom>p.bottom||e.left<p.left||e.right>p.right)&&(e={left:Math.max(e.left,p.left),right:Math.min(e.right,p.right),top:Math.max(e.top,p.top),bottom:Math.min(e.bottom,p.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function rN(r){let e=r.ownerDocument,t,i;for(let n=r.parentNode;n&&!(n==e.body||t&&i);)if(n.nodeType==1)!i&&n.scrollHeight>n.clientHeight&&(i=n),!t&&n.scrollWidth>n.clientWidth&&(t=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:t,y:i}}class iN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?_n(t):0),i,Math.min(e.focusOffset,i?_n(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let ra=null;function nC(r){if(r.setActive)return r.setActive();if(ra)return r.focus(ra);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(ra==null?{get preventScroll(){return ra={preventScroll:!0},!0}}:void 0),!ra){ra=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let _b;function xo(r,e,t=e){let i=_b||(_b=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function pa(r,e,t,i){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let a=new KeyboardEvent("keyup",n);return a.synthetic=!0,r.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function nN(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function sC(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function sN(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,_n(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=_n(t))}else{if(t==r)return!0;i=vo(t),t=t.parentNode}}function oC(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function aC(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=_n(t)}else if(t.parentNode&&!sd(t))i=vo(t),t=t.parentNode;else return null}}function lC(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!sd(t))i=vo(t)+1,t=t.parentNode;else return null}}class Nr{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Nr(e.parentNode,vo(e),t)}static after(e,t){return new Nr(e.parentNode,vo(e)+1,t)}}const dO=[];class It{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let a of this.children){if(a.flags&7){if(!a.dom&&(s=n?n.nextSibling:i.firstChild)){let o=It.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,t),a.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=a.dom&&(t.written=!0),a.dom.parentNode==i)for(;s&&s!=a.dom;)s=Sb(s);else i.insertBefore(a.dom,s);n=a.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Sb(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=_n(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!It.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let a=this.children[n];if(a.dom==i)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,a=-1,o=-1;for(let l=0,u=i,d=i;l<this.children.length;l++){let f=this.children[l],p=u+f.length;if(u<e&&p>t)return f.domBoundsAround(e,t,u);if(p>=e&&n==-1&&(n=l,s=u),u>t&&f.dom.parentNode==this.dom){a=l,o=d;break}d=p,u=p+f.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=dO){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new cC(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}It.prototype.breakAfter=0;function Sb(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class cC{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function hC(r,e,t,i,n,s,a,o,l){let{children:u}=r,d=u.length?u[e]:null,f=s.length?s[s.length-1]:null,p=f?f.breakAfter:a;if(!(e==i&&d&&!a&&!p&&s.length<2&&d.merge(t,n,s.length?f:null,t==0,o,l))){if(i<u.length){let v=u[i];v&&(n<v.length||v.breakAfter&&f?.breakAfter)?(e==i&&(v=v.split(n),n=0),!p&&f&&v.merge(0,n,f,!0,0,l)?s[s.length-1]=v:((n||v.children.length&&!v.children[0].length)&&v.merge(0,n,null,!1,0,l),s.push(v))):v?.breakAfter&&(f?f.breakAfter=1:a=1),i++}for(d&&(d.breakAfter=a,t>0&&(!a&&s.length&&d.merge(t,d.length,s[0],!1,o,0)?d.breakAfter=s.shift().breakAfter:(t<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(t,d.length,null,!1,o,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:o;else if(u[e].become(s[0]))e++,s.shift(),o=s.length?0:l;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,o,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function uC(r,e,t,i,n,s){let a=r.childCursor(),{i:o,off:l}=a.findPos(t,1),{i:u,off:d}=a.findPos(e,-1),f=e-t;for(let p of i)f+=p.length;r.length+=f,hC(r,u,d,o,l,i,0,n,s)}let ti=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Yg=typeof document<"u"?document:{documentElement:{style:{}}};const Gg=/Edge\/(\d+)/.exec(ti.userAgent),dC=/MSIE \d/.test(ti.userAgent),Kg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ti.userAgent),Bd=!!(dC||Kg||Gg),wb=!Bd&&/gecko\/(\d+)/i.test(ti.userAgent),pm=!Bd&&/Chrome\/(\d+)/.exec(ti.userAgent),oN="webkitFontSmoothing"in Yg.documentElement.style,fC=!Bd&&/Apple Computer/.test(ti.vendor),kb=fC&&(/Mobile\/\w+/.test(ti.userAgent)||ti.maxTouchPoints>2);var Ve={mac:kb||/Mac/.test(ti.platform),windows:/Win/.test(ti.platform),linux:/Linux|X11/.test(ti.platform),ie:Bd,ie_version:dC?Yg.documentMode||6:Kg?+Kg[1]:Gg?+Gg[1]:0,gecko:wb,gecko_version:wb?+(/Firefox\/(\d+)/.exec(ti.userAgent)||[0,0])[1]:0,chrome:!!pm,chrome_version:pm?+pm[1]:0,ios:kb,android:/Android\b/.test(ti.userAgent),safari:fC,webkit_version:oN?+(/\bAppleWebKit\/(\d+)/.exec(ti.userAgent)||[0,0])[1]:0,tabSize:Yg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const aN=256;class Vi extends It{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Vi)||this.length-(t-e)+i.length>aN||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Vi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Nr(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return lN(this.dom,e,t)}}class Yn extends It{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(sC(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,a){return i&&(!(i instanceof Yn&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)?!1:(uC(this,e,t,i?i.children.slice():[],s-1,a-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let o of this.children){let l=i+o.length;l>e&&t.push(i<e?o.split(e-i):o),n<0&&i>=e&&(n=s),i=l,s++}let a=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Yn(this.mark,t,a)}domAtPos(e){return pC(this,e)}coordsAt(e,t){return gC(this,e,t)}}function lN(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,a=0;e==0&&t<0||e==i&&t>=0?Ve.chrome||Ve.gecko||(e?(n--,a=1):s<i&&(s++,a=-1)):t<0?n--:s<i&&s++;let o=xo(r,n,s).getClientRects();if(!o.length)return null;let l=o[(a?a<0:t>=0)?0:o.length-1];return Ve.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,u=>u.width)||l),a?Ac(l,a<0):l||null}class Es extends It{static create(e,t,i){return new Es(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Es.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,n,s,a){return i&&(!(i instanceof Es)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Es&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return wt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):wt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let a=this.side?this.side<0:e>0;for(let o=a?n.length-1:0;s=n[o],!(e>0?o==0:o==n.length-1||s.top<s.bottom);o+=a?-1:1);return Ac(s,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class wa extends It{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof wa&&e.side==this.side}split(){return new wa(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Nr.before(this.dom):Nr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return wt.empty}get isHidden(){return!0}}Vi.prototype.children=Es.prototype.children=wa.prototype.children=dO;function pC(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let a=i[n],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(e>s&&e<o&&a.dom.parentNode==t)return a.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=n;s>0;s--){let a=i[s-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let s=n;s<i.length;s++){let a=i[s];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Nr(t,0)}function mC(r,e,t){let i,{children:n}=r;t>0&&e instanceof Yn&&n.length&&(i=n[n.length-1])instanceof Yn&&i.mark.eq(e.mark)?mC(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function gC(r,e,t){let i=null,n=-1,s=null,a=-1;function o(u,d){for(let f=0,p=0;f<u.children.length&&p<=d;f++){let v=u.children[f],S=p+v.length;S>=d&&(v.children.length?o(v,d-p):(!s||s.isHidden&&(t>0||hN(s,v)))&&(S>d||p==S&&v.getSide()>0)?(s=v,a=d-p):(p<d||p==S&&v.getSide()<0&&!v.isHidden)&&(i=v,n=d-p)),p=S}}o(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:a),t):cN(r)}function cN(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Sa(e);return t[t.length-1]||null}function hN(r,e){let t=r.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function Jg(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Cb=Object.create(null);function od(r,e,t){if(r==e)return!0;r||(r=Cb),e||(e=Cb);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function e0(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function uN(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class kn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Wr=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Wr||(Wr={}));class it extends Oo{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new Lc(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ls(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:a}=OC(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(a?t?2e8:1:-6e8)+1}return new Ls(e,i,n,t,e.widget||null,!0)}static line(e){return new Mc(e)}static set(e,t=!1){return Ct.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}it.none=Ct.empty;class Lc extends it{constructor(e){let{start:t,end:i}=OC(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Lc&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&od(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Lc.prototype.point=!1;class Mc extends it{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Mc&&this.spec.class==e.spec.class&&od(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Mc.prototype.mapMode=Tr.TrackBefore;Mc.prototype.point=!0;class Ls extends it{constructor(e,t,i,n,s,a){super(t,i,s,e),this.block=n,this.isReplace=a,this.mapMode=n?t<=0?Tr.TrackBefore:Tr.TrackAfter:Tr.TrackDel}get type(){return this.startSide!=this.endSide?Wr.WidgetRange:this.startSide<=0?Wr.WidgetBefore:Wr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ls&&dN(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ls.prototype.point=!0;function OC(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function dN(r,e){return r==e||!!(r&&e&&r.compare(e))}function Nu(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class lr extends It{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,a){if(i){if(!(i instanceof lr))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),uC(this,e,t,i?i.children.slice():[],s,a),!0}split(e){let t=new lr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){od(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){mC(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Jg(t,this.attrs||{})),i&&(this.attrs=Jg({class:i},this.attrs||{}))}domAtPos(e){return pC(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(sC(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(e0(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&It.get(n)instanceof Yn;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=It.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!Ve.ios||!this.children.some(s=>s instanceof Vi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Vi)||/[^ -~]/.test(i.text))return null;let n=Sa(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=gC(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let a=(s-n.textHeight)/2;return{top:i.top+a,bottom:i.bottom-a,left:i.left,right:i.left}}}return i}become(e){return e instanceof lr&&this.children.length==0&&e.children.length==0&&od(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],a=n+s.length;if(a>=t){if(s instanceof lr)return s;if(a>t)break}n=a+s.breakAfter}return null}}class Un extends It{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,a){return i&&(!(i instanceof Un)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Un(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return dO}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):wt.empty}domBoundsAround(){return null}become(e){return e instanceof Un&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof t0?null:Ac(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class t0 extends kn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Jl{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Un&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new lr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(cu(new wa(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Un)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(cu(new Vi(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,a){if(this.disallowBlockEffectsFor[a]&&i instanceof Ls){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof Ls)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Un(i.widget||ka.block,o,i));else{let l=Es.create(i.widget||ka.inline,o,o?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),d=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),u&&(f.append(cu(new wa(1),n),s),s=n.length+Math.max(0,s-n.length)),f.append(cu(l,n),s),this.atCursorPos=d,this.pendingBuffer=d?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let a=new Jl(e,t,i,s);return a.openEnd=Ct.spans(n,t,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function cu(r,e){for(let t of e)r=new Yn(t,[r],r.length);return r}class ka extends kn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ka.inline=new ka("span");ka.block=new ka("div");var Ut=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Ut||(Ut={}));const yo=Ut.LTR,fO=Ut.RTL;function vC(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const fN=vC("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),pN=vC("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),r0=Object.create(null),on=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);r0[e]=t,r0[t]=-e}function xC(r){return r<=247?fN[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?pN[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const mN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qs{get dir(){return this.level%2?fO:yo}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,n){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==i)return a;(s<0||(n!=0?n<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function yC(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!yC(i.inner,n.inner))return!1}return!0}const Nt=[];function gN(r,e,t,i,n){for(let s=0;s<=i.length;s++){let a=s?i[s-1].to:e,o=s<i.length?i[s].from:t,l=s?256:n;for(let u=a,d=l,f=l;u<o;u++){let p=xC(r.charCodeAt(u));p==512?p=d:p==8&&f==4&&(p=16),Nt[u]=p==4?2:p,p&7&&(f=p),d=p}for(let u=a,d=l,f=l;u<o;u++){let p=Nt[u];if(p==128)u<o-1&&d==Nt[u+1]&&d&24?p=Nt[u]=d:Nt[u]=256;else if(p==64){let v=u+1;for(;v<o&&Nt[v]==64;)v++;let S=u&&d==8||v<t&&Nt[v]==8?f==1?1:8:256;for(let x=u;x<v;x++)Nt[x]=S;u=v-1}else p==8&&f==1&&(Nt[u]=1);d=p,p&7&&(f=p)}}}function ON(r,e,t,i,n){let s=n==1?2:1;for(let a=0,o=0,l=0;a<=i.length;a++){let u=a?i[a-1].to:e,d=a<i.length?i[a].from:t;for(let f=u,p,v,S;f<d;f++)if(v=r0[p=r.charCodeAt(f)])if(v<0){for(let x=o-3;x>=0;x-=3)if(on[x+1]==-v){let m=on[x+2],y=m&2?n:m&4?m&1?s:n:0;y&&(Nt[f]=Nt[on[x]]=y),o=x;break}}else{if(on.length==189)break;on[o++]=f,on[o++]=p,on[o++]=l}else if((S=Nt[f])==2||S==1){let x=S==n;l=x?0:1;for(let m=o-3;m>=0;m-=3){let y=on[m+2];if(y&2)break;if(x)on[m+2]|=2;else{if(y&4)break;on[m+2]|=4}}}}}function vN(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let a=n?t[n-1].to:r,o=n<t.length?t[n].from:e;for(let l=a;l<o;){let u=Nt[l];if(u==256){let d=l+1;for(;;)if(d==o){if(n==t.length)break;d=t[n++].to,o=n<t.length?t[n].from:e}else if(Nt[d]==256)d++;else break;let f=s==1,p=(d<e?Nt[d]:i)==1,v=f==p?f?1:2:i;for(let S=d,x=n,m=x?t[x-1].to:r;S>l;)S==m&&(S=t[--x].from,m=x?t[x-1].to:r),Nt[--S]=v;l=d}else s=u,l++}}}function i0(r,e,t,i,n,s,a){let o=i%2?2:1;if(i%2==n%2)for(let l=e,u=0;l<t;){let d=!0,f=!1;if(u==s.length||l<s[u].from){let x=Nt[l];x!=o&&(d=!1,f=x==16)}let p=!d&&o==1?[]:null,v=d?i:i+1,S=l;e:for(;;)if(u<s.length&&S==s[u].from){if(f)break e;let x=s[u];if(!d)for(let m=x.to,y=u+1;;){if(m==t)break e;if(y<s.length&&s[y].from==m)m=s[y++].to;else{if(Nt[m]==o)break e;break}}if(u++,p)p.push(x);else{x.from>l&&a.push(new Qs(l,x.from,v));let m=x.direction==yo!=!(v%2);n0(r,m?i+1:i,n,x.inner,x.from,x.to,a),l=x.to}S=x.to}else{if(S==t||(d?Nt[S]!=o:Nt[S]==o))break;S++}p?i0(r,l,S,i+1,n,p,a):l<S&&a.push(new Qs(l,S,v)),l=S}else for(let l=t,u=s.length;l>e;){let d=!0,f=!1;if(!u||l>s[u-1].to){let x=Nt[l-1];x!=o&&(d=!1,f=x==16)}let p=!d&&o==1?[]:null,v=d?i:i+1,S=l;e:for(;;)if(u&&S==s[u-1].to){if(f)break e;let x=s[--u];if(!d)for(let m=x.from,y=u;;){if(m==e)break e;if(y&&s[y-1].to==m)m=s[--y].from;else{if(Nt[m-1]==o)break e;break}}if(p)p.push(x);else{x.to<l&&a.push(new Qs(x.to,l,v));let m=x.direction==yo!=!(v%2);n0(r,m?i+1:i,n,x.inner,x.from,x.to,a),l=x.from}S=x.from}else{if(S==e||(d?Nt[S-1]!=o:Nt[S-1]==o))break;S--}p?i0(r,S,l,i+1,n,p,a):S<l&&a.push(new Qs(S,l,v)),l=S}}function n0(r,e,t,i,n,s,a){let o=e%2?2:1;gN(r,n,s,i,o),ON(r,n,s,i,o),vN(n,s,i,o),i0(r,n,s,e,t,i,a)}function xN(r,e,t){if(!r)return[new Qs(0,0,e==fO?1:0)];if(e==yo&&!t.length&&!mN.test(r))return bC(r.length);if(t.length)for(;r.length>Nt.length;)Nt[Nt.length]=256;let i=[],n=e==yo?0:1;return n0(r,n,n,t,0,r.length,i),i}function bC(r){return[new Qs(0,r,0)]}let _C="";function yN(r,e,t,i,n){var s;let a=i.head-r.from,o=Qs.find(e,a,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[o],u=l.side(n,t);if(a==u){let p=o+=n?1:-1;if(p<0||p>=e.length)return null;l=e[o=p],a=l.side(!n,t),u=l.side(n,t)}let d=Er(r.text,a,l.forward(n,t));(d<l.from||d>l.to)&&(d=u),_C=r.text.slice(Math.min(a,d),Math.max(a,d));let f=o==(n?e.length-1:0)?null:e[o+(n?1:-1)];return f&&d==u&&f.level+(n?0:1)<l.level?ye.cursor(f.side(!n,t)+r.from,f.forward(n,t)?1:-1,f.level):ye.cursor(d+r.from,l.forward(n,t)?-1:1,l.level)}function bN(r,e,t){for(let i=e;i<t;i++){let n=xC(r.charCodeAt(i));if(n==1)return yo;if(n==2||n==4)return fO}return yo}const SC=Ze.define(),wC=Ze.define(),kC=Ze.define(),CC=Ze.define(),s0=Ze.define(),PC=Ze.define(),TC=Ze.define(),pO=Ze.define(),mO=Ze.define(),EC=Ze.define({combine:r=>r.some(e=>e)}),QC=Ze.define({combine:r=>r.some(e=>e)}),RC=Ze.define();class ma{constructor(e,t="nearest",i="nearest",n=5,s=5,a=!1){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=a}map(e){return e.empty?this:new ma(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ma(ye.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const hu=ft.define({map:(r,e)=>r.map(e)}),$C=ft.define();function ii(r,e,t){let i=r.facet(CC);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Fn=Ze.define({combine:r=>r.length?r[0]:!0});let _N=0;const oa=Ze.define({combine(r){return r.filter((e,t)=>{for(let i=0;i<t;i++)if(r[i].plugin==e.plugin)return!1;return!0})}});class sr{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(oa.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(oa.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:a}=t||{};return new sr(_N++,e,i,n,o=>{let l=[];return a&&l.push(dc.of(u=>{let d=u.plugin(o);return d?a(d):it.none})),s&&l.push(s(o)),l})}static fromClass(e,t){return sr.define((i,n)=>new e(i,n),t)}}class mm{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(ii(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ii(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){ii(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const AC=Ze.define(),gO=Ze.define(),dc=Ze.define(),LC=Ze.define(),OO=Ze.define(),MC=Ze.define();function Pb(r,e){let t=r.state.facet(MC);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(r):s),n=[];return Ct.spans(i,e.from,e.to,{point(){},span(s,a,o,l){let u=s-e.from,d=a-e.from,f=n;for(let p=o.length-1;p>=0;p--,l--){let v=o[p].spec.bidiIsolate,S;if(v==null&&(v=bN(e.text,u,d)),l>0&&f.length&&(S=f[f.length-1]).to==u&&S.direction==v)S.to=d,f=S.inner;else{let x={from:u,to:d,direction:v,inner:[]};f.push(x),f=x.inner}}}}),n}const jC=Ze.define();function vO(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(jC)){let a=s(r);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(i=Math.max(i,a.top)),a.bottom!=null&&(n=Math.max(n,a.bottom)))}return{left:e,right:t,top:i,bottom:n}}const zl=Ze.define();class $i{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new $i(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,a=0,o=0;;n++){let l=n==e.length?null:e[n],u=a-o,d=l?l.fromB:1e9;for(;s<t.length&&t[s]<d;){let f=t[s],p=t[s+1],v=Math.max(o,f),S=Math.min(d,p);if(v<=S&&new $i(v+u,S+u,v,S).addToSet(i),p>d)break;s+=2}if(!l)return i;new $i(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),a=l.toA,o=l.toB}}}class ad{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=pr.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,a,o,l)=>n.push(new $i(s,a,o,l))),this.changedRanges=n}static create(e,t,i){return new ad(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Tb extends It{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=it.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new lr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new $i(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:d})=>d<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!EN(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?wN(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:d}=this.hasComposition;i=new $i(u,d,e.changes.mapPos(u,-1),e.changes.mapPos(d,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ve.ie||Ve.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.updateDeco(),l=PN(a,o,e.changes);return i=$i.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=Ve.chrome||Ve.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||n.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Un&&a.widget instanceof t0&&s.push(a.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let a=n.length-1;;a--){let o=a>=0?n[a]:null;if(!o)break;let{fromA:l,toA:u,fromB:d,toB:f}=o,p,v,S,x;if(i&&i.range.fromB<f&&i.range.toB>d){let P=Jl.build(this.view.state.doc,d,i.range.fromB,this.decorations,this.dynamicDecorationMap),T=Jl.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);v=P.breakAtStart,S=P.openStart,x=T.openEnd;let C=this.compositionView(i);T.breakAtStart?C.breakAfter=1:T.content.length&&C.merge(C.length,C.length,T.content[0],!1,T.openStart,0)&&(C.breakAfter=T.content[0].breakAfter,T.content.shift()),P.content.length&&C.merge(0,0,P.content[P.content.length-1],!0,0,P.openEnd)&&P.content.pop(),p=P.content.concat(C).concat(T.content)}else({content:p,breakAtStart:v,openStart:S,openEnd:x}=Jl.build(this.view.state.doc,d,f,this.decorations,this.dynamicDecorationMap));let{i:m,off:y}=s.findPos(u,1),{i:b,off:_}=s.findPos(l,-1);hC(this,b,_,m,y,p,v,S,x)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is($C)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Vi(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Yn(n,[t],t.length);let i=new lr;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let o=It.get(s);o&&o!=a&&(o.dom=null),a.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&!(this.view.state.facet(Fn)||this.dom.tabIndex>-1)&&ju(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),u=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(Ve.gecko&&o.empty&&!this.hasComposition&&SN(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Nr(f,0),a=!0}let d=this.view.observer.selectionRange;(a||!d.focusNode||(!Kl(l.node,l.offset,d.anchorNode,d.anchorOffset)||!Kl(u.node,u.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,o))&&(this.view.observer.ignore(()=>{Ve.android&&Ve.chrome&&this.dom.contains(d.focusNode)&&TN(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=uc(this.view.root);if(f)if(o.empty){if(Ve.gecko){let p=kN(l.node,l.offset);if(p&&p!=3){let v=(p==1?aC:lC)(l.node,l.offset);v&&(l=new Nr(v.node,v.offset))}}f.collapse(l.node,l.offset),o.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=o.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let p=document.createRange();o.anchor>o.head&&([l,u]=[u,l]),p.setEnd(u.node,u.offset),p.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(p)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Nr(d.anchorNode,d.anchorOffset),this.impreciseHead=u.precise?null:new Nr(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Kl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=uc(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let a=lr.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let d=this.domAtPos(t.head+t.assoc);i.collapse(d.node,d.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=It.get(t.childNodes[n]);s instanceof lr&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=It.get(t.childNodes[n]);s instanceof lr&&(i=s.domAtPos(s.length))}return i?new Nr(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=It.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof lr)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,a=this.children.length-1;a>=0;a--){let o=this.children[a],l=s-o.breakAfter,u=l-o.length;if(l<e)break;if(u<=e&&(u<e||o.covers(-1))&&(l>e||o.covers(1))&&(!i||o instanceof lr&&!(i instanceof lr&&t>=0)))i=o,n=u;else if(i&&u==e&&l==e&&o instanceof Un&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(i=null)}s=u}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof lr))return null;for(;n.children.length;){let{i:o,off:l}=n.childPos(i,1);for(;;o++){if(o==n.children.length)return null;if((n=n.children[o]).length)break}i=l}if(!(n instanceof Vi))return null;let s=Er(n.text,i);if(s==i)return null;let a=xo(n.dom,i,s).getClientRects();for(let o=0;o<a.length;o++){let l=a[o];if(o==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Ut.LTR;for(let u=0,d=0;d<this.children.length;d++){let f=this.children[d],p=u+f.length;if(p>n)break;if(u>=i){let v=f.dom.getBoundingClientRect();if(t.push(v.height),a){let S=f.dom.lastChild,x=S?Sa(S):[];if(x.length){let m=x[x.length-1],y=l?m.right-v.left:v.right-m.left;y>o&&(o=y,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=p)}}}u=p+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ut.RTL:Ut.LTR}measureTextSize(){for(let s of this.children)if(s instanceof lr){let a=s.measureTextSize();if(a)return a}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Sa(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new cC(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],a=s?s.from-1:this.length;if(a>i){let o=(t.lineBlockAt(a).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(it.replace({widget:new t0(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!s)break;i=s.to+1}return it.set(e)}updateDeco(){let e=1,t=this.view.state.facet(dc).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(LC).map((s,a)=>{let o=typeof s=="function";return o&&(i=!0),o?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=i,t.push(Ct.join(n))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(RC))try{if(u(this.view,e.range,e))return!0}catch(d){ii(this.view.state,d,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=vO(this.view),a={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;tN(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Ut.LTR)}}function SN(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function NC(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let i=aC(t.focusNode,t.focusOffset),n=lC(t.focusNode,t.focusOffset),s=i||n;if(n&&i&&n.node!=i.node){let o=It.get(n.node);if(!o||o instanceof Vi&&o.text!=n.node.nodeValue)s=n;else if(r.docView.lastCompositionAfterCursor){let l=It.get(i.node);!l||l instanceof Vi&&l.text!=i.node.nodeValue||(s=n)}}if(r.docView.lastCompositionAfterCursor=s!=i,!s)return null;let a=e-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function wN(r,e,t){let i=NC(r,t);if(!i)return null;let{node:n,from:s,to:a}=i,o=n.nodeValue;if(/[\n\r]/.test(o)||r.state.doc.sliceString(i.from,i.to)!=o)return null;let l=e.invertedDesc,u=new $i(l.mapPos(s),l.mapPos(a),s,a),d=[];for(let f=n.parentNode;;f=f.parentNode){let p=It.get(f);if(p instanceof Yn)d.push({node:f,deco:p.mark});else{if(p instanceof lr||f.nodeName=="DIV"&&f.parentNode==r.contentDOM)return{range:u,text:n,marks:d,line:f};if(f!=r.contentDOM)d.push({node:f,deco:new Lc({inclusive:!0,attributes:uN(f),tagName:f.tagName.toLowerCase()})});else return null}}}function kN(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let CN=class{constructor(){this.changes=[]}compareRange(e,t){Nu(e,t,this.changes)}comparePoint(e,t){Nu(e,t,this.changes)}boundChange(e){Nu(e,e,this.changes)}};function PN(r,e,t){let i=new CN;return Ct.compare(r,e,t,i),i.changes}function TN(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function EN(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function QN(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return ye.cursor(e);s==0?t=1:s==n.length&&(t=-1);let a=s,o=s;t<0?a=Er(n.text,s,!1):o=Er(n.text,s);let l=i(n.text.slice(a,o));for(;a>0;){let u=Er(n.text,a,!1);if(i(n.text.slice(u,a))!=l)break;a=u}for(;o<n.length;){let u=Er(n.text,o);if(i(n.text.slice(o,u))!=l)break;o=u}return ye.range(a+n.from,o+n.from)}function RN(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function $N(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function gm(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Eb(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Qb(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function o0(r,e,t){let i,n,s,a,o=!1,l,u,d,f;for(let S=r.firstChild;S;S=S.nextSibling){let x=Sa(S);for(let m=0;m<x.length;m++){let y=x[m];n&&gm(n,y)&&(y=Eb(Qb(y,n.bottom),n.top));let b=RN(e,y),_=$N(t,y);if(b==0&&_==0)return S.nodeType==3?Rb(S,e,t):o0(S,e,t);(!i||a>_||a==_&&s>b)&&(i=S,n=y,s=b,a=_,o=b?e<y.left?m>0:m<x.length-1:!0),b==0?t>y.bottom&&(!d||d.bottom<y.bottom)?(l=S,d=y):t<y.top&&(!f||f.top>y.top)&&(u=S,f=y):d&&gm(d,y)?d=Qb(d,y.bottom):f&&gm(f,y)&&(f=Eb(f,y.top))}}if(d&&d.bottom>=t?(i=l,n=d):f&&f.top<=t&&(i=u,n=f),!i)return{node:r,offset:0};let p=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return Rb(i,p,t);if(o&&i.contentEditable!="false")return o0(i,p,t);let v=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:v}}function Rb(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,a=0;for(let o=0;o<i;o++){let l=xo(r,o,o+1).getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(d.top==d.bottom)continue;a||(a=e-d.left);let f=(d.top>t?d.top-t:t-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&f<s){let p=e>=(d.left+d.right)/2,v=p;if((Ve.chrome||Ve.gecko)&&xo(r,o).getBoundingClientRect().left==d.right&&(v=!p),f<=0)return{node:r,offset:o+(v?1:0)};n=o+(v?1:0),s=f}}}return{node:r,offset:n>-1?n:a>0?r.nodeValue.length:0}}function DC(r,e,t,i=-1){var n,s;let a=r.contentDOM.getBoundingClientRect(),o=a.top+r.viewState.paddingTop,l,{docHeight:u}=r.viewState,{x:d,y:f}=e,p=f-o;if(p<0)return 0;if(p>u)return r.state.doc.length;for(let P=r.viewState.heightOracle.textHeight/2,T=!1;l=r.elementAtHeight(p),l.type!=Wr.Text;)for(;p=i>0?l.bottom+P:l.top-P,!(p>=0&&p<=u);){if(T)return t?null:0;T=!0,i=-i}f=o+p;let v=l.from;if(v<r.viewport.from)return r.viewport.from==0?0:t?null:$b(r,a,l,d,f);if(v>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:$b(r,a,l,d,f);let S=r.dom.ownerDocument,x=r.root.elementFromPoint?r.root:S,m=x.elementFromPoint(d,f);m&&!r.contentDOM.contains(m)&&(m=null),m||(d=Math.max(a.left+1,Math.min(a.right-1,d)),m=x.elementFromPoint(d,f),m&&!r.contentDOM.contains(m)&&(m=null));let y,b=-1;if(m&&((n=r.docView.nearest(m))===null||n===void 0?void 0:n.isEditable)!=!1){if(S.caretPositionFromPoint){let P=S.caretPositionFromPoint(d,f);P&&({offsetNode:y,offset:b}=P)}else if(S.caretRangeFromPoint){let P=S.caretRangeFromPoint(d,f);P&&({startContainer:y,startOffset:b}=P,(!r.contentDOM.contains(y)||Ve.safari&&AN(y,b,d)||Ve.chrome&&LN(y,b,d))&&(y=void 0))}y&&(b=Math.min(_n(y),b))}if(!y||!r.docView.dom.contains(y)){let P=lr.find(r.docView,v);if(!P)return p>l.top+l.height/2?l.to:l.from;({node:y,offset:b}=o0(P.dom,d,f))}let _=r.docView.nearest(y);if(!_)return null;if(_.isWidget&&((s=_.dom)===null||s===void 0?void 0:s.nodeType)==1){let P=_.dom.getBoundingClientRect();return e.y<P.top||e.y<=P.bottom&&e.x<=(P.left+P.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(y,b)+_.posAtStart}function $b(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let o=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-o)*.5)/o);s+=l*r.viewState.heightOracle.lineLength}let a=r.state.sliceDoc(t.from,t.to);return t.from+Zg(a,s,r.state.tabSize)}function AN(r,e,t){let i,n=r;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(;;){let s=n.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let a=n.parentNode;if(!a||a.nodeName=="DIV")break;n=a}}return xo(r,i-1,i).getBoundingClientRect().right>t}function LN(r,e,t){if(e!=0)return!1;for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():xo(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function a0(r,e,t){let i=r.lineBlockAt(e);if(Array.isArray(i.type)){let n;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!n||s.type==Wr.Text&&(n.type!=s.type||(t<0?s.from<e:s.to>e)))&&(n=s)}}return n||i}return i}function MN(r,e,t,i){let n=a0(r,e.head,e.assoc||-1),s=!i||n.type!=Wr.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let a=r.dom.getBoundingClientRect(),o=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(o==Ut.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(l!=null)return ye.cursor(l,t?-1:1)}return ye.cursor(t?n.to:n.from,t?-1:1)}function Ab(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),a=r.textDirectionAt(n.from);for(let o=e,l=null;;){let u=yN(n,s,a,o,t),d=_C;if(!u){if(n.number==(t?r.state.doc.lines:1))return o;d=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),u=r.visualLineSide(n,!t)}if(l){if(!l(d))return o}else{if(!i)return u;l=i(d)}o=u}}function jN(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let a=i(s);return n==Yt.Space&&(n=a),n==a}}function NN(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return ye.cursor(n,e.assoc);let a=e.goalColumn,o,l=r.contentDOM.getBoundingClientRect(),u=r.coordsAtPos(n,e.assoc||-1),d=r.documentTop;if(u)a==null&&(a=u.left-l.left),o=s<0?u.top:u.bottom;else{let v=r.viewState.lineBlockAt(n);a==null&&(a=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-v.from))),o=(s<0?v.top:v.bottom)+d}let f=l.left+a,p=i??r.viewState.heightOracle.textHeight>>1;for(let v=0;;v+=10){let S=o+(p+v)*s,x=DC(r,{x:f,y:S},!1,s);if(S<l.top||S>l.bottom||(s<0?x<n:x>n)){let m=r.docView.coordsForChar(x),y=!m||S<m.top?-1:1;return ye.cursor(x,y,void 0,a)}}}function Du(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,a,o)=>{if(e>s&&e<a){let l=i||t||(e-s<a-e?-1:1);e=l<0?s:a,i=l}});if(!i)return e}}function Om(r,e,t){let i=Du(r.state.facet(OO).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:ye.cursor(i,i<t.from?1:-1)}const ql="";class DN{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(yt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ql}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let a=n.nextSibling;if(a==t)break;let o=It.get(n),l=It.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:sd(n))||sd(a)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=a}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),a=this.lineSeparator.length):(o=n.exec(t))&&(s=o.index,a=o[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);i=s+a}}readNode(e){if(e.cmIgnore)return;let t=It.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(IN(e,i.node,i.offset)?t:0))}}function IN(r,e,t){for(;;){if(!e||t<_n(e))return!1;if(e==r)return!0;t=vo(e)+1,e=e.parentNode}}class Lb{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class BN{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=s||a?[]:XN(e),l=new DN(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=WN(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!Hg(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),u=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Hg(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((Ve.ios||Ve.chrome)&&e.state.selection.main.empty&&l!=u&&(d.from>0||d.to<e.state.doc.length)){let f=Math.min(l,u),p=Math.max(l,u),v=d.from-f,S=d.to-p;(v==0||v==1||f==0)&&(S==0||S==-1||p==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=ye.single(u,l)}}}function IC(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=n.from,u=null;(s===8||Ve.android&&e.text.length<o-a)&&(l=n.to,u="end");let d=qN(r.state.doc.sliceString(a,o,ql),e.text,l-a,u);d&&(Ve.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==ql+ql&&d.toB--,t={from:a+d.from,to:a+d.toA,insert:wt.of(e.text.slice(d.from,d.toB).split(ql))})}else i&&(!r.hasFocus&&r.state.facet(Fn)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:(Ve.mac||Ve.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=ye.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:wt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:Ve.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=ye.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:wt.of([" "])}),t)return xO(r,t,i,s);if(i&&!i.main.eq(n)){let a=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(a=!0),o=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:a,userEvent:o}),!0}else return!1}function xO(r,e,t,i=-1){if(Ve.ios&&r.inputState.flushIOSKey(e))return!0;let n=r.state.selection.main;if(Ve.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&r.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&pa(r.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&pa(r.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&pa(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let a,o=()=>a||(a=zN(r,e,t));return r.state.facet(PC).some(l=>l(r,e.from,e.to,s,o))||r.dispatch(o()),!0}function zN(r,e,t){let i,n=r.state,s=n.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let o=s.from<e.from?n.sliceDoc(s.from,e.from):"",l=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(o+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let o=n.changes(e),l=t&&t.main.to<=o.newLength?t.main:void 0;if(n.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=r.state.sliceDoc(e.from,e.to),d,f=t&&NC(r,t.main.head);if(f){let S=e.insert.length-(e.to-e.from);d={from:f.from,to:f.to-S}}else d=r.state.doc.lineAt(s.head);let p=s.to-e.to,v=s.to-s.from;i=n.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:o,range:l||S.map(o)};let x=S.to-p,m=x-u.length;if(S.to-S.from!=v||r.state.sliceDoc(m,x)!=u||S.to>=d.from&&S.from<=d.to)return{range:S};let y=n.changes({from:m,to:x,insert:e.insert}),b=S.to-s.to;return{changes:y,range:l?ye.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):S.map(y)}})}else i={changes:o,selection:l&&n.selection.replaceRange(l)}}let a="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,a+=".compose",r.inputState.compositionFirstChange&&(a+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:a,scrollIntoView:!0})}function qN(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let a=r.length,o=e.length;for(;a>0&&o>0&&r.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(i=="end"){let l=Math.max(0,s-Math.min(a,o));t-=a+l-s}if(a<s&&r.length<e.length){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function XN(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new Lb(t,i)),(n!=t||s!=i)&&e.push(new Lb(n,s))),e}function WN(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?ye.single(t+e,i+e):null}class FN{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ve.safari&&e.contentDOM.addEventListener("input",()=>null),Ve.gecko&&aD(e.contentDOM.ownerDocument)}handleEvent(e){!JN(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ZN(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let a=!t[s].handlers.length,o=i[s];o&&a!=!o.handlers.length&&(n.removeEventListener(s,this.handleEvent),o=null),o||n.addEventListener(s,this.handleEvent,{passive:a})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&zC.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ve.android&&Ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=BC.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||VN.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,pa(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ve.safari&&!Ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Mb(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){ii(t.state,n)}}}function ZN(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec,s=n&&n.plugin.domEventHandlers,a=n&&n.plugin.domEventObservers;if(s)for(let o in s){let l=s[o];l&&t(o).handlers.push(Mb(i.value,l))}if(a)for(let o in a){let l=a[o];l&&t(o).observers.push(Mb(i.value,l))}}for(let i in Ui)t(i).handlers.push(Ui[i]);for(let i in Ai)t(i).observers.push(Ai[i]);return e}const BC=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],VN="dthko",zC=[16,17,18,20,91,92,224,225],uu=6;function du(r){return Math.max(0,r)*.7+8}function UN(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class HN{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=rN(e.contentDOM),this.atoms=e.state.facet(OO).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(yt.allowMultipleSelections)&&YN(e,t),this.dragging=KN(e,t)&&WC(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&UN(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,n=0,s=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=vO(this.view);e.clientX-l.left<=n+uu?t=-du(n-e.clientX):e.clientX+l.right>=a-uu&&(t=du(e.clientX-a)),e.clientY-l.top<=s+uu?i=-du(s-e.clientY):e.clientY+l.bottom>=o-uu&&(i=du(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let a=Du(this.atoms,n.from,0);a!=n.from&&(s=ye.cursor(a,-1))}else{let a=Du(this.atoms,n.from,-1),o=Du(this.atoms,n.to,1);(a!=n.from||o!=n.to)&&(s=ye.range(n.from==n.anchor?a:o,n.from==n.head?a:o))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?ye.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function YN(r,e){let t=r.state.facet(SC);return t.length?t[0](e):Ve.mac?e.metaKey:e.ctrlKey}function GN(r,e){let t=r.state.facet(wC);return t.length?t[0](e):Ve.mac?!e.altKey:!e.ctrlKey}function KN(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=uc(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let a=n[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function JN(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=It.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ui=Object.create(null),Ai=Object.create(null),qC=Ve.ie&&Ve.ie_version<15||Ve.ios&&Ve.webkit_version<604;function eD(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),XC(r,t.value)},50)}function zd(r,e,t){for(let i of r.facet(e))t=i(t,r);return t}function XC(r,e){e=zd(r.state,pO,e);let{state:t}=r,i,n=1,s=t.toText(e),a=s.lines==t.selection.ranges.length;if(l0!=null&&t.selection.ranges.every(l=>l.empty)&&l0==s.toString()){let l=-1;i=t.changeByRange(u=>{let d=t.doc.lineAt(u.from);if(d.from==l)return{range:u};l=d.from;let f=t.toText((a?s.line(n++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:f},range:ye.cursor(u.from+f.length)}})}else a?i=t.changeByRange(l=>{let u=s.line(n++);return{changes:{from:l.from,to:l.to,insert:u.text},range:ye.cursor(l.from+u.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ai.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Ui.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Ai.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Ai.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Ui.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(kC))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=iD(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new HN(r,e,t,i)),i&&r.observer.ignore(()=>{nC(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}return!1};function jb(r,e,t,i){if(i==1)return ye.cursor(e,t);if(i==2)return QN(r.state,e,t);{let n=lr.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),a=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,ye.range(a,o)}}let Nb=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function tD(r,e,t,i){let n=lr.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let a=n.coordsAt(s,-1);if(a&&Nb(t,i,a))return-1;let o=n.coordsAt(s,1);return o&&Nb(t,i,o)?1:a&&a.bottom>=i?-1:1}function Db(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:tD(r,t,e.clientX,e.clientY)}}const rD=Ve.ie&&Ve.ie_version<=11;let Ib=null,Bb=0,zb=0;function WC(r){if(!rD)return r.detail;let e=Ib,t=zb;return Ib=r,zb=Date.now(),Bb=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(Bb+1)%3:1}function iD(r,e){let t=Db(r,e),i=WC(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,a,o){let l=Db(r,s),u,d=jb(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!a){let f=jb(r,t.pos,t.bias,i),p=Math.min(f.from,d.from),v=Math.max(f.to,d.to);d=p<d.from?ye.range(p,v):ye.range(v,p)}return a?n.replaceRange(n.main.extend(d.from,d.to)):o&&i==1&&n.ranges.length>1&&(u=nD(n,l.pos))?u:o?n.addRange(d):ye.create([d])}}}function nD(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return ye.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Ui.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let n=r.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,a=s+n.length;(s>=t.to||a<=t.from)&&(t=ye.range(s,a))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",zd(r.state,mO,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ui.dragend=r=>(r.inputState.draggedContent=null,!1);function qb(r,e,t,i){if(t=zd(r.state,pO,t),!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,a=i&&s&&GN(r,e)?{from:s.from,to:s.to}:null,o={from:n,insert:t},l=r.state.changes(a?[a,o]:o);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:a?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Ui.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&qb(r,e,i.filter(a=>a!=null).join(r.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[a]=o.result),s()},o.readAsText(t[a])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return qb(r,e,i,!0),!0}return!1};Ui.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=qC?null:e.clipboardData;return t?(XC(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(eD(r),!1)};function sD(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function oD(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let a=r.doc.lineAt(s);a.number>n&&(e.push(a.text),t.push({from:a.from,to:Math.min(r.doc.length,a.to+1)})),n=a.number}i=!0}return{text:zd(r,mO,e.join(r.lineBreak)),ranges:t,linewise:i}}let l0=null;Ui.copy=Ui.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=oD(r.state);if(!t&&!n)return!1;l0=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=qC?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(sD(r,t),!1)};const FC=Sn.define();function ZC(r,e){let t=[];for(let i of r.facet(TC)){let n=i(r,e);n&&t.push(n)}return t.length?r.update({effects:t,annotations:FC.of(!0)}):null}function VC(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=ZC(r.state,e);t?r.dispatch(t):r.update([])}},10)}Ai.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),VC(r)};Ai.blur=r=>{r.observer.clearSelectionRange(),VC(r)};Ai.compositionstart=Ai.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Ai.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Ve.chrome&&Ve.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Ai.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Ui.beforeinput=(r,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(s&&a.length){let o=a[0],l=r.posAtDOM(o.startContainer,o.startOffset),u=r.posAtDOM(o.endContainer,o.endOffset);return xO(r,{from:l,to:u,insert:r.state.toText(s)},null),!0}}let n;if(Ve.chrome&&Ve.android&&(n=BC.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Ve.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Ve.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Ai.compositionend(r,e),20),!1};const Xb=new Set;function aD(r){Xb.has(r)||(Xb.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const Wb=["pre-wrap","normal","pre-line","break-spaces"];let Ca=!1;function Fb(){Ca=!1}class lD{constructor(e){this.lineWrapping=e,this.doc=wt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Wb.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,a){let o=Wb.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<a.length;u++){let d=a[u];d<0?u++:this.heightSamples[Math.floor(d*10)]=!0}}return l}}class cD{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class pn{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?Wr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ls?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new pn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Vt=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(Vt||(Vt={}));const Iu=.001;class Fr{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Iu&&(Ca=!0),this.height=e)}replace(e,t,i){return Fr.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,a=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:l,toA:u,fromB:d,toB:f}=n[o],p=s.lineAt(l,Vt.ByPosNoHeight,i.setDoc(t),0,0),v=p.to>=u?p:s.lineAt(u,Vt.ByPosNoHeight,i,0,0);for(f+=v.to-u,u=v.to;o>0&&p.from<=n[o-1].toA;)l=n[o-1].fromA,d=n[o-1].fromB,o--,l<p.from&&(p=s.lineAt(l,Vt.ByPosNoHeight,i,0,0));d+=p.from-l,l=p.from;let S=yO.build(i.setDoc(a),e,d,f);s=ld(s,s.replace(l,u,S))}return s.updateHeight(i,0)}static empty(){return new gi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=e[t++];o&&(n+=o.size)}else{let o=e[--i];o&&(s+=o.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,i++),new hD(Fr.of(e.slice(0,t)),a,Fr.of(e.slice(i)))}}function ld(r,e){return r==e?r:(r.constructor!=e.constructor&&(Ca=!0),e)}Fr.prototype.size=1;class UC extends Fr{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new pn(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class gi extends UC{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new pn(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof gi||n instanceof Cr&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Cr?n=new gi(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Fr.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Cr extends Fr{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);a=l/s,this.length>s+1&&(o=(this.height-l)/(this.length-s-1))}else a=this.height/s;return{firstLine:i,lastLine:n,perLine:a,perChar:o}}blockAt(e,t,i,n){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let u=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),d=t.doc.lineAt(u),f=o+d.length*l,p=Math.max(i,e-f/2);return new pn(d.from,d.length,p,f,0)}else{let u=Math.max(0,Math.min(a-s,Math.floor((e-i)/o))),{from:d,length:f}=t.doc.line(s+u);return new pn(d,f,i+o*u,o,0)}}lineAt(e,t,i,n,s){if(t==Vt.ByHeight)return this.blockAt(e,i,n,s);if(t==Vt.ByPosNoHeight){let{from:v,to:S}=i.doc.lineAt(e);return new pn(v,S-v,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(i,s),u=i.doc.lineAt(e),d=o+u.length*l,f=u.number-a,p=n+o*f+l*(u.from-s-f);return new pn(u.from,u.length,Math.max(n,Math.min(p,n+this.height-d)),d,0)}forEachLine(e,t,i,n,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(i,s);for(let d=e,f=n;d<=t;){let p=i.doc.lineAt(d);if(d==e){let S=p.number-o;f+=l*S+u*(e-s-S)}let v=l+u*p.length;a(new pn(p.from,p.length,f,v,0)),f+=v,d=p.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof Cr?i[i.length-1]=new Cr(s.length+n):i.push(null,new Cr(n-1))}if(e>0){let s=i[0];s instanceof Cr?i[0]=new Cr(e+s.length):i.unshift(new Cr(e-1),null)}return Fr.of(i)}decomposeLeft(e,t){t.push(new Cr(e-1),null)}decomposeRight(e,t){t.push(null,new Cr(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let a=[],o=Math.max(t,n.from),l=-1;for(n.from>t&&a.push(new Cr(n.from-t-1).updateHeight(e,t));o<=s&&n.more;){let d=e.doc.lineAt(o).length;a.length&&a.push(null);let f=n.heights[n.index++];l==-1?l=f:Math.abs(f-l)>=Iu&&(l=-2);let p=new gi(d,f);p.outdated=!1,a.push(p),o+=d+1}o<=s&&a.push(null,new Cr(s-o).updateHeight(e,o));let u=Fr.of(a);return(l<0||Math.abs(u.height-this.height)>=Iu||Math.abs(l-this.heightMetrics(e,t).perLine)>=Iu)&&(Ca=!0),ld(this,u)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class hD extends Fr{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let a=n+this.left.height,o=s+this.left.length+this.break,l=t==Vt.ByHeight?e<a:e<o,u=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,a,o);if(this.break||(l?u.to<o:u.from>o))return u;let d=t==Vt.ByPosNoHeight?Vt.ByPosNoHeight:Vt.ByPos;return l?u.join(this.right.lineAt(o,d,i,a,o)):this.left.lineAt(o,d,i,n,s).join(u)}forEachLine(e,t,i,n,s,a){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,a),t>=l&&this.right.forEachLine(e,t,i,o,l,a);else{let u=this.lineAt(l,Vt.ByPos,i,n,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,n,s,a),u.to>=e&&u.from<=t&&a(u),t>u.to&&this.right.forEachLine(u.to+1,t,i,o,l,a)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of i)s.push(o);if(e>0&&Zb(s,a-1),t<this.length){let o=s.length;this.decomposeRight(t,s),Zb(s,o)}return Fr.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Fr.of(this.break?[e,null,t]:[e,t]):(this.left=ld(this.left,e),this.right=ld(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:a}=this,o=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=o+a.length&&n.more?l=a=a.updateHeight(e,o,i,n):a.updateHeight(e,o,i),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Zb(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof Cr&&(i=r[e+1])instanceof Cr&&r.splice(e-1,3,new Cr(t.length+1+i.length))}const uD=5;class yO{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof gi?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new gi(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let a=t-e;i.block?this.addBlock(new UC(a,n,i)):(a||s||n>=uD)&&this.addLineDeco(n,s,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new gi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Cr(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof gi)return e;let t=new gi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof gi)&&!this.isCovered?this.nodes.push(new gi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof gi&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new yO(i,e);return Ct.spans(t,i,n,s,0),s.finish(i)}}function dD(r,e,t){let i=new fD;return Ct.compare(r,e,t,i,0),i.changes}class fD{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&Nu(e,t,this.changes,5)}}function pD(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),a=Math.min(n.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let u=r.parentNode;u&&u!=i.body;)if(u.nodeType==1){let d=u,f=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&f.overflow!="visible"){let p=d.getBoundingClientRect();s=Math.max(s,p.left),a=Math.min(a,p.right),o=Math.max(o,p.top),l=Math.min(u==r.parentNode?n.innerHeight:l,p.bottom)}u=f.position=="absolute"||f.position=="fixed"?d.offsetParent:d.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,a)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function mD(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function gD(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class vm{constructor(e,t,i,n){this.from=e,this.to=t,this.size=i,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return it.replace({widget:new OD(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class OD extends kn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Vb{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ub,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ut.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(gO).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new lD(t),this.stateDeco=e.facet(dc).filter(i=>typeof i!="function"),this.heightMap=Fr.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle.setDoc(e.doc),[new $i(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=it.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:a})=>n>=s&&n<=a)){let{from:s,to:a}=this.lineBlockAt(n);e.push(new fu(s,a))}}return this.viewports=e.sort((i,n)=>i.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Ub:new bO(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Xl(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(dc).filter(d=>typeof d!="function");let n=e.changedRanges,s=$i.extendWithRanges(n,dD(i,this.stateDeco,e?e.changes:pr.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Fb(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||Ca)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(QC)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Ut.RTL:Ut.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=t.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,d=0;if(o.width&&o.height){let{scaleX:P,scaleY:T}=iC(t,o);(P>.005&&Math.abs(this.scaleX-P)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=P,this.scaleY=T,u|=16,a=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,p=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=p)&&(this.paddingTop=f,this.paddingBottom=p,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=oC(e.scrollDOM);let S=(this.printing?gD:pD)(t,this.paddingTop),x=S.top-this.pixelViewport.top,m=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget&&!mD(e.dom))return 0;let b=o.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let P=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(P)&&(a=!0),a||n.lineWrapping&&Math.abs(b-this.contentDOMWidth)>n.charWidth){let{lineHeight:T,charWidth:C,textHeight:R}=e.docView.measureTextSize();a=T>0&&n.refresh(s,T,C,R,b/C,P),a&&(e.docView.minWidth=0,u|=16)}x>0&&m>0?d=Math.max(x,m):x<0&&m<0&&(d=Math.min(x,m)),Fb();for(let T of this.viewports){let C=T.from==this.viewport.from?P:e.docView.measureVisibleLineHeights(T);this.heightMap=(a?Fr.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle,[new $i(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,a,new cD(T.from,C))}Ca&&(u|=2)}let _=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(u&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new fu(n.lineAt(a-i*1e3,Vt.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,Vt.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=n.lineAt(u,Vt.ByPos,s,0,0),p;t.y=="center"?p=(f.top+f.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&u<l.from?p=f.top:p=f.bottom-d,l=new fu(n.lineAt(p-1e3/2,Vt.ByHeight,s,0,0).from,n.lineAt(p+d+1e3/2,Vt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new fu(this.heightMap.lineAt(i,Vt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Vt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Vt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Vt.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||n<=a-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new vm(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,a=n<<1;if(this.defaultTextDirection!=Ut.LTR&&!i)return[];let o=[],l=(d,f,p,v)=>{if(f-d<s)return;let S=this.state.selection.main,x=[S.from];S.empty||x.push(S.to);for(let y of x)if(y>d&&y<f){l(d,y-10,p,v),l(y+10,f,p,v);return}let m=xD(e,y=>y.from>=p.from&&y.to<=p.to&&Math.abs(y.from-d)<s&&Math.abs(y.to-f)<s&&!x.some(b=>y.from<b&&y.to>b));if(!m){if(f<p.to&&t&&i&&t.visibleRanges.some(_=>_.from<=f&&_.to>=f)){let _=t.moveToLineBoundary(ye.cursor(f),!1,!0).head;_>d&&(f=_)}let y=this.gapSize(p,d,f,v),b=i||y<2e6?y:2e6;m=new vm(d,f,y,b)}o.push(m)},u=d=>{if(d.length<a||d.type!=Wr.Text)return;let f=vD(d.from,d.to,this.stateDeco);if(f.total<a)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,v,S;if(i){let x=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,y;if(p!=null){let b=mu(f,p),_=((this.visibleBottom-this.visibleTop)/2+x)/d.height;m=b-_,y=b+_}else m=(this.visibleTop-d.top-x)/d.height,y=(this.visibleBottom-d.top+x)/d.height;v=pu(f,m),S=pu(f,y)}else{let x=f.total*this.heightOracle.charWidth,m=n*this.heightOracle.charWidth,y=0;if(x>2e6)for(let C of e)C.from>=d.from&&C.from<d.to&&C.size!=C.displaySize&&C.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=C.size-C.displaySize);let b=this.pixelViewport.left+y,_=this.pixelViewport.right+y,P,T;if(p!=null){let C=mu(f,p),R=((_-b)/2+m)/x;P=C-R,T=C+R}else P=(b-m)/x,T=(_+m)/x;v=pu(f,P),S=pu(f,T)}v>d.from&&l(d.from,v,d,f),S<d.to&&l(S,d.to,d,f)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(u):u(d);return o}gapSize(e,t,i,n){let s=mu(n,i)-mu(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){vm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=it.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Ct.spans(t,this.viewport.from,this.viewport.to,{span(s,a){i.push({from:s,to:a})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let s=0;s<i.length&&!(n&8);s++){let a=this.visibleRanges[s],o=i[s];(a.from!=o.from||a.to!=o.to)&&(n|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Xl(this.heightMap.lineAt(e,Vt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Xl(this.heightMap.lineAt(this.scaler.fromDOM(e),Vt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Xl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class fu{constructor(e,t){this.from=e,this.to=t}}function vD(r,e,t){let i=[],n=r,s=0;return Ct.spans(t,r,e,{span(){},point(a,o){a>n&&(i.push({from:n,to:a}),s+=a-n),n=o}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function pu({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:a}=e[n],o=a-s;if(i<=o)return s+i;i-=o}}function mu(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function xD(r,e){for(let t of r)if(e(t))return t}const Ub={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class bO{constructor(e,t,i){let n=0,s=0,a=0;this.viewports=i.map(({from:o,to:l})=>{let u=t.lineAt(o,Vt.ByPos,e,0,0).top,d=t.lineAt(l,Vt.ByPos,e,0,0).bottom;return n+=d-u,{from:o,to:l,top:u,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}eq(e){return e instanceof bO?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Xl(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new pn(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>Xl(n,e)):r._content)}const gu=Ze.define({combine:r=>r.join(" ")}),c0=Ze.define({combine:r=>r.indexOf(!0)>-1}),h0=$s.newName(),HC=$s.newName(),YC=$s.newName(),GC={"&light":"."+HC,"&dark":"."+YC};function u0(r,e,t){return new $s(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const yD=u0("."+h0,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},GC),bD={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},xm=Ve.ie&&Ve.ie_version<=11;class _D{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new iN,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Ve.ie&&Ve.ie_version<=11||Ve.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ve.chrome&&Ve.chrome_version<126)&&(this.editContext=new wD(e),e.state.facet(Fn)&&(e.contentDOM.editContext=this.editContext.editContext)),xm&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Fn)?i.root.activeElement!=this.dom:!ju(this.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ve.ie&&Ve.ie_version<=11||Ve.android&&Ve.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Kl(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=uc(e.root);if(!t)return!1;let i=Ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&SD(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let n=ju(this.dom,i);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&sN(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,bD),xm&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),xm&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&pa(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(n=!0),t==-1?{from:t,to:i}=a:(t=Math.min(a.from,t),i=Math.max(a.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&ju(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new BN(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=IC(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Hb(t,e.previousSibling||e.target.previousSibling,-1),n=Hb(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Fn)!=e.state.facet(Fn)&&(e.view.contentDOM.editContext=e.state.facet(Fn)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Hb(r,e,t){for(;e;){let i=It.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function Yb(r,e){let t=e.startContainer,i=e.startOffset,n=e.endContainer,s=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return Kl(a.node,a.offset,n,s)&&([t,i,n,s]=[n,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}}function SD(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return Yb(r,n)}let t=null;function i(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),t?Yb(r,t):null}class wD{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let n=e.state.selection.main,{anchor:s,head:a}=n,o=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let u={from:o,to:l,insert:wt.of(i.text.split(`
`))};if(u.from==this.from&&s<this.from?u.from=s:u.to==this.to&&s>this.to&&(u.to=s),u.from==u.to&&!u.insert.length){let d=ye.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));d.main.eq(n)||e.dispatch({selection:d,userEvent:"select"});return}if((Ve.mac||Ve.android)&&u.from==a-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:o,to:l,insert:wt.of([i.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let d=this.to-this.from+(u.to-u.from+u.insert.length);xO(e,u,ye.single(this.toEditorPos(i.selectionStart,d),this.toEditorPos(i.selectionEnd,d)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let n=[],s=null;for(let a=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);a<o;a++){let l=e.coordsForChar(a);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,n.push(s)}t.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=i=>{let n=[];for(let s of i.getTextFormats()){let a=s.underlineStyle,o=s.underlineThickness;if(a!="None"&&o!="None"){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let d=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${o=="Thin"?1:2}px`;n.push(it.mark({attributes:{style:d}}).range(l,u))}}}e.dispatch({effects:$C.of(it.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let n=uc(i.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,n=this.pendingContextChange;return e.changes.iterChanges((s,a,o,l,u)=>{if(i)return;let d=u.length-(a-s);if(n&&a>=n.to)if(n.from==s&&n.to==a&&n.insert.eq(u)){n=this.pendingContextChange=null,t+=d,this.to+=d;return}else n=null,this.revertPending(e.state);if(s+=t,a+=t,a<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+u.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),u.toString()),this.to+=d}t+=d}),n&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(i,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class De{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(n=>n.forEach(s=>i(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||nN(e.parent)||document,this.viewState=new Vb(e.state||yt.create(e)),e.scrollTo&&e.scrollTo.is(hu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(oa).map(n=>new mm(n));for(let n of this.plugins)n.update(this);this.observer=new _D(this),this.inputState=new FN(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Tb(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof cr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let p of e){if(p.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=p.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;e.some(p=>p.annotation(FC))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=ZC(s,a),l||(o=1));let u=this.observer.delayedAndroidKey,d=null;if(u?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(yt.phrases)!=this.state.facet(yt.phrases))return this.setState(s);n=ad.create(this,s,e),n.flags|=o;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(f&&(f=f.map(p.changes)),p.scrollIntoView){let{main:v}=p.state.selection;f=new ma(v.empty?v:ye.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of p.effects)v.is(hu)&&(f=v.value.clip(this.state))}this.viewState.update(n,f),this.bidiCache=cd.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(zl)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(gu)!=n.state.facet(gu)&&(this.viewState.mustMeasureContent=!0),(t||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let p of this.state.facet(s0))try{p(n)}catch(v){ii(this.state,v,"update listener")}(l||d)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),d&&!IC(this,d)&&u.force&&pa(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Vb(e),this.plugins=e.facet(oa).map(i=>new mm(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Tb(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(oa),i=e.state.facet(oa);if(t!=i){let n=[];for(let s of i){let a=t.indexOf(s);if(a<0)n.push(new mm(s));else{let o=this.plugins[a];o.mustUpdate=e,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){ii(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(oC(i))s=-1,a=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(n);s=v.from,a=v.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(v=>{try{return v.read(this)}catch(S){return ii(this.state,S),Gb}}),f=ad.create(this,this.state,[]),p=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),p=this.docView.update(f),p&&this.docViewUpdate());for(let v=0;v<u.length;v++)if(d[v]!=Gb)try{let S=u[v];S.write&&S.write(d[v],this)}catch(S){ii(this.state,S)}if(p&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(S>1||S<-1){n=n+S,i.scrollTop=n/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(s0))o(t)}get themeClasses(){return h0+" "+(this.state.facet(c0)?YC:HC)+" "+this.state.facet(gu)}updateAttrs(){let e=Kb(this,AC,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Fn)?"true":"false",class:"cm-content",style:`${Ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Kb(this,gO,t);let i=this.observer.ignore(()=>{let n=e0(this.contentDOM,this.contentAttrs,t),s=e0(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(De.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(zl);let e=this.state.facet(De.cspNonce);$s.mount(this.root,this.styleModules.concat(yD).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Om(this,e,Ab(this,e,t,i))}moveByGroup(e,t){return Om(this,e,Ab(this,e,t,i=>jN(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return ye.cursor(s.side(t,n)+e.from,s.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,i=!0){return MN(this,e,t,i)}moveVertically(e,t,i){return Om(this,e,NN(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),DC(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),a=s[Qs.find(s,e-n.from,-1,t)];return Ac(i,a.dir==Ut.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(EC)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kD)return bC(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||yC(s.isolates,i=Pb(this,e))))return s.order;i||(i=Pb(this,e));let n=xN(e.text,t,i);return this.bidiCache.push(new cd(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{nC(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return hu.of(new ma(typeof e=="number"?ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return hu.of(new ma(ye.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return sr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return sr.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=$s.newName(),n=[gu.of(i),zl.of(u0(`.${i}`,e))];return t&&t.dark&&n.push(c0.of(!0)),n}static baseTheme(e){return Kn.lowest(zl.of(u0("."+h0,e,GC)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&It.get(i)||It.get(e);return((t=n?.rootView)===null||t===void 0?void 0:t.view)||null}}De.styleModule=zl;De.inputHandler=PC;De.clipboardInputFilter=pO;De.clipboardOutputFilter=mO;De.scrollHandler=RC;De.focusChangeEffect=TC;De.perLineTextDirection=EC;De.exceptionSink=CC;De.updateListener=s0;De.editable=Fn;De.mouseSelectionStyle=kC;De.dragMovesSelection=wC;De.clickAddsSelectionRange=SC;De.decorations=dc;De.outerDecorations=LC;De.atomicRanges=OO;De.bidiIsolatedRanges=MC;De.scrollMargins=jC;De.darkTheme=c0;De.cspNonce=Ze.define({combine:r=>r.length?r[0]:""});De.contentAttributes=gO;De.editorAttributes=AC;De.lineWrapping=De.contentAttributes.of({class:"cm-lineWrapping"});De.announce=ft.define();const kD=4096,Gb={};class cd{constructor(e,t,i,n,s,a){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=a}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:Ut.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==n&&!t.touchesRange(a.from,a.to)&&i.push(new cd(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return i}}function Kb(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],a=typeof s=="function"?s(r):s;a&&Jg(a,t)}return t}const CD=Ve.mac?"mac":Ve.windows?"win":Ve.linux?"linux":"key";function PD(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,a,o;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function Ou(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const TD=Kn.default(De.domEventHandlers({keydown(r,e){return JC(KC(e.state),r,e,"editor")}})),Ia=Ze.define({enables:TD}),Jb=new WeakMap;function KC(r){let e=r.facet(Ia),t=Jb.get(e);return t||Jb.set(e,t=RD(e.reduce((i,n)=>i.concat(n),[]))),t}function ED(r,e,t){return JC(KC(r.state),e,r,t)}let ks=null;const QD=4e3;function RD(r,e=CD){let t=Object.create(null),i=Object.create(null),n=(a,o)=>{let l=i[a];if(l==null)i[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,u,d)=>{var f,p;let v=t[a]||(t[a]=Object.create(null)),S=o.split(/ (?!$)/).map(y=>PD(y,e));for(let y=1;y<S.length;y++){let b=S.slice(0,y).join(" ");n(b,!0),v[b]||(v[b]={preventDefault:!0,stopPropagation:!1,run:[_=>{let P=ks={view:_,prefix:b,scope:a};return setTimeout(()=>{ks==P&&(ks=null)},QD),!0}]})}let x=S.join(" ");n(x,!1);let m=v[x]||(v[x]={preventDefault:!1,stopPropagation:!1,run:((p=(f=v._any)===null||f===void 0?void 0:f.run)===null||p===void 0?void 0:p.slice())||[]});l&&m.run.push(l),u&&(m.preventDefault=!0),d&&(m.stopPropagation=!0)};for(let a of r){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of o){let d=t[u]||(t[u]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=a;for(let p in d)d[p].run.push(v=>f(v,d0))}let l=a[e]||a.key;if(l)for(let u of o)s(u,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(u,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return t}let d0=null;function JC(r,e,t,i){d0=e;let n=Jj(e),s=ei(n,0),a=fn(s)==n.length&&n!=" ",o="",l=!1,u=!1,d=!1;ks&&ks.view==t&&ks.scope==i&&(o=ks.prefix+" ",zC.indexOf(e.keyCode)<0&&(u=!0,ks=null));let f=new Set,p=m=>{if(m){for(let y of m.run)if(!f.has(y)&&(f.add(y),y(t)))return m.stopPropagation&&(d=!0),!0;m.preventDefault&&(m.stopPropagation&&(d=!0),u=!0)}return!1},v=r[i],S,x;return v&&(p(v[o+Ou(n,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ve.windows&&e.ctrlKey&&e.altKey)&&(S=As[e.keyCode])&&S!=n?(p(v[o+Ou(S,e,!0)])||e.shiftKey&&(x=hc[e.keyCode])!=n&&x!=S&&p(v[o+Ou(x,e,!1)]))&&(l=!0):a&&e.shiftKey&&p(v[o+Ou(n,e,!0)])&&(l=!0),!l&&p(v._any)&&(l=!0)),u&&(l=!0),l&&d&&e.stopPropagation(),d0=null,l}class jc{constructor(e,t,i,n,s){this.className=e,this.left=t,this.top=i,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let n=e.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let s=e2(e);return[new jc(t,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return $D(e,t,i)}}function e2(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Ut.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function e_(r,e,t,i){let n=r.coordsAtPos(e,t*2);if(!n)return i;let s=r.dom.getBoundingClientRect(),a=(n.top+n.bottom)/2,o=r.posAtCoords({x:s.left+1,y:a}),l=r.posAtCoords({x:s.right-1,y:a});return o==null||l==null?i:{from:Math.max(i.from,Math.min(o,l)),to:Math.min(i.to,Math.max(o,l))}}function $D(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let i=Math.max(t.from,r.viewport.from),n=Math.min(t.to,r.viewport.to),s=r.textDirection==Ut.LTR,a=r.contentDOM,o=a.getBoundingClientRect(),l=e2(r),u=a.querySelector(".cm-line"),d=u&&window.getComputedStyle(u),f=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),p=o.right-(d?parseInt(d.paddingRight):0),v=a0(r,i,1),S=a0(r,n,-1),x=v.type==Wr.Text?v:null,m=S.type==Wr.Text?S:null;if(x&&(r.lineWrapping||v.widgetLineBreaks)&&(x=e_(r,i,1,x)),m&&(r.lineWrapping||S.widgetLineBreaks)&&(m=e_(r,n,-1,m)),x&&m&&x.from==m.from&&x.to==m.to)return b(_(t.from,t.to,x));{let T=x?_(t.from,null,x):P(v,!1),C=m?_(null,t.to,m):P(S,!0),R=[];return(x||v).to<(m||S).from-(x&&m?1:0)||v.widgetLineBreaks>1&&T.bottom+r.defaultLineHeight/2<C.top?R.push(y(f,T.bottom,p,C.top)):T.bottom<C.top&&r.elementAtHeight((T.bottom+C.top)/2).type==Wr.Text&&(T.bottom=C.top=(T.bottom+C.top)/2),b(T).concat(R).concat(b(C))}function y(T,C,R,k){return new jc(e,T-l.left,C-l.top,R-T,k-C)}function b({top:T,bottom:C,horizontal:R}){let k=[];for(let E=0;E<R.length;E+=2)k.push(y(R[E],T,R[E+1],C));return k}function _(T,C,R){let k=1e9,E=-1e9,$=[];function D(q,V,K,Y,L){let z=r.coordsAtPos(q,q==R.to?-2:2),M=r.coordsAtPos(K,K==R.from?2:-2);!z||!M||(k=Math.min(z.top,M.top,k),E=Math.max(z.bottom,M.bottom,E),L==Ut.LTR?$.push(s&&V?f:z.left,s&&Y?p:M.right):$.push(!s&&Y?f:M.left,!s&&V?p:z.right))}let A=T??R.from,N=C??R.to;for(let q of r.visibleRanges)if(q.to>A&&q.from<N)for(let V=Math.max(q.from,A),K=Math.min(q.to,N);;){let Y=r.state.doc.lineAt(V);for(let L of r.bidiSpans(Y)){let z=L.from+Y.from,M=L.to+Y.from;if(z>=K)break;M>V&&D(Math.max(z,V),T==null&&z<=A,Math.min(M,K),C==null&&M>=N,L.dir)}if(V=Y.to+1,V>=K)break}return $.length==0&&D(A,T==null,N,C==null,r.textDirection),{top:k,bottom:E,horizontal:$}}function P(T,C){let R=o.top+(C?T.top:T.bottom);return{top:R,bottom:R,horizontal:[]}}}function AD(r,e){return r.constructor==e.constructor&&r.eq(e)}class LD{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Bu)!=e.state.facet(Bu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Bu);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!AD(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[i].constructor&&n.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Bu=Ze.define();function t2(r){return[sr.define(e=>new LD(e,r)),Bu.of(r)]}const fc=Ze.define({combine(r){return wn(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function MD(r={}){return[fc.of(r),jD,ND,DD,QC.of(!0)]}function r2(r){return r.startState.facet(fc)!=r.state.facet(fc)}const jD=t2({above:!0,markers(r){let{state:e}=r,t=e.facet(fc),i=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty||t.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=n.empty?n:ye.cursor(n.head,n.head>n.anchor?-1:1);for(let l of jc.forRange(r,a,o))i.push(l)}}return i},update(r,e){r.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=r2(r);return t&&t_(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){t_(e.state,r)},class:"cm-cursorLayer"});function t_(r,e){e.style.animationDuration=r.facet(fc).cursorBlinkRate+"ms"}const ND=t2({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:jc.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||r2(r)},class:"cm-selectionLayer"}),DD=Kn.highest(De.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),i2=ft.define({map(r,e){return r==null?null:e.mapPos(r)}}),Wl=Or.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,i)=>i.is(i2)?i.value:t,r)}}),ID=sr.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(Wl);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Wl)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(Wl),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let i=r.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-i.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Wl)!=r&&this.view.dispatch({effects:i2.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function BD(){return[Wl,ID]}function r_(r,e,t,i,n){e.lastIndex=0;for(let s=r.iterRange(t,i),a=t,o;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)n(a+o.index,o)}function zD(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let i=[];for(let{from:n,to:s}of t)n=Math.max(r.state.doc.lineAt(n).from,n-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class qD{constructor(e){const{regexp:t,decoration:i,decorate:n,boundary:s,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(o,l,u,d)=>n(d,u,u+o[0].length,o,l);else if(typeof i=="function")this.addMatch=(o,l,u,d)=>{let f=i(o,l,u);f&&d(u,u+o[0].length,f)};else if(i)this.addMatch=(o,l,u,d)=>d(u,u+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let t=new bn,i=t.add.bind(t);for(let{from:n,to:s}of zD(e,this.maxLength))r_(e.state.doc,this.regexp,n,s,(a,o)=>this.addMatch(o,e,a,i));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,a,o,l)=>{l>=e.view.viewport.from&&o<=e.view.viewport.to&&(i=Math.min(o,i),n=Math.max(l,n))}),e.viewportMoved||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let a=Math.max(s.from,i),o=Math.min(s.to,n);if(o>=a){let l=e.state.doc.lineAt(a),u=l.to<o?e.state.doc.lineAt(o):l,d=Math.max(s.from,l.from),f=Math.min(s.to,u.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){d=a;break}for(;o<u.to;o++)if(this.boundary.test(u.text[o-u.from])){f=o;break}}let p=[],v,S=(x,m,y)=>p.push(y.range(x,m));if(l==u)for(this.regexp.lastIndex=d-l.from;(v=this.regexp.exec(l.text))&&v.index<f-l.from;)this.addMatch(v,e,v.index+l.from,S);else r_(e.state.doc,this.regexp,d,f,(x,m)=>this.addMatch(m,e,x,S));t=t.update({filterFrom:d,filterTo:f,filter:(x,m)=>x<d||m>f,add:p})}}return t}}const f0=/x/.unicode!=null?"gu":"g",XD=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,f0),WD={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ym=null;function FD(){var r;if(ym==null&&typeof document<"u"&&document.body){let e=document.body.style;ym=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return ym||!1}const zu=Ze.define({combine(r){let e=wn(r,{render:null,specialChars:XD,addSpecialChars:null});return(e.replaceTabs=!FD())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,f0)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,f0)),e}});function ZD(r={}){return[zu.of(r),VD()]}let i_=null;function VD(){return i_||(i_=sr.fromClass(class{constructor(r){this.view=r,this.decorations=it.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(zu)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new qD({regexp:r.specialChars,decoration:(e,t,i)=>{let{doc:n}=t.state,s=ei(e[0],0);if(s==9){let a=n.lineAt(i),o=t.state.tabSize,l=Zi(a.text,o,i-a.from);return it.replace({widget:new GD((o-l%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=it.replace({widget:new YD(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(zu);r.startState.facet(zu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const UD="";function HD(r){return r>=32?UD:r==10?"":String.fromCharCode(9216+r)}class YD extends kn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=HD(this.code),i=e.state.phrase("Control character")+" "+(WD[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class GD extends kn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function KD(){return e6}const JD=it.line({class:"cm-activeLine"}),e6=sr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let i of r.state.selection.ranges){let n=r.lineBlockAt(i.head);n.from>e&&(t.push(JD.range(n.from)),e=n.from)}return it.set(t)}},{decorations:r=>r.decorations});class t6 extends kn{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Sa(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),n=Ac(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return n.bottom-n.top>s*1.5?{left:n.left,right:n.right,top:n.top,bottom:n.top+s}:n}ignoreEvent(){return!1}}function r6(r){let e=sr.fromClass(class{constructor(t){this.view=t,this.placeholder=r?it.set([it.widget({widget:new t6(r),side:1}).range(0)]):it.none}get decorations(){return this.view.state.doc.length?it.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,De.contentAttributes.of({"aria-placeholder":r})]:e}const p0=2e3;function i6(r,e,t){let i=Math.min(e.line,t.line),n=Math.max(e.line,t.line),s=[];if(e.off>p0||t.off>p0||e.col<0||t.col<0){let a=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=i;l<=n;l++){let u=r.doc.line(l);u.length<=o&&s.push(ye.range(u.from+a,u.to+o))}}else{let a=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=i;l<=n;l++){let u=r.doc.line(l),d=Zg(u.text,a,r.tabSize,!0);if(d<0)s.push(ye.cursor(u.to));else{let f=Zg(u.text,o,r.tabSize);s.push(ye.range(u.from+d,u.from+f))}}}return s}function n6(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function n_(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),i=r.state.doc.lineAt(t),n=t-i.from,s=n>p0?-1:n==i.length?n6(r,e.clientX):Zi(i.text,r.state.tabSize,t-i.from);return{line:i.number,col:s,off:n}}function s6(r,e){let t=n_(r,e),i=r.state.selection;return t?{update(n){if(n.docChanged){let s=n.changes.mapPos(n.startState.doc.line(t.line).from),a=n.state.doc.lineAt(s);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},i=i.map(n.changes)}},get(n,s,a){let o=n_(r,n);if(!o)return i;let l=i6(r.state,t,o);return l.length?a?ye.create(l.concat(i.ranges)):ye.create(l):i}}:null}function o6(r){let e=t=>t.altKey&&t.button==0;return De.mouseSelectionStyle.of((t,i)=>e(i)?s6(t,i):null)}const a6={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},l6={style:"cursor: crosshair"};function c6(r={}){let[e,t]=a6[r.key||"Alt"],i=sr.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventObservers:{keydown(n){this.set(n.keyCode==e||t(n))},keyup(n){(n.keyCode==e||!t(n))&&this.set(!1)},mousemove(n){this.set(t(n))}}});return[i,De.contentAttributes.of(n=>{var s;return!((s=n.plugin(i))===null||s===void 0)&&s.isDown?l6:null})]}const Ll="-10000px";class n2{constructor(e,t,i,n){this.facet=t,this.createTooltipView=i,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=i(a,s))}update(e,t){var i;let n=e.state.facet(this.facet),s=n.filter(l=>l);if(n===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],o=t?[]:null;for(let l=0;l<s.length;l++){let u=s[l],d=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let p=this.tooltips[f];p&&p.create==u.create&&(d=f)}if(d<0)a[l]=this.createTooltipView(u,l?a[l-1]:null),o&&(o[l]=!!u.above);else{let f=a[l]=this.tooltipViews[d];o&&(o[l]=t[d]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(o.forEach((l,u)=>t[u]=l),t.length=o.length),this.input=n,this.tooltips=s,this.tooltipViews=a,!0}}function h6(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const bm=Ze.define({combine:r=>{var e,t,i;return{position:Ve.ios?"absolute":((e=r.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||h6}}}),s_=new WeakMap,_O=sr.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(bm);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new n2(r,SO,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(bm);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=Ll,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(r=i.destroy)===null||r===void 0||r.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ve.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Ll&&s.style.left=="0px"){let a=s.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),n=vO(this.view);return{visible:{left:i.left+n.left,top:i.top+n.top,right:i.right-n.right,bottom:i.bottom-n.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(bm).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:n,scaleY:s}=r,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],u=this.manager.tooltipViews[o],{dom:d}=u,f=r.pos[o],p=r.size[o];if(!f||l.clip!==!1&&(f.bottom<=Math.max(t.top,i.top)||f.top>=Math.min(t.bottom,i.bottom)||f.right<Math.max(t.left,i.left)-.1||f.left>Math.min(t.right,i.right)+.1)){d.style.top=Ll;continue}let v=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,S=v?7:0,x=p.right-p.left,m=(e=s_.get(u))!==null&&e!==void 0?e:p.bottom-p.top,y=u.offset||d6,b=this.view.textDirection==Ut.LTR,_=p.width>i.right-i.left?b?i.left:i.right-p.width:b?Math.max(i.left,Math.min(f.left-(v?14:0)+y.x,i.right-x)):Math.min(Math.max(i.left,f.left-x+(v?14:0)-y.x),i.right-x),P=this.above[o];!l.strictSide&&(P?f.top-m-S-y.y<i.top:f.bottom+m+S+y.y>i.bottom)&&P==i.bottom-f.bottom>f.top-i.top&&(P=this.above[o]=!P);let T=(P?f.top-i.top:i.bottom-f.bottom)-S;if(T<m&&u.resize!==!1){if(T<this.view.defaultLineHeight){d.style.top=Ll;continue}s_.set(u,m),d.style.height=(m=T)/s+"px"}else d.style.height&&(d.style.height="");let C=P?f.top-m-S-y.y:f.bottom+S+y.y,R=_+x;if(u.overlap!==!0)for(let k of a)k.left<R&&k.right>_&&k.top<C+m&&k.bottom>C&&(C=P?k.top-m-2-S:k.bottom+S+2);if(this.position=="absolute"?(d.style.top=(C-r.parent.top)/s+"px",o_(d,(_-r.parent.left)/n)):(d.style.top=C/s+"px",o_(d,_/n)),v){let k=f.left+(b?y.x:-y.x)-(_+14-7);v.style.left=k/n+"px"}u.overlap!==!0&&a.push({left:_,top:C,right:R,bottom:C+m}),d.classList.toggle("cm-tooltip-above",P),d.classList.toggle("cm-tooltip-below",!P),u.positioned&&u.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Ll}},{eventObservers:{scroll(){this.maybeMeasure()}}});function o_(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const u6=De.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),d6={x:0,y:0},SO=Ze.define({enables:[_O,u6]}),hd=Ze.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class qd{static create(e){return new qd(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new n2(e,hd,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let n=i[e];if(n!==void 0){if(t===void 0)t=n;else if(t!==n)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const f6=SO.compute([hd],r=>{let e=r.facet(hd);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:qd.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class p6{constructor(e,t,i,n,s){this.view=e,this.source=t,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let n,s=1;if(i instanceof Es)n=i.posAtStart;else{if(n=e.posAtCoords(t),n==null)return;let o=e.coordsAtPos(n);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(n)).find(d=>d.from<=n&&d.to>=n),u=l&&l.dir==Ut.RTL?-1:1;s=t.x<o.left?-u:u}let a=this.source(e,n,s);if(a?.then){let o=this.pending={pos:n};a.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ii(e.state,l,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(_O),t=e?e.manager.tooltips.findIndex(i=>i.create==qd.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:s}=this;if(n.length&&s&&!m6(s.dom,e)||this.pending){let{pos:a}=n[0]||this.pending,o=(i=(t=n[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:a;(a==o?this.view.posAtCoords(this.lastMove)!=a:!g6(this.view,a,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const vu=4;function m6(r,e){let{left:t,right:i,top:n,bottom:s}=r.getBoundingClientRect(),a;if(a=r.querySelector(".cm-tooltip-arrow")){let o=a.getBoundingClientRect();n=Math.min(o.top,n),s=Math.max(o.bottom,s)}return e.clientX>=t-vu&&e.clientX<=i+vu&&e.clientY>=n-vu&&e.clientY<=s+vu}function g6(r,e,t,i,n,s){let a=r.scrollDOM.getBoundingClientRect(),o=r.documentTop+r.documentPadding.top+r.contentHeight;if(a.left>i||a.right<i||a.top>n||Math.min(a.bottom,o)<n)return!1;let l=r.posAtCoords({x:i,y:n},!1);return l>=e&&l<=t}function O6(r,e={}){let t=ft.define(),i=Or.define({create(){return[]},update(n,s){if(n.length&&(e.hideOnChange&&(s.docChanged||s.selection)?n=[]:e.hideOn&&(n=n.filter(a=>!e.hideOn(s,a))),s.docChanged)){let a=[];for(let o of n){let l=s.changes.mapPos(o.pos,-1,Tr.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),o);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),a.push(u)}}n=a}for(let a of s.effects)a.is(t)&&(n=a.value),a.is(v6)&&(n=[]);return n},provide:n=>hd.from(n)});return{active:i,extension:[i,sr.define(n=>new p6(n,r,i,t,e.hoverTime||300)),f6]}}function s2(r,e){let t=r.plugin(_O);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const v6=ft.define(),a_=Ze.define({combine(r){let e,t;for(let i of r)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function pc(r,e){let t=r.plugin(o2),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const o2=sr.fromClass(class{constructor(r){this.input=r.state.facet(mc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(a_);this.top=new xu(r,!0,e.topContainer),this.bottom=new xu(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(a_);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new xu(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new xu(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(mc);if(t!=this.input){let i=t.filter(l=>l),n=[],s=[],a=[],o=[];for(let l of i){let u=this.specs.indexOf(l),d;u<0?(d=l(r.view),o.push(d)):(d=this.panels[u],d.update&&d.update(r)),n.push(d),(d.top?s:a).push(d)}this.specs=i,this.panels=n,this.top.sync(s),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>De.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class xu{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=l_(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=l_(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function l_(r){let e=r.nextSibling;return r.remove(),e}const mc=Ze.define({enables:o2});class Gn extends Oo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Gn.prototype.elementClass="";Gn.prototype.toDOM=void 0;Gn.prototype.mapMode=Tr.TrackBefore;Gn.prototype.startSide=Gn.prototype.endSide=-1;Gn.prototype.point=!0;const qu=Ze.define(),x6=Ze.define(),y6={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ct.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},ec=Ze.define();function b6(r){return[a2(),ec.of({...y6,...r})]}const c_=Ze.define({combine:r=>r.some(e=>e)});function a2(r){return[_6]}const _6=sr.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(ec).map(e=>new u_(r,e)),this.fixed=!r.state.facet(c_);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(c_)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ct.iter(this.view.state.facet(qu),this.view.viewport.from),i=[],n=this.gutters.map(s=>new S6(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let a=!0;for(let o of s.type)if(o.type==Wr.Text&&a){m0(t,i,o.from);for(let l of n)l.line(this.view,o,i);a=!1}else if(o.widget)for(let l of n)l.widget(this.view,o)}else if(s.type==Wr.Text){m0(t,i,s.from);for(let a of n)a.line(this.view,s,i)}else if(s.widget)for(let a of n)a.widget(this.view,s);for(let s of n)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(ec),t=r.state.facet(ec),i=r.docChanged||r.heightChanged||r.viewportChanged||!Ct.eq(r.startState.facet(qu),r.state.facet(qu),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let a=e.indexOf(s);a<0?n.push(new u_(this.view,s)):(this.gutters[a].update(r),n.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>De.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,n=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Ut.LTR?{left:i,right:n}:{right:i,left:n}})});function h_(r){return Array.isArray(r)?r:[r]}function m0(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class S6{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Ct.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==n.elements.length){let o=new l2(e,a,s,i);n.elements.push(o),n.dom.appendChild(o.dom)}else n.elements[this.i].update(e,a,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];m0(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let a=this.gutter;n.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),n=i?[i]:null;for(let s of e.state.facet(x6)){let a=s(e,t.widget,t);a&&(n||(n=[])).push(a)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class u_{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=n.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[i](e,o,n)&&n.preventDefault()});this.markers=h_(t.markers(e)),t.initialSpacer&&(this.spacer=new l2(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=h_(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!Ct.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class l2{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),w6(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,a=0;;){let o=a,l=s<t.length?t[s++]:null,u=!1;if(l){let d=l.elementClass;d&&(i+=" "+d);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){o=f,u=!0;break}}else o=this.markers.length;for(;a<o;){let d=this.markers[a++];if(d.toDOM){d.destroy(n);let f=n.nextSibling;n.remove(),n=f}}if(!l)break;l.toDOM&&(u?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),u&&a++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function w6(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const k6=Ze.define(),C6=Ze.define(),aa=Ze.define({combine(r){return wn(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],a=t[n];i[n]=s?(o,l,u)=>s(o,l,u)||a(o,l,u):a}return i}})}});class _m extends Gn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Sm(r,e){return r.state.facet(aa).formatNumber(e,r.state)}const P6=ec.compute([aa],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(k6)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new _m(Sm(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let n of e.state.facet(C6)){let s=n(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(aa)!=e.state.facet(aa),initialSpacer(e){return new _m(Sm(e,d_(e.state.doc.lines)))},updateSpacer(e,t){let i=Sm(t.view,d_(t.view.state.doc.lines));return i==e.number?e:new _m(i)},domEventHandlers:r.facet(aa).domEventHandlers,side:"before"}));function T6(r={}){return[aa.of(r),a2(),P6]}function d_(r){let e=9;for(;e<r;)e=e*10+9;return e}const E6=new class extends Gn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Q6=qu.compute(["selection"],r=>{let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.head).from;n>t&&(t=n,e.push(E6.range(n)))}return Ct.of(e)});function R6(){return Q6}const c2=1024;let $6=0;class Ti{constructor(e,t){this.from=e,this.to=t}}class pt{constructor(e={}){this.id=$6++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gr.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}pt.closedBy=new pt({deserialize:r=>r.split(" ")});pt.openedBy=new pt({deserialize:r=>r.split(" ")});pt.group=new pt({deserialize:r=>r.split(" ")});pt.isolate=new pt({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});pt.contextHash=new pt({perNode:!0});pt.lookAhead=new pt({perNode:!0});pt.mounted=new pt({perNode:!0});class gc{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[pt.mounted.id]}}const A6=Object.create(null);class gr{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):A6,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new gr(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(pt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(pt.group),s=-1;s<(n?n.length:0);s++){let a=t[s<0?i.name:n[s]];if(a)return a}}}}gr.none=new gr("",Object.create(null),0,8);class Nc{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let a=s(i);a&&(n||(n=Object.assign({},i.props)),n[a[0].id]=a[1])}t.push(n?new gr(i.name,n,i.id,i.flags):i)}return new Nc(t)}}const yu=new WeakMap,f_=new WeakMap;var Dt;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Dt||(Dt={}));class $t{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=gc.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ud(this.topNode,e)}cursorAt(e,t=0,i=0){let n=yu.get(this)||this.topNode,s=new ud(n);return s.moveTo(e,t),yu.set(this,s._tree),s}get topNode(){return new Dr(this,0,0,null)}resolve(e,t=0){let i=Oc(yu.get(this)||this.topNode,e,t,!1);return yu.set(this,i),i}resolveInner(e,t=0){let i=Oc(f_.get(this)||this.topNode,e,t,!0);return f_.set(this,i),i}resolveStack(e,t=0){return j6(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,a=e.mode||0,o=(a&Dt.IncludeAnonymous)>0;for(let l=this.cursor(a|Dt.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=n&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(o||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:CO(gr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new $t(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new $t(gr.none,t,i,n)))}static build(e){return N6(e)}}$t.empty=new $t(gr.none,[],[],0);class wO{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new wO(this.buffer,this.index)}}class Ms{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return gr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let a=[];for(;e<i;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,t,i,n,s){let{buffer:a}=this,o=-1;for(let l=e;l!=t&&!(h2(s,n,a[l+1],a[l+2])&&(o=l,i>0));l=a[l+3]);return o}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),a=0;for(let o=e,l=0;o<t;){s[l++]=n[o++],s[l++]=n[o++]-i;let u=s[l++]=n[o++]-i;s[l++]=n[o++]-e,a=Math.max(a,u)}return new Ms(s,a,this.set)}}function h2(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Oc(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let a=!i&&r instanceof Dr&&r.index<0?null:r.parent;if(!a)return r;r=a}let s=i?0:Dt.IgnoreOverlays;if(i)for(let a=r,o=a.parent;o;a=o,o=a.parent)a instanceof Dr&&a.index<0&&((n=o.enter(e,t,s))===null||n===void 0?void 0:n.from)!=a.from&&(r=o);for(;;){let a=r.enter(e,t,s);if(!a)return r;r=a}}class u2{cursor(e=0){return new ud(this,e)}getChild(e,t=null,i=null){let n=p_(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return p_(this,e,t,i)}resolve(e,t=0){return Oc(this,e,t,!1)}resolveInner(e,t=0){return Oc(this,e,t,!0)}matchContext(e){return g0(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}}class Dr extends u2{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,u=t>0?o.length:-1;e!=u;e+=t){let d=o[e],f=l[e]+a.from;if(h2(n,i,f,f+d.length)){if(d instanceof Ms){if(s&Dt.ExcludeBuffers)continue;let p=d.findChild(0,d.buffer.length,t,i-f,n);if(p>-1)return new mn(new L6(a,d,e,f),null,p)}else if(s&Dt.IncludeAnonymous||!d.type.isAnonymous||kO(d)){let p;if(!(s&Dt.IgnoreMounts)&&(p=gc.get(d))&&!p.overlay)return new Dr(p.tree,f,e,a);let v=new Dr(d,f,e,a);return s&Dt.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(t<0?d.children.length-1:0,t,i,n)}}}if(s&Dt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Dt.IgnoreOverlays)&&(n=gc.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:a,to:o}of n.overlay)if((t>0?a<=s:a<s)&&(t<0?o>=s:o>s))return new Dr(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function p_(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let a=!1;!a;)if(a=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function g0(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class L6{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class mn extends u2{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new mn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Dt.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new mn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new mn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new mn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let a=i.buffer[this.index+1];e.push(i.slice(n,s,a)),t.push(0)}return new $t(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function d2(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let a=r[s];(a.from>t.from||a.to<t.to)&&(t=a,e=s)}let i=t instanceof Dr&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new M6(n,t)}class M6{constructor(e,t){this.heads=e,this.node=t}get next(){return d2(this.heads)}}function j6(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Dr?i:i.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(n||(n=[i])).push(a.resolve(e,t)),s=a}else{let a=gc.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new Dr(a.tree,a.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(Oc(o,e,t,!1))}}return n?d2(n):i}class ud{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Dr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Dr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Dt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Dt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,a=e<0?-1:i._tree.children.length;s!=a;s+=e){let o=i._tree.children[s];if(this.mode&Dt.IncludeAnonymous||o instanceof Ms||!o.type.isAnonymous||kO(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==n){if(n==this.index)return a;t=a,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new mn(this.buffer,t,this.stack[n]);return this.bufferNode=new mn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return g0(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return g0(this._tree,e,n);let a=i[t.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[n]&&e[n]!=a.name)return!1;n--}}return!0}}function kO(r){return r.children.some(e=>e instanceof Ms||!e.type.isAnonymous||kO(e))}function N6(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=c2,reused:s=[],minRepeatType:a=i.types.length}=r,o=Array.isArray(t)?new wO(t,t.length):t,l=i.types,u=0,d=0;function f(T,C,R,k,E,$){let{id:D,start:A,end:N,size:q}=o,V=d,K=u;for(;q<0;)if(o.next(),q==-1){let I=s[D];R.push(I),k.push(A-T);return}else if(q==-3){u=D;return}else if(q==-4){d=D;return}else throw new RangeError(`Unrecognized record size: ${q}`);let Y=l[D],L,z,M=A-T;if(N-A<=n&&(z=m(o.pos-C,E))){let I=new Uint16Array(z.size-z.skip),U=o.pos-z.size,W=I.length;for(;o.pos>U;)W=y(z.start,I,W);L=new Ms(I,N-z.start,i),M=z.start-T}else{let I=o.pos-q;o.next();let U=[],W=[],se=D>=a?D:-1,le=0,ae=N;for(;o.pos>I;)se>=0&&o.id==se&&o.size>=0?(o.end<=ae-n&&(S(U,W,A,le,o.end,ae,se,V,K),le=U.length,ae=o.end),o.next()):$>2500?p(A,I,U,W):f(A,I,U,W,se,$+1);if(se>=0&&le>0&&le<U.length&&S(U,W,A,le,A,ae,se,V,K),U.reverse(),W.reverse(),se>-1&&le>0){let B=v(Y,K);L=CO(Y,U,W,0,U.length,0,N-A,B,B)}else L=x(Y,U,W,N-A,V-N,K)}R.push(L),k.push(M)}function p(T,C,R,k){let E=[],$=0,D=-1;for(;o.pos>C;){let{id:A,start:N,end:q,size:V}=o;if(V>4)o.next();else{if(D>-1&&N<D)break;D<0&&(D=q-n),E.push(A,N,q),$++,o.next()}}if($){let A=new Uint16Array($*4),N=E[E.length-2];for(let q=E.length-3,V=0;q>=0;q-=3)A[V++]=E[q],A[V++]=E[q+1]-N,A[V++]=E[q+2]-N,A[V++]=V;R.push(new Ms(A,E[2]-N,i)),k.push(N-T)}}function v(T,C){return(R,k,E)=>{let $=0,D=R.length-1,A,N;if(D>=0&&(A=R[D])instanceof $t){if(!D&&A.type==T&&A.length==E)return A;(N=A.prop(pt.lookAhead))&&($=k[D]+A.length+N)}return x(T,R,k,E,$,C)}}function S(T,C,R,k,E,$,D,A,N){let q=[],V=[];for(;T.length>k;)q.push(T.pop()),V.push(C.pop()+R-E);T.push(x(i.types[D],q,V,$-E,A-$,N)),C.push(E-R)}function x(T,C,R,k,E,$,D){if($){let A=[pt.contextHash,$];D=D?[A].concat(D):[A]}if(E>25){let A=[pt.lookAhead,E];D=D?[A].concat(D):[A]}return new $t(T,C,R,k,D)}function m(T,C){let R=o.fork(),k=0,E=0,$=0,D=R.end-n,A={size:0,start:0,skip:0};e:for(let N=R.pos-T;R.pos>N;){let q=R.size;if(R.id==C&&q>=0){A.size=k,A.start=E,A.skip=$,$+=4,k+=4,R.next();continue}let V=R.pos-q;if(q<0||V<N||R.start<D)break;let K=R.id>=a?4:0,Y=R.start;for(R.next();R.pos>V;){if(R.size<0)if(R.size==-3)K+=4;else break e;else R.id>=a&&(K+=4);R.next()}E=Y,k+=q,$+=K}return(C<0||k==T)&&(A.size=k,A.start=E,A.skip=$),A.size>4?A:void 0}function y(T,C,R){let{id:k,start:E,end:$,size:D}=o;if(o.next(),D>=0&&k<a){let A=R;if(D>4){let N=o.pos-(D-4);for(;o.pos>N;)R=y(T,C,R)}C[--R]=A,C[--R]=$-T,C[--R]=E-T,C[--R]=k}else D==-3?u=k:D==-4&&(d=k);return R}let b=[],_=[];for(;o.pos>0;)f(r.start||0,r.bufferStart||0,b,_,-1,0);let P=(e=r.length)!==null&&e!==void 0?e:b.length?_[0]+b[0].length:0;return new $t(l[r.topID],b.reverse(),_.reverse(),P)}const m_=new WeakMap;function Xu(r,e){if(!r.isAnonymous||e instanceof Ms||e.type!=r)return 1;let t=m_.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof $t)){t=1;break}t+=Xu(r,i)}m_.set(e,t)}return t}function CO(r,e,t,i,n,s,a,o,l){let u=0;for(let S=i;S<n;S++)u+=Xu(r,e[S]);let d=Math.ceil(u*1.5/8),f=[],p=[];function v(S,x,m,y,b){for(let _=m;_<y;){let P=_,T=x[_],C=Xu(r,S[_]);for(_++;_<y;_++){let R=Xu(r,S[_]);if(C+R>=d)break;C+=R}if(_==P+1){if(C>d){let R=S[P];v(R.children,R.positions,0,R.children.length,x[P]+b);continue}f.push(S[P])}else{let R=x[_-1]+S[_-1].length-T;f.push(CO(r,S,x,P,_,T,R,null,l))}p.push(T+b-s)}}return v(e,t,i,n,0),(o||l)(f,p,a)}class PO{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof mn?this.setBuffer(e.context.buffer,e.index,t):e instanceof Dr&&this.map.set(e.tree,t)}get(e){return e instanceof mn?this.getBuffer(e.context.buffer,e.index):e instanceof Dr?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Hn{constructor(e,t,i,n,s=!1,a=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new Hn(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,a=e.length?e[0]:null;for(let o=0,l=0,u=0;;o++){let d=o<t.length?t[o]:null,f=d?d.fromA:1e9;if(f-l>=i)for(;a&&a.from<f;){let p=a;if(l>=p.from||f<=p.to||u){let v=Math.max(p.from,l)-u,S=Math.min(p.to,f)-u;p=v>=S?null:new Hn(v,S,p.tree,p.offset+u,o>0,!!d)}if(p&&n.push(p),a.to>f)break;a=s<e.length?e[s++]:null}if(!d)break;l=d.toA,u=d.toA-d.toB}return n}}class TO{startParse(e,t,i){return typeof e=="string"&&(e=new D6(e)),i=i?i.length?i.map(n=>new Ti(n.from,n.to)):[new Ti(0,0)]:[new Ti(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class D6{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function f2(r){return(e,t,i,n)=>new B6(e,r,t,i,n)}class g_{constructor(e,t,i,n,s){this.parser=e,this.parse=t,this.overlay=i,this.target=n,this.from=s}}function O_(r){if(!r.length||r.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(r))}class I6{constructor(e,t,i,n,s,a,o){this.parser=e,this.predicate=t,this.mounts=i,this.index=n,this.start=s,this.target=a,this.prev=o,this.depth=0,this.ranges=[]}}const O0=new pt({perNode:!0});class B6{constructor(e,t,i,n,s){this.nest=t,this.input=i,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new $t(i.type,i.children,i.positions,i.length,i.propValues.concat([[O0,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[pt.mounted.id]=new gc(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new X6(this.fragments),t=null,i=null,n=new ud(new Dr(this.baseTree,this.ranges[0].from,0,null),Dt.IncludeAnonymous|Dt.IgnoreMounts);e:for(let s,a;;){let o=!0,l;if(this.stoppedAt!=null&&n.from>=this.stoppedAt)o=!1;else if(e.hasNode(n)){if(t){let u=t.mounts.find(d=>d.frag.from<=n.from&&d.frag.to>=n.to&&d.mount.overlay);if(u)for(let d of u.mount.overlay){let f=d.from+u.pos,p=d.to+u.pos;f>=n.from&&p<=n.to&&!t.ranges.some(v=>v.from<p&&v.to>f)&&t.ranges.push({from:f,to:p})}}o=!1}else if(i&&(a=z6(i.ranges,n.from,n.to)))o=a!=2;else if(!n.type.isAnonymous&&(s=this.nest(n,this.input))&&(n.from<n.to||!s.overlay)){n.tree||q6(n);let u=e.findMounts(n.from,s.parser);if(typeof s.overlay=="function")t=new I6(s.parser,s.overlay,u,this.inner.length,n.from,n.tree,t);else{let d=y_(this.ranges,s.overlay||(n.from<n.to?[new Ti(n.from,n.to)]:[]));d.length&&O_(d),(d.length||!s.overlay)&&this.inner.push(new g_(s.parser,d.length?s.parser.startParse(this.input,b_(u,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new Ti(f.from-n.from,f.to-n.from)):null,n.tree,d.length?d[0].from:n.from)),s.overlay?d.length&&(i={ranges:d,depth:0,prev:i}):o=!1}}else if(t&&(l=t.predicate(n))&&(l===!0&&(l=new Ti(n.from,n.to)),l.from<l.to)){let u=t.ranges.length-1;u>=0&&t.ranges[u].to==l.from?t.ranges[u]={from:t.ranges[u].from,to:l.to}:t.ranges.push(l)}if(o&&n.firstChild())t&&t.depth++,i&&i.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(t&&!--t.depth){let u=y_(this.ranges,t.ranges);u.length&&(O_(u),this.inner.splice(t.index,0,new g_(t.parser,t.parser.startParse(this.input,b_(t.mounts,u),u),t.ranges.map(d=>new Ti(d.from-t.start,d.to-t.start)),t.target,u[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function z6(r,e,t){for(let i of r){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function v_(r,e,t,i,n,s){if(e<t){let a=r.buffer[e+1];i.push(r.slice(e,t,a)),n.push(a-s)}}function q6(r){let{node:e}=r,t=[],i=e.context.buffer;do t.push(r.index),r.parent();while(!r.tree);let n=r.tree,s=n.children.indexOf(i),a=n.children[s],o=a.buffer,l=[s];function u(d,f,p,v,S,x){let m=t[x],y=[],b=[];v_(a,d,m,y,b,v);let _=o[m+1],P=o[m+2];l.push(y.length);let T=x?u(m+4,o[m+3],a.set.types[o[m]],_,P-_,x-1):e.toTree();return y.push(T),b.push(_-v),v_(a,o[m+3],f,y,b,v),new $t(p,y,b,S)}n.children[s]=u(0,o.length,gr.none,0,a.length,t.length-1);for(let d of l){let f=r.tree.children[d],p=r.tree.positions[d];r.yield(new Dr(f,p+r.from,d,r._tree))}}class x_{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Dt.IncludeAnonymous|Dt.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,Dt.IgnoreOverlays|Dt.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof $t)t=t.children[0];else break}return!1}}let X6=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(O0))!==null&&t!==void 0?t:i.to,this.inner=new x_(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(O0))!==null&&e!==void 0?e:t.to,this.inner=new x_(t.tree,-t.offset)}}findMounts(e,t){var i;let n=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let a=(i=s.tree)===null||i===void 0?void 0:i.prop(pt.mounted);if(a&&a.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let l=this.fragments[o];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&n.push({frag:l,pos:s.from-l.offset,mount:a})}}}return n}};function y_(r,e){let t=null,i=e;for(let n=1,s=0;n<r.length;n++){let a=r[n-1].to,o=r[n].from;for(;s<i.length;s++){let l=i[s];if(l.from>=o)break;l.to<=a||(t||(i=t=e.slice()),l.from<a?(t[s]=new Ti(l.from,a),l.to>o&&t.splice(s+1,0,new Ti(o,l.to))):l.to>o?t[s--]=new Ti(o,l.to):t.splice(s--,1))}}return i}function W6(r,e,t,i){let n=0,s=0,a=!1,o=!1,l=-1e9,u=[];for(;;){let d=n==r.length?1e9:a?r[n].to:r[n].from,f=s==e.length?1e9:o?e[s].to:e[s].from;if(a!=o){let p=Math.max(l,t),v=Math.min(d,f,i);p<v&&u.push(new Ti(p,v))}if(l=Math.min(d,f),l==1e9)break;d==l&&(a?(a=!1,n++):a=!0),f==l&&(o?(o=!1,s++):o=!0)}return u}function b_(r,e){let t=[];for(let{pos:i,mount:n,frag:s}of r){let a=i+(n.overlay?n.overlay[0].from:0),o=a+n.tree.length,l=Math.max(s.from,a),u=Math.min(s.to,o);if(n.overlay){let d=n.overlay.map(p=>new Ti(p.from+i,p.to+i)),f=W6(e,d,l,u);for(let p=0,v=l;;p++){let S=p==f.length,x=S?u:f[p].from;if(x>v&&t.push(new Hn(v,x,n.tree,-a,s.from>=v||s.openStart,s.to<=x||s.openEnd)),S)break;v=f[p].to}}else t.push(new Hn(l,u,n.tree,-a,s.from>=a||s.openStart,s.to<=o||s.openEnd))}return t}let F6=0;class Oi{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=F6++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Oi&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let n=new Oi(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new dd(e);return i=>i.modified.indexOf(t)>-1?i:dd.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}}let Z6=0;class dd{constructor(e){this.name=e,this.instances=[],this.id=Z6++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&V6(t,o.modified));if(i)return i;let n=[],s=new Oi(e.name,n,e,t);for(let o of t)o.instances.push(s);let a=U6(t);for(let o of e.set)if(!o.modified.length)for(let l of a)n.push(dd.get(o,l));return s}}function V6(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function U6(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function Bs(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],a=2,o=n;for(let f=0;;){if(o=="..."&&f>0&&f+3==n.length){a=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!p)throw new RangeError("Invalid path: "+n);if(s.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),f+=p[0].length,f==n.length)break;let v=n[f++];if(f==n.length&&v=="!"){a=0;break}if(v!="/")throw new RangeError("Invalid path: "+n);o=n.slice(f)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+n);let d=new fd(i,a,l>0?s.slice(0,l):null);e[u]=d.sort(e[u])}}return p2.add(e)}const p2=new pt;class fd{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}fd.empty=new fd([],2,null);function m2(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let a of s.tag)t[a.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let a=n;for(let o of s)for(let l of o.set){let u=t[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:i}}function H6(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function Y6(r,e,t,i=0,n=r.length){let s=new G6(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class G6{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:a,from:o,to:l}=e;if(o>=i||l<=t)return;a.isTop&&(s=this.highlighters.filter(v=>!v.scope||v.scope(a)));let u=n,d=K6(e)||fd.empty,f=H6(s,d.tags);if(f&&(u&&(u+=" "),u+=f,d.mode==1&&(n+=(n?" ":"")+f)),this.startSpan(Math.max(t,o),u),d.opaque)return;let p=e.tree&&e.tree.prop(pt.mounted);if(p&&p.overlay){let v=e.node.enter(p.overlay[0].from+o,1),S=this.highlighters.filter(m=>!m.scope||m.scope(p.tree.type)),x=e.firstChild();for(let m=0,y=o;;m++){let b=m<p.overlay.length?p.overlay[m]:null,_=b?b.from+o:l,P=Math.max(t,y),T=Math.min(i,_);if(P<T&&x)for(;e.from<T&&(this.highlightRange(e,P,T,n,s),this.startSpan(Math.min(T,e.to),u),!(e.to>=_||!e.nextSibling())););if(!b||_>i)break;y=b.to+o,y>t&&(this.highlightRange(v.cursor(),Math.max(t,b.from+o),Math.min(i,y),"",S),this.startSpan(Math.min(i,y),u))}x&&e.parent()}else if(e.firstChild()){p&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function K6(r){let e=r.type.prop(p2);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const ze=Oi.define,bu=ze(),_s=ze(),__=ze(_s),S_=ze(_s),Ss=ze(),_u=ze(Ss),wm=ze(Ss),cn=ze(),io=ze(cn),an=ze(),ln=ze(),v0=ze(),Ml=ze(v0),Su=ze(),Z={comment:bu,lineComment:ze(bu),blockComment:ze(bu),docComment:ze(bu),name:_s,variableName:ze(_s),typeName:__,tagName:ze(__),propertyName:S_,attributeName:ze(S_),className:ze(_s),labelName:ze(_s),namespace:ze(_s),macroName:ze(_s),literal:Ss,string:_u,docString:ze(_u),character:ze(_u),attributeValue:ze(_u),number:wm,integer:ze(wm),float:ze(wm),bool:ze(Ss),regexp:ze(Ss),escape:ze(Ss),color:ze(Ss),url:ze(Ss),keyword:an,self:ze(an),null:ze(an),atom:ze(an),unit:ze(an),modifier:ze(an),operatorKeyword:ze(an),controlKeyword:ze(an),definitionKeyword:ze(an),moduleKeyword:ze(an),operator:ln,derefOperator:ze(ln),arithmeticOperator:ze(ln),logicOperator:ze(ln),bitwiseOperator:ze(ln),compareOperator:ze(ln),updateOperator:ze(ln),definitionOperator:ze(ln),typeOperator:ze(ln),controlOperator:ze(ln),punctuation:v0,separator:ze(v0),bracket:Ml,angleBracket:ze(Ml),squareBracket:ze(Ml),paren:ze(Ml),brace:ze(Ml),content:cn,heading:io,heading1:ze(io),heading2:ze(io),heading3:ze(io),heading4:ze(io),heading5:ze(io),heading6:ze(io),contentSeparator:ze(cn),list:ze(cn),quote:ze(cn),emphasis:ze(cn),strong:ze(cn),link:ze(cn),monospace:ze(cn),strikethrough:ze(cn),inserted:ze(),deleted:ze(),changed:ze(),invalid:ze(),meta:Su,documentMeta:ze(Su),annotation:ze(Su),processingInstruction:ze(Su),definition:Oi.defineModifier("definition"),constant:Oi.defineModifier("constant"),function:Oi.defineModifier("function"),standard:Oi.defineModifier("standard"),local:Oi.defineModifier("local"),special:Oi.defineModifier("special")};for(let r in Z){let e=Z[r];e instanceof Oi&&(e.name=r)}m2([{tag:Z.link,class:"tok-link"},{tag:Z.heading,class:"tok-heading"},{tag:Z.emphasis,class:"tok-emphasis"},{tag:Z.strong,class:"tok-strong"},{tag:Z.keyword,class:"tok-keyword"},{tag:Z.atom,class:"tok-atom"},{tag:Z.bool,class:"tok-bool"},{tag:Z.url,class:"tok-url"},{tag:Z.labelName,class:"tok-labelName"},{tag:Z.inserted,class:"tok-inserted"},{tag:Z.deleted,class:"tok-deleted"},{tag:Z.literal,class:"tok-literal"},{tag:Z.string,class:"tok-string"},{tag:Z.number,class:"tok-number"},{tag:[Z.regexp,Z.escape,Z.special(Z.string)],class:"tok-string2"},{tag:Z.variableName,class:"tok-variableName"},{tag:Z.local(Z.variableName),class:"tok-variableName tok-local"},{tag:Z.definition(Z.variableName),class:"tok-variableName tok-definition"},{tag:Z.special(Z.variableName),class:"tok-variableName2"},{tag:Z.definition(Z.propertyName),class:"tok-propertyName tok-definition"},{tag:Z.typeName,class:"tok-typeName"},{tag:Z.namespace,class:"tok-namespace"},{tag:Z.className,class:"tok-className"},{tag:Z.macroName,class:"tok-macroName"},{tag:Z.propertyName,class:"tok-propertyName"},{tag:Z.operator,class:"tok-operator"},{tag:Z.comment,class:"tok-comment"},{tag:Z.meta,class:"tok-meta"},{tag:Z.invalid,class:"tok-invalid"},{tag:Z.punctuation,class:"tok-punctuation"}]);var km;const uo=new pt;function EO(r){return Ze.define({combine:r?e=>e.concat(r):void 0})}const QO=new pt;class Ei{constructor(e,t,i=[],n=""){this.data=e,this.name=n,yt.prototype.hasOwnProperty("tree")||Object.defineProperty(yt.prototype,"tree",{get(){return Bt(this)}}),this.parser=t,this.extension=[Ns.of(this),yt.languageData.of((s,a,o)=>{let l=w_(s,a,o),u=l.type.prop(uo);if(!u)return[];let d=s.facet(u),f=l.type.prop(QO);if(f){let p=l.resolve(a-l.from,o);for(let v of f)if(v.test(p,s)){let S=s.facet(v.facet);return v.type=="replace"?S:S.concat(d)}}return d})].concat(i)}isActiveAt(e,t,i=-1){return w_(e,t,i).type.prop(uo)==this.data}findRegions(e){let t=e.facet(Ns);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,a)=>{if(s.prop(uo)==this.data){i.push({from:a,to:a+s.length});return}let o=s.prop(pt.mounted);if(o){if(o.tree.prop(uo)==this.data){if(o.overlay)for(let l of o.overlay)i.push({from:l.from+a,to:l.to+a});else i.push({from:a,to:a+s.length});return}else if(o.overlay){let l=i.length;if(n(o.tree,o.overlay[0].from+a),i.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof $t&&n(u,s.positions[l]+a)}};return n(Bt(e),0),i}get allowsNesting(){return!0}}Ei.setState=ft.define();function w_(r,e,t){let i=r.facet(Ns),n=Bt(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,Dt.ExcludeBuffers))s.type.isTop&&(n=s);return n}class js extends Ei{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=EO(e.languageData);return new js(t,e.parser.configure({props:[uo.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new js(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Bt(r){let e=r.field(Ei.state,!1);return e?e.tree:$t.empty}class J6{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let jl=null;class vc{constructor(e,t,i=[],n,s,a,o,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new vc(e,t,[],$t.empty,0,i,[],null)}startParse(){return this.parser.startParse(new J6(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$t.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Hn.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Hn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=jl;jl=this;try{return e()}finally{jl=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=k_(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,d,f,p)=>l.push({fromA:u,toA:d,fromB:f,toB:p})),i=Hn.applyChanges(i,l),n=$t.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let d=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);d<f&&o.push({from:d,to:f})}}}return new vc(this.parser,t,i,n,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=k_(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends TO{createParse(t,i,n){let s=n[0].from,a=n[n.length-1].to;return{parsedPos:s,advance(){let l=jl;if(l){for(let u of n)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new $t(gr.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return jl}}function k_(r,e,t){return Hn.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Pa{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Pa(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=vc.create(e.facet(Ns).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Pa(i)}}Ei.state=Or.define({create:Pa.init,update(r,e){for(let t of e.effects)if(t.is(Ei.setState))return t.value;return e.startState.facet(Ns)!=e.state.facet(Ns)?Pa.init(e.state):r.apply(e)}});let g2=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(g2=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Cm=typeof navigator<"u"&&(!((km=navigator.scheduling)===null||km===void 0)&&km.isInputPending)?()=>navigator.scheduling.isInputPending():null,eI=sr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ei.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ei.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=g2(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Ei.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!Cm?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>Cm&&Cm()||Date.now()>a,n+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ei.setState.of(new Pa(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ii(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ns=Ze.define({combine(r){return r.length?r[0]:null},enables:r=>[Ei.state,eI,De.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class bo{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class pd{constructor(e,t,i,n,s,a=void 0){this.name=e,this.alias=t,this.extensions=i,this.filename=n,this.loadFunc=s,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:i}=e;if(!t){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(i)}return new pd(e.name,(e.alias||[]).concat(e.name).map(n=>n.toLowerCase()),e.extensions||[],e.filename,t,i)}static matchFilename(e,t){for(let n of e)if(n.filename&&n.filename.test(t))return n;let i=/\.([^.]+)$/.exec(t);if(i){for(let n of e)if(n.extensions.indexOf(i[1])>-1)return n}return null}static matchLanguageName(e,t,i=!0){t=t.toLowerCase();for(let n of e)if(n.alias.some(s=>s==t))return n;if(i)for(let n of e)for(let s of n.alias){let a=t.indexOf(s);if(a>-1&&(s.length>2||!/\w/.test(t[a-1])&&!/\w/.test(t[a+s.length])))return n}return null}}const tI=Ze.define(),Ba=Ze.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function md(r){let e=r.facet(Ba);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function xc(r,e){let t="",i=r.tabSize,n=r.facet(Ba)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function RO(r,e){r instanceof yt&&(r=new Xd(r));for(let i of r.state.facet(tI)){let n=i(r,e);if(n!==void 0)return n}let t=Bt(r.state);return t.length>=e?rI(r,t,e):null}class Xd{constructor(e,t={}){this.state=e,this.options=t,this.unit=md(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),a=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return a>-1&&(s+=a-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return Zi(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let a=s(n);if(a>-1)return a}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Po=new pt;function rI(r,e,t){let i=e.resolveStack(t),n=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(n!=i.node){let s=[];for(let a=n;a&&!(a.from<i.node.from||a.to>i.node.to||a.from==i.node.from&&a.type==i.node.type);a=a.parent)s.push(a);for(let a=s.length-1;a>=0;a--)i={node:s[a],next:i}}return O2(i,r,t)}function O2(r,e,t){for(let i=r;i;i=i.next){let n=nI(i.node);if(n)return n($O.create(e,t,i))}return 0}function iI(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function nI(r){let e=r.type.prop(Po);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(pt.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return a=>v2(a,!0,1,void 0,s&&!iI(a)?n.from:void 0)}return r.parent==null?sI:null}function sI(){return 0}class $O extends Xd{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new $O(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(oI(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return O2(this.context.next,this.base,this.pos)}}function oI(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function aI(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),a=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=a)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}o=l.to}}function Wu({closing:r,align:e=!0,units:t=1}){return i=>v2(i,e,t,r)}function v2(r,e,t,i,n){let s=r.textAfter,a=s.match(/^\s*/)[0].length,o=i&&s.slice(a,a+i.length)==i||n==r.pos+a,l=e?aI(r):null;return l?o?r.column(l.from):r.column(l.to):r.baseIndent+(o?0:r.unit*t)}const lI=r=>r.baseIndent;function ga({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const cI=200;function hI(){return yt.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:i}=r.newSelection.main,n=t.lineAt(i);if(i>n.from+cI)return r;let s=t.sliceString(n.from,i);if(!e.some(u=>u.test(s)))return r;let{state:a}=r,o=-1,l=[];for(let{head:u}of a.selection.ranges){let d=a.doc.lineAt(u);if(d.from==o)continue;o=d.from;let f=RO(a,d.from);if(f==null)continue;let p=/^\s*/.exec(d.text)[0],v=xc(a,f);p!=v&&l.push({from:d.from,to:d.from+p.length,insert:v})}return l.length?[r,{changes:l,sequential:!0}]:r})}const x2=Ze.define(),zs=new pt;function Wd(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function uI(r,e,t){let i=Bt(r);if(i.length<t)return null;let n=i.resolveStack(t,1),s=null;for(let a=n;a;a=a.next){let o=a.node;if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let l=o.type.prop(zs);if(l&&(o.to<i.length-50||i.length==r.doc.length||!dI(o))){let u=l(o,r);u&&u.from<=t&&u.from>=e&&u.to>t&&(s=u)}}return s}function dI(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function gd(r,e,t){for(let i of r.facet(x2)){let n=i(r,e,t);if(n)return n}return uI(r,e,t)}function y2(r,e){let t=e.mapPos(r.from,1),i=e.mapPos(r.to,-1);return t>=i?void 0:{from:t,to:i}}const Fd=ft.define({map:y2}),Dc=ft.define({map:y2});function b2(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(r.lineBlockAt(t));return e}const _o=Or.define({create(){return it.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>r=C_(r,t,i)),r=r.map(e.changes);for(let t of e.effects)if(t.is(Fd)&&!fI(r,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(w2),n=i?it.replace({widget:new yI(i(e.state,t.value))}):P_;r=r.update({add:[n.range(t.value.from,t.value.to)]})}else t.is(Dc)&&(r=r.update({filter:(i,n)=>t.value.from!=i||t.value.to!=n,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=C_(r,e.selection.main.head)),r},provide:r=>De.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(i,n)=>{t.push(i,n)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let i=r[t++],n=r[t++];if(typeof i!="number"||typeof n!="number")throw new RangeError("Invalid JSON for fold state");e.push(P_.range(i,n))}return it.set(e,!0)}});function C_(r,e,t=e){let i=!1;return r.between(e,t,(n,s)=>{n<t&&s>e&&(i=!0)}),i?r.update({filterFrom:e,filterTo:t,filter:(n,s)=>n>=t||s<=e}):r}function Od(r,e,t){var i;let n=null;return(i=r.field(_o,!1))===null||i===void 0||i.between(e,t,(s,a)=>{(!n||n.from>s)&&(n={from:s,to:a})}),n}function fI(r,e,t){let i=!1;return r.between(e,e,(n,s)=>{n==e&&s==t&&(i=!0)}),i}function _2(r,e){return r.field(_o,!1)?e:e.concat(ft.appendConfig.of(k2()))}const pI=r=>{for(let e of b2(r)){let t=gd(r.state,e.from,e.to);if(t)return r.dispatch({effects:_2(r.state,[Fd.of(t),S2(r,t)])}),!0}return!1},mI=r=>{if(!r.state.field(_o,!1))return!1;let e=[];for(let t of b2(r)){let i=Od(r.state,t.from,t.to);i&&e.push(Dc.of(i),S2(r,i,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function S2(r,e,t=!0){let i=r.state.doc.lineAt(e.from).number,n=r.state.doc.lineAt(e.to).number;return De.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${r.state.phrase("to")} ${n}.`)}const gI=r=>{let{state:e}=r,t=[];for(let i=0;i<e.doc.length;){let n=r.lineBlockAt(i),s=gd(e,n.from,n.to);s&&t.push(Fd.of(s)),i=(s?r.lineBlockAt(s.to):n).to+1}return t.length&&r.dispatch({effects:_2(r.state,t)}),!!t.length},OI=r=>{let e=r.state.field(_o,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(i,n)=>{t.push(Dc.of({from:i,to:n}))}),r.dispatch({effects:t}),!0},vI=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:pI},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:mI},{key:"Ctrl-Alt-[",run:gI},{key:"Ctrl-Alt-]",run:OI}],xI={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},w2=Ze.define({combine(r){return wn(r,xI)}});function k2(r){return[_o,SI]}function C2(r,e){let{state:t}=r,i=t.facet(w2),n=a=>{let o=r.lineBlockAt(r.posAtDOM(a.target)),l=Od(r.state,o.from,o.to);l&&r.dispatch({effects:Dc.of(l)}),a.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(r,n,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}const P_=it.replace({widget:new class extends kn{toDOM(r){return C2(r,null)}}});class yI extends kn{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return C2(e,this.value)}}const bI={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Pm extends Gn{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function _I(r={}){let e={...bI,...r},t=new Pm(e,!0),i=new Pm(e,!1),n=sr.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Ns)!=a.state.facet(Ns)||a.startState.field(_o,!1)!=a.state.field(_o,!1)||Bt(a.startState)!=Bt(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new bn;for(let l of a.viewportLineBlocks){let u=Od(a.state,l.from,l.to)?i:gd(a.state,l.from,l.to)?t:null;u&&o.add(l.from,l.from,u)}return o.finish()}}),{domEventHandlers:s}=e;return[n,b6({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(n))===null||o===void 0?void 0:o.markers)||Ct.empty},initialSpacer(){return new Pm(e,!1)},domEventHandlers:{...s,click:(a,o,l)=>{if(s.click&&s.click(a,o,l))return!0;let u=Od(a.state,o.from,o.to);if(u)return a.dispatch({effects:Dc.of(u)}),!0;let d=gd(a.state,o.from,o.to);return d?(a.dispatch({effects:Fd.of(d)}),!0):!1}}}),k2()]}const SI=De.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ic{constructor(e,t){this.specs=e;let i;function n(o){let l=$s.newName();return(i||(i=Object.create(null)))["."+l]=o,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,a=t.scope;this.scope=a instanceof Ei?o=>o.prop(uo)==a.data:a?o=>o==a:void 0,this.style=m2(e.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new $s(i):null,this.themeType=t.themeType}static define(e,t){return new Ic(e,t||{})}}const x0=Ze.define(),P2=Ze.define({combine(r){return r.length?[r[0]]:null}});function Tm(r){let e=r.facet(x0);return e.length?e:r.facet(P2)}function T2(r,e){let t=[kI],i;return r instanceof Ic&&(r.module&&t.push(De.styleModule.of(r.module)),i=r.themeType),e?.fallback?t.push(P2.of(r)):i?t.push(x0.computeN([De.darkTheme],n=>n.facet(De.darkTheme)==(i=="dark")?[r]:[])):t.push(x0.of(r)),t}class wI{constructor(e){this.markCache=Object.create(null),this.tree=Bt(e.state),this.decorations=this.buildDeco(e,Tm(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Bt(e.state),i=Tm(e.state),n=i!=Tm(e.startState),{viewport:s}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!n&&t.type==this.tree.type&&a>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return it.none;let i=new bn;for(let{from:n,to:s}of e.visibleRanges)Y6(this.tree,t,(a,o,l)=>{i.add(a,o,this.markCache[l]||(this.markCache[l]=it.mark({class:l})))},n,s);return i.finish()}}const kI=Kn.high(sr.fromClass(wI,{decorations:r=>r.decorations})),CI=Ic.define([{tag:Z.meta,color:"#404740"},{tag:Z.link,textDecoration:"underline"},{tag:Z.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Z.emphasis,fontStyle:"italic"},{tag:Z.strong,fontWeight:"bold"},{tag:Z.strikethrough,textDecoration:"line-through"},{tag:Z.keyword,color:"#708"},{tag:[Z.atom,Z.bool,Z.url,Z.contentSeparator,Z.labelName],color:"#219"},{tag:[Z.literal,Z.inserted],color:"#164"},{tag:[Z.string,Z.deleted],color:"#a11"},{tag:[Z.regexp,Z.escape,Z.special(Z.string)],color:"#e40"},{tag:Z.definition(Z.variableName),color:"#00f"},{tag:Z.local(Z.variableName),color:"#30a"},{tag:[Z.typeName,Z.namespace],color:"#085"},{tag:Z.className,color:"#167"},{tag:[Z.special(Z.variableName),Z.macroName],color:"#256"},{tag:Z.definition(Z.propertyName),color:"#00c"},{tag:Z.comment,color:"#940"},{tag:Z.invalid,color:"#f00"}]),PI=De.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),E2=1e4,Q2="()[]{}",R2=Ze.define({combine(r){return wn(r,{afterCursor:!0,brackets:Q2,maxScanDistance:E2,renderMatch:QI})}}),TI=it.mark({class:"cm-matchingBracket"}),EI=it.mark({class:"cm-nonmatchingBracket"});function QI(r){let e=[],t=r.matched?TI:EI;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const RI=Or.define({create(){return it.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],i=e.state.facet(R2);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=gn(e.state,n.head,-1,i)||n.head>0&&gn(e.state,n.head-1,1,i)||i.afterCursor&&(gn(e.state,n.head,1,i)||n.head<e.state.doc.length&&gn(e.state,n.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return it.set(t,!0)},provide:r=>De.decorations.from(r)}),$I=[RI,PI];function AI(r={}){return[R2.of(r),$I]}const $2=new pt;function y0(r,e,t){let i=r.prop(e<0?pt.openedBy:pt.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function b0(r){let e=r.type.prop($2);return e?e(r.node):r}function gn(r,e,t,i={}){let n=i.maxScanDistance||E2,s=i.brackets||Q2,a=Bt(r),o=a.resolveInner(e,t);for(let l=o;l;l=l.parent){let u=y0(l.type,t,s);if(u&&l.from<l.to){let d=b0(l);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return LI(r,e,t,l,d,u,s)}}return MI(r,e,t,a,o.type,n,s)}function LI(r,e,t,i,n,s,a){let o=i.parent,l={from:n.from,to:n.to},u=0,d=o?.cursor();if(d&&(t<0?d.childBefore(i.from):d.childAfter(i.to)))do if(t<0?d.to<=i.from:d.from>=i.to){if(u==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let f=b0(d);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(y0(d.type,t,a))u++;else if(y0(d.type,-t,a)){if(u==0){let f=b0(d);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(t<0?d.prevSibling():d.nextSibling());return{start:l,matched:!1}}function MI(r,e,t,i,n,s,a){let o=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},d=r.doc.iterRange(e,t>0?r.doc.length:0),f=0;for(let p=0;!d.next().done&&p<=s;){let v=d.value;t<0&&(p+=v.length);let S=e+p*t;for(let x=t>0?0:v.length-1,m=t>0?v.length:-1;x!=m;x+=t){let y=a.indexOf(v[x]);if(!(y<0||i.resolveInner(S+x,1).type!=n))if(y%2==0==t>0)f++;else{if(f==1)return{start:u,end:{from:S+x,to:S+x+1},matched:y>>1==l>>1};f--}}t>0&&(p+=v.length)}return d.done?{start:u,matched:!1}:null}const jI=Object.create(null),T_=[gr.none],E_=[],Q_=Object.create(null),NI=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])NI[r]=DI(jI,e);function Em(r,e){E_.indexOf(r)>-1||(E_.push(r),console.warn(e))}function DI(r,e){let t=[];for(let o of e.split(" ")){let l=[];for(let u of o.split(".")){let d=r[u]||Z[u];d?typeof d=="function"?l.length?l=l.map(d):Em(u,`Modifier ${u} used at start of tag`):l.length?Em(u,`Tag ${u} used as modifier`):l=Array.isArray(d)?d:[d]:Em(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),n=i+" "+t.map(o=>o.id),s=Q_[n];if(s)return s.id;let a=Q_[n]=gr.define({id:T_.length,name:i,props:[Bs({[i]:t})]});return T_.push(a),a.id}Ut.RTL,Ut.LTR;const II=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),i=LO(r.state,t.from);return i.line?BI(r):i.block?qI(r):!1};function AO(r,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=r(e,t);return n?(i(t.update(n)),!0):!1}}const BI=AO(FI,0),zI=AO(A2,0),qI=AO((r,e)=>A2(r,e,WI(e)),0);function LO(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Nl=50;function XI(r,{open:e,close:t},i,n){let s=r.sliceDoc(i-Nl,i),a=r.sliceDoc(n,n+Nl),o=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(a)[0].length,u=s.length-o;if(s.slice(u-e.length,u)==e&&a.slice(l,l+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:n+l,margin:l&&1}};let d,f;n-i<=2*Nl?d=f=r.sliceDoc(i,n):(d=r.sliceDoc(i,i+Nl),f=r.sliceDoc(n-Nl,n));let p=/^\s*/.exec(d)[0].length,v=/\s*$/.exec(f)[0].length,S=f.length-v-t.length;return d.slice(p,p+e.length)==e&&f.slice(S,S+t.length)==t?{open:{pos:i+p+e.length,margin:/\s/.test(d.charAt(p+e.length))?1:0},close:{pos:n-v-t.length,margin:/\s/.test(f.charAt(S-1))?1:0}}:null}function WI(r){let e=[];for(let t of r.selection.ranges){let i=r.doc.lineAt(t.from),n=t.to<=i.to?i:r.doc.lineAt(t.to);n.from>i.from&&n.from==t.to&&(n=t.to==i.to+1?i:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:n.to})}return e}function A2(r,e,t=e.selection.ranges){let i=t.map(s=>LO(e,s.from).block);if(!i.every(s=>s))return null;let n=t.map((s,a)=>XI(e,i[a],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,a)=>n[a]?[]:[{from:s.from,insert:i[a].open+" "},{from:s.to,insert:" "+i[a].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let a=0,o;a<n.length;a++)if(o=n[a]){let l=i[a],{open:u,close:d}=o;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+l.close.length})}return{changes:s}}return null}function FI(r,e,t=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:a}of t){let o=i.length,l=1e9,u=LO(e,s).line;if(u){for(let d=s;d<=a;){let f=e.doc.lineAt(d);if(f.from>n&&(s==a||a>f.from)){n=f.from;let p=/^\s*/.exec(f.text)[0].length,v=p==f.length,S=f.text.slice(p,p+u.length)==u?p:-1;p<f.text.length&&p<l&&(l=p),i.push({line:f,comment:S,token:u,indent:p,empty:v,single:!1})}d=f.to+1}if(l<1e9)for(let d=o;d<i.length;d++)i[d].indent<i[d].line.text.length&&(i[d].indent=l);i.length==o+1&&(i[o].single=!0)}}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:l,indent:u,empty:d,single:f}of i)(f||!d)&&s.push({from:o.from+u,insert:l+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:o,token:l}of i)if(o>=0){let u=a.from+o,d=u+l.length;a.text[d-a.from]==" "&&d++,s.push({from:u,to:d})}return{changes:s}}return null}const _0=Sn.define(),ZI=Sn.define(),VI=Ze.define(),L2=Ze.define({combine(r){return wn(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,n)=>e(i,n)||t(i,n)})}}),M2=Or.define({create(){return On.empty},update(r,e){let t=e.state.facet(L2),i=e.annotation(_0);if(i){let l=ni.fromTransaction(e,i.selection),u=i.side,d=u==0?r.undone:r.done;return l?d=vd(d,d.length,t.minDepth,l):d=D2(d,e.startState.selection),new On(u==0?i.rest:d,u==0?d:i.rest)}let n=e.annotation(ZI);if((n=="full"||n=="before")&&(r=r.isolate()),e.annotation(cr.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=ni.fromTransaction(e),a=e.annotation(cr.time),o=e.annotation(cr.userEvent);return s?r=r.addChanges(s,a,o,t,e):e.selection&&(r=r.addSelection(e.startState.selection,a,o,t.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new On(r.done.map(ni.fromJSON),r.undone.map(ni.fromJSON))}});function UI(r={}){return[M2,L2.of(r),De.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?j2:e.inputType=="historyRedo"?S0:null;return i?(e.preventDefault(),i(t)):!1}})]}function Zd(r,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let n=t.field(M2,!1);if(!n)return!1;let s=n.pop(r,t,e);return s?(i(s),!0):!1}}const j2=Zd(0,!1),S0=Zd(1,!1),HI=Zd(0,!0),YI=Zd(1,!0);class ni{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new ni(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new ni(e.changes&&pr.fromJSON(e.changes),[],e.mapped&&vn.fromJSON(e.mapped),e.startSelection&&ye.fromJSON(e.startSelection),e.selectionsAfter.map(ye.fromJSON))}static fromTransaction(e,t){let i=Qi;for(let n of e.startState.facet(VI)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new ni(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Qi)}static selection(e){return new ni(void 0,Qi,void 0,void 0,e)}}function vd(r,e,t,i){let n=e+1>t+20?e-t-1:0,s=r.slice(n,e);return s.push(i),s}function GI(r,e){let t=[],i=!1;return r.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,a,o)=>{for(let l=0;l<t.length;){let u=t[l++],d=t[l++];o>=u&&a<=d&&(i=!0)}}),i}function KI(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function N2(r,e){return r.length?e.length?r.concat(e):r:e}const Qi=[],JI=200;function D2(r,e){if(r.length){let t=r[r.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-JI));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),vd(r,r.length-1,1e9,t.setSelAfter(i)))}else return[ni.selection([e])]}function e7(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Qm(r,e){if(!r.length)return r;let t=r.length,i=Qi;for(;t;){let n=t7(r[t-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,i=n.selectionsAfter}return i.length?[ni.selection(i)]:Qi}function t7(r,e,t){let i=N2(r.selectionsAfter.length?r.selectionsAfter.map(o=>o.map(e)):Qi,t);if(!r.changes)return ni.selection(i);let n=r.changes.map(e),s=e.mapDesc(r.changes,!0),a=r.mapped?r.mapped.composeDesc(s):s;return new ni(n,ft.mapEffects(r.effects,e),a,r.startSelection.map(s),i)}const r7=/^(input\.type|delete)($|\.)/;class On{constructor(e,t,i=0,n=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new On(this.done,this.undone):this}addChanges(e,t,i,n,s){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||r7.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,GI(o.changes,e.changes))||i=="input.type.compose")?a=vd(a,a.length-1,n.minDepth,new ni(e.changes.compose(o.changes),N2(ft.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Qi)):a=vd(a,a.length,n.minDepth,e),new On(a,Qi,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Qi;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&KI(s[s.length-1],e)?this:new On(D2(this.done,e),this.undone,t,i)}addMapping(e){return new On(Qm(this.done,e),Qm(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1],a=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:_0.of({side:e,rest:e7(n),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=n.length==1?Qi:n.slice(0,n.length-1);return s.mapped&&(o=Qm(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:_0.of({side:e,rest:o,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}On.empty=new On(Qi,Qi);const i7=[{key:"Mod-z",run:j2,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:S0,preventDefault:!0},{linux:"Ctrl-Shift-z",run:S0,preventDefault:!0},{key:"Mod-u",run:HI,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:YI,preventDefault:!0}];function za(r,e){return ye.create(r.ranges.map(e),r.mainIndex)}function Cn(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Hi({state:r,dispatch:e},t){let i=za(r.selection,t);return i.eq(r.selection,!0)?!1:(e(Cn(r,i)),!0)}function Vd(r,e){return ye.cursor(e?r.to:r.from)}function I2(r,e){return Hi(r,t=>t.empty?r.moveByChar(t,e):Vd(t,e))}function Br(r){return r.textDirectionAt(r.state.selection.main.head)==Ut.LTR}const B2=r=>I2(r,!Br(r)),z2=r=>I2(r,Br(r));function q2(r,e){return Hi(r,t=>t.empty?r.moveByGroup(t,e):Vd(t,e))}const n7=r=>q2(r,!Br(r)),s7=r=>q2(r,Br(r));function o7(r,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Ud(r,e,t){let i=Bt(r).resolveInner(e.head),n=t?pt.closedBy:pt.openedBy;for(let l=e.head;;){let u=t?i.childAfter(l):i.childBefore(l);if(!u)break;o7(r,u,n)?i=u:l=t?u.to:u.from}let s=i.type.prop(n),a,o;return s&&(a=t?gn(r,i.from,1):gn(r,i.to,-1))&&a.matched?o=t?a.end.to:a.end.from:o=t?i.to:i.from,ye.cursor(o,t?-1:1)}const a7=r=>Hi(r,e=>Ud(r.state,e,!Br(r))),l7=r=>Hi(r,e=>Ud(r.state,e,Br(r)));function X2(r,e){return Hi(r,t=>{if(!t.empty)return Vd(t,e);let i=r.moveVertically(t,e);return i.head!=t.head?i:r.moveToLineBoundary(t,e)})}const W2=r=>X2(r,!1),F2=r=>X2(r,!0);function Z2(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,i=0,n;if(e){for(let s of r.state.facet(De.scrollMargins)){let a=s(r);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(i=Math.max(a?.bottom,i))}n=r.scrollDOM.clientHeight-t-i}else n=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,n-5)}}function V2(r,e){let t=Z2(r),{state:i}=r,n=za(i.selection,a=>a.empty?r.moveVertically(a,e,t.height):Vd(a,e));if(n.eq(i.selection))return!1;let s;if(t.selfScroll){let a=r.coordsAtPos(i.selection.main.head),o=r.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,u=o.bottom-t.marginBottom;a&&a.top>l&&a.bottom<u&&(s=De.scrollIntoView(n.main.head,{y:"start",yMargin:a.top-l}))}return r.dispatch(Cn(i,n),{effects:s}),!0}const R_=r=>V2(r,!1),w0=r=>V2(r,!0);function qs(r,e,t){let i=r.lineBlockAt(e.head),n=r.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?i.to:i.from)&&(n=r.moveToLineBoundary(e,t,!1)),!t&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=ye.cursor(i.from+s))}return n}const c7=r=>Hi(r,e=>qs(r,e,!0)),h7=r=>Hi(r,e=>qs(r,e,!1)),u7=r=>Hi(r,e=>qs(r,e,!Br(r))),d7=r=>Hi(r,e=>qs(r,e,Br(r))),f7=r=>Hi(r,e=>ye.cursor(r.lineBlockAt(e.head).from,1)),p7=r=>Hi(r,e=>ye.cursor(r.lineBlockAt(e.head).to,-1));function m7(r,e,t){let i=!1,n=za(r.selection,s=>{let a=gn(r,s.head,-1)||gn(r,s.head,1)||s.head>0&&gn(r,s.head-1,1)||s.head<r.doc.length&&gn(r,s.head+1,-1);if(!a||!a.end)return s;i=!0;let o=a.start.from==s.head?a.end.to:a.end.from;return ye.cursor(o)});return i?(e(Cn(r,n)),!0):!1}const g7=({state:r,dispatch:e})=>m7(r,e);function Li(r,e){let t=za(r.state.selection,i=>{let n=e(i);return ye.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Cn(r.state,t)),!0)}function U2(r,e){return Li(r,t=>r.moveByChar(t,e))}const H2=r=>U2(r,!Br(r)),Y2=r=>U2(r,Br(r));function G2(r,e){return Li(r,t=>r.moveByGroup(t,e))}const O7=r=>G2(r,!Br(r)),v7=r=>G2(r,Br(r)),x7=r=>Li(r,e=>Ud(r.state,e,!Br(r))),y7=r=>Li(r,e=>Ud(r.state,e,Br(r)));function K2(r,e){return Li(r,t=>r.moveVertically(t,e))}const J2=r=>K2(r,!1),e5=r=>K2(r,!0);function t5(r,e){return Li(r,t=>r.moveVertically(t,e,Z2(r).height))}const $_=r=>t5(r,!1),A_=r=>t5(r,!0),b7=r=>Li(r,e=>qs(r,e,!0)),_7=r=>Li(r,e=>qs(r,e,!1)),S7=r=>Li(r,e=>qs(r,e,!Br(r))),w7=r=>Li(r,e=>qs(r,e,Br(r))),k7=r=>Li(r,e=>ye.cursor(r.lineBlockAt(e.head).from)),C7=r=>Li(r,e=>ye.cursor(r.lineBlockAt(e.head).to)),L_=({state:r,dispatch:e})=>(e(Cn(r,{anchor:0})),!0),M_=({state:r,dispatch:e})=>(e(Cn(r,{anchor:r.doc.length})),!0),j_=({state:r,dispatch:e})=>(e(Cn(r,{anchor:r.selection.main.anchor,head:0})),!0),N_=({state:r,dispatch:e})=>(e(Cn(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),P7=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),T7=({state:r,dispatch:e})=>{let t=Hd(r).map(({from:i,to:n})=>ye.range(i,Math.min(n+1,r.doc.length)));return e(r.update({selection:ye.create(t),userEvent:"select"})),!0},E7=({state:r,dispatch:e})=>{let t=za(r.selection,i=>{let n=Bt(r),s=n.resolveStack(i.from,1);if(i.empty){let a=n.resolveStack(i.from,-1);a.node.from>=s.node.from&&a.node.to<=s.node.to&&(s=a)}for(let a=s;a;a=a.next){let{node:o}=a;if((o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from)&&a.next)return ye.range(o.to,o.from)}return i});return t.eq(r.selection)?!1:(e(Cn(r,t)),!0)},Q7=({state:r,dispatch:e})=>{let t=r.selection,i=null;return t.ranges.length>1?i=ye.create([t.main]):t.main.empty||(i=ye.create([ye.cursor(t.main.head)])),i?(e(Cn(r,i)),!0):!1};function Bc(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:i}=r,n=i.changeByRange(s=>{let{from:a,to:o}=s;if(a==o){let l=e(s);l<a?(t="delete.backward",l=wu(r,l,!1)):l>a&&(t="delete.forward",l=wu(r,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=wu(r,a,!1),o=wu(r,o,!0);return a==o?{range:s}:{changes:{from:a,to:o},range:ye.cursor(a,a<s.head?-1:1)}});return n.changes.empty?!1:(r.dispatch(i.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?De.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function wu(r,e,t){if(r instanceof De)for(let i of r.state.facet(De.atomicRanges).map(n=>n(r)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const r5=(r,e,t)=>Bc(r,i=>{let n=i.from,{state:s}=r,a=s.doc.lineAt(n),o,l;if(t&&!e&&n>a.from&&n<a.from+200&&!/[^ \t]/.test(o=a.text.slice(0,n-a.from))){if(o[o.length-1]=="	")return n-1;let u=Zi(o,s.tabSize),d=u%md(s)||md(s);for(let f=0;f<d&&o[o.length-1-f]==" ";f++)n--;l=n}else l=Er(a.text,n-a.from,e,e)+a.from,l==n&&a.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(l-a.from,n-a.from))&&(l=Er(a.text,l-a.from,!1,!1)+a.from);return l}),k0=r=>r5(r,!1,!0),i5=r=>r5(r,!0,!1),n5=(r,e)=>Bc(r,t=>{let i=t.head,{state:n}=r,s=n.doc.lineAt(i),a=n.charCategorizer(i);for(let o=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=Er(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),d=a(u);if(o!=null&&d!=o)break;(u!=" "||i!=t.head)&&(o=d),i=l}return i}),s5=r=>n5(r,!1),R7=r=>n5(r,!0),$7=r=>Bc(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),A7=r=>Bc(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),L7=r=>Bc(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),M7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:wt.of(["",""])},range:ye.cursor(i.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},j7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),a=n==s.from?n-1:Er(s.text,n-s.from,!1)+s.from,o=n==s.to?n+1:Er(s.text,n-s.from,!0)+s.from;return{changes:{from:a,to:o,insert:r.doc.slice(n,o).append(r.doc.slice(a,n))},range:ye.cursor(o)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Hd(r){let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),t>=n.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});t=s.number+1}return e}function o5(r,e,t){if(r.readOnly)return!1;let i=[],n=[];for(let s of Hd(r)){if(t?s.to==r.doc.length:s.from==0)continue;let a=r.doc.lineAt(t?s.to+1:s.from-1),o=a.length+1;if(t){i.push({from:s.to,to:a.to},{from:s.from,insert:a.text+r.lineBreak});for(let l of s.ranges)n.push(ye.range(Math.min(r.doc.length,l.anchor+o),Math.min(r.doc.length,l.head+o)))}else{i.push({from:a.from,to:s.from},{from:s.to,insert:r.lineBreak+a.text});for(let l of s.ranges)n.push(ye.range(l.anchor-o,l.head-o))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:ye.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const N7=({state:r,dispatch:e})=>o5(r,e,!1),D7=({state:r,dispatch:e})=>o5(r,e,!0);function a5(r,e,t){if(r.readOnly)return!1;let i=[];for(let n of Hd(r))t?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const I7=({state:r,dispatch:e})=>a5(r,e,!1),B7=({state:r,dispatch:e})=>a5(r,e,!0),z7=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Hd(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=za(e.selection,n=>{let s;if(r.lineWrapping){let a=r.lineBlockAt(n.head),o=r.coordsAtPos(n.head,n.assoc||1);o&&(s=a.bottom+r.documentTop-o.bottom+r.defaultLineHeight/2)}return r.moveVertically(n,!0,s)}).map(t);return r.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function q7(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Bt(r).resolveInner(e),i=t.childBefore(e),n=t.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(pt.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from&&!/\S/.test(r.sliceDoc(i.to,n.from))?{from:i.to,to:n.from}:null}const D_=l5(!1),X7=l5(!0);function l5(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:a}=n,o=e.doc.lineAt(s),l=!r&&s==a&&q7(e,s);r&&(s=a=(a<=o.to?o:e.doc.lineAt(a)).to);let u=new Xd(e,{simulateBreak:s,simulateDoubleBreak:!!l}),d=RO(u,s);for(d==null&&(d=Zi(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:s,to:a}=l:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let f=["",xc(e,d)];return l&&f.push(xc(e,u.lineIndent(o.from,-1))),{changes:{from:s,to:a,insert:wt.of(f)},range:ye.cursor(s+1+f[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function MO(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let a=i.from;a<=i.to;){let o=r.doc.lineAt(a);o.number>t&&(i.empty||i.to>o.from)&&(e(o,n,i),t=o.number),a=o.to+1}let s=r.changes(n);return{changes:n,range:ye.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const W7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),i=new Xd(r,{overrideIndentation:s=>{let a=t[s];return a??-1}}),n=MO(r,(s,a,o)=>{let l=RO(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],d=xc(r,l);(u!=d||o.from<s.from+u.length)&&(t[s.from]=l,a.push({from:s.from,to:s.from+u.length,insert:d}))});return n.changes.empty||e(r.update(n,{userEvent:"indent"})),!0},c5=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(MO(r,(t,i)=>{i.push({from:t.from,insert:r.facet(Ba)})}),{userEvent:"input.indent"})),!0),h5=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(MO(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=Zi(n,r.tabSize),a=0,o=xc(r,Math.max(0,s-md(r)));for(;a<n.length&&a<o.length&&n.charCodeAt(a)==o.charCodeAt(a);)a++;i.push({from:t.from+a,to:t.from+n.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),F7=r=>(r.setTabFocusMode(),!0),Z7=[{key:"Ctrl-b",run:B2,shift:H2,preventDefault:!0},{key:"Ctrl-f",run:z2,shift:Y2},{key:"Ctrl-p",run:W2,shift:J2},{key:"Ctrl-n",run:F2,shift:e5},{key:"Ctrl-a",run:f7,shift:k7},{key:"Ctrl-e",run:p7,shift:C7},{key:"Ctrl-d",run:i5},{key:"Ctrl-h",run:k0},{key:"Ctrl-k",run:$7},{key:"Ctrl-Alt-h",run:s5},{key:"Ctrl-o",run:M7},{key:"Ctrl-t",run:j7},{key:"Ctrl-v",run:w0}],V7=[{key:"ArrowLeft",run:B2,shift:H2,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n7,shift:O7,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:u7,shift:S7,preventDefault:!0},{key:"ArrowRight",run:z2,shift:Y2,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:s7,shift:v7,preventDefault:!0},{mac:"Cmd-ArrowRight",run:d7,shift:w7,preventDefault:!0},{key:"ArrowUp",run:W2,shift:J2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:L_,shift:j_},{mac:"Ctrl-ArrowUp",run:R_,shift:$_},{key:"ArrowDown",run:F2,shift:e5,preventDefault:!0},{mac:"Cmd-ArrowDown",run:M_,shift:N_},{mac:"Ctrl-ArrowDown",run:w0,shift:A_},{key:"PageUp",run:R_,shift:$_},{key:"PageDown",run:w0,shift:A_},{key:"Home",run:h7,shift:_7,preventDefault:!0},{key:"Mod-Home",run:L_,shift:j_},{key:"End",run:c7,shift:b7,preventDefault:!0},{key:"Mod-End",run:M_,shift:N_},{key:"Enter",run:D_,shift:D_},{key:"Mod-a",run:P7},{key:"Backspace",run:k0,shift:k0},{key:"Delete",run:i5},{key:"Mod-Backspace",mac:"Alt-Backspace",run:s5},{key:"Mod-Delete",mac:"Alt-Delete",run:R7},{mac:"Mod-Backspace",run:A7},{mac:"Mod-Delete",run:L7}].concat(Z7.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),U7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:a7,shift:x7},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:l7,shift:y7},{key:"Alt-ArrowUp",run:N7},{key:"Shift-Alt-ArrowUp",run:I7},{key:"Alt-ArrowDown",run:D7},{key:"Shift-Alt-ArrowDown",run:B7},{key:"Escape",run:Q7},{key:"Mod-Enter",run:X7},{key:"Alt-l",mac:"Ctrl-l",run:T7},{key:"Mod-i",run:E7,preventDefault:!0},{key:"Mod-[",run:h5},{key:"Mod-]",run:c5},{key:"Mod-Alt-\\",run:W7},{key:"Shift-Mod-k",run:z7},{key:"Shift-Mod-\\",run:g7},{key:"Mod-/",run:II},{key:"Alt-A",run:zI},{key:"Ctrl-m",mac:"Shift-Alt-m",run:F7}].concat(V7),H7={key:"Tab",run:c5,shift:h5},I_=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Ta{constructor(e,t,i=0,n=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=s?o=>s(I_(o)):I_,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ei(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=lO(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=fn(e);let n=this.normalize(t);if(n.length)for(let s=0,a=i;;s++){let o=n.charCodeAt(s),l=this.match(o,a,this.bufferPos+this.bufferStart);if(s==n.length-1){if(l)return this.value=l,this;break}a==i&&s<t.length&&t.charCodeAt(s)==o&&a++}}}match(e,t,i){let n=null;for(let s=0;s<this.matches.length;s+=2){let a=this.matches[s],o=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?n={from:this.matches[s+1],to:i}:(this.matches[s]++,o=!0)),o||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:i}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(Ta.prototype[Symbol.iterator]=function(){return this});const u5={from:-1,to:-1,match:/.*/.exec("")},jO="gm"+(/x/.unicode==null?"":"u");class d5{constructor(e,t,i,n=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=u5,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new f5(e,t,i,n,s);this.re=new RegExp(t,jO+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let a=e.lineAt(n);this.curLineStart=a.from,this.matchPos=xd(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,n=i+t[0].length;if(this.matchPos=xd(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Rm=new WeakMap;class Oa{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let n=Rm.get(e);if(!n||n.from>=i||n.to<=t){let o=new Oa(t,e.sliceString(t,i));return Rm.set(e,o),o}if(n.from==t&&n.to==i)return n;let{text:s,from:a}=n;return a>t&&(s=e.sliceString(t,a)+s,a=t),n.to<i&&(s+=e.sliceString(n.to,i)),Rm.set(e,new Oa(a,s)),new Oa(t,s.slice(t-a,i-a))}}class f5{constructor(e,t,i,n,s){this.text=e,this.to=s,this.done=!1,this.value=u5,this.matchPos=xd(e,n),this.re=new RegExp(t,jO+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Oa.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,n=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this.matchPos=xd(this.text,n+(i==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Oa.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(d5.prototype[Symbol.iterator]=f5.prototype[Symbol.iterator]=function(){return this});function Y7(r){try{return new RegExp(r,jO),!0}catch{return!1}}function xd(r,e){if(e>=r.length)return e;let t=r.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function C0(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=jt("input",{class:"cm-textfield",name:"line",value:e}),i=jt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:tc.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},jt("label",r.state.phrase("Go to line"),": ",t)," ",jt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),jt("button",{name:"close",onclick:()=>{r.dispatch({effects:tc.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:a}=r,o=a.doc.lineAt(a.selection.main.head),[,l,u,d,f]=s,p=d?+d.slice(1):0,v=u?+u:o.number;if(u&&f){let m=v/100;l&&(m=m*(l=="-"?-1:1)+o.number/a.doc.lines),v=Math.round(a.doc.lines*m)}else u&&l&&(v=v*(l=="-"?-1:1)+o.number);let S=a.doc.line(Math.max(1,Math.min(a.doc.lines,v))),x=ye.cursor(S.from+Math.max(0,Math.min(p,S.length)));r.dispatch({effects:[tc.of(!1),De.scrollIntoView(x.from,{y:"center"})],selection:x}),r.focus()}return{dom:i}}const tc=ft.define(),B_=Or.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(tc)&&(r=t.value);return r},provide:r=>mc.from(r,e=>e?C0:null)}),G7=r=>{let e=pc(r,C0);if(!e){let t=[tc.of(!0)];r.state.field(B_,!1)==null&&t.push(ft.appendConfig.of([B_,K7])),r.dispatch({effects:t}),e=pc(r,C0)}return e&&e.dom.querySelector("input").select(),!0},K7=De.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),J7={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},eB=Ze.define({combine(r){return wn(r,J7,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function tB(r){return[oB,sB]}const rB=it.mark({class:"cm-selectionMatch"}),iB=it.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function z_(r,e,t,i){return(t==0||r(e.sliceDoc(t-1,t))!=Yt.Word)&&(i==e.doc.length||r(e.sliceDoc(i,i+1))!=Yt.Word)}function nB(r,e,t,i){return r(e.sliceDoc(t,t+1))==Yt.Word&&r(e.sliceDoc(i-1,i))==Yt.Word}const sB=sr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(eB),{state:t}=r,i=t.selection;if(i.ranges.length>1)return it.none;let n=i.main,s,a=null;if(n.empty){if(!e.highlightWordAroundCursor)return it.none;let l=t.wordAt(n.head);if(!l)return it.none;a=t.charCategorizer(n.head),s=t.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return it.none;if(e.wholeWords){if(s=t.sliceDoc(n.from,n.to),a=t.charCategorizer(n.head),!(z_(a,t,n.from,n.to)&&nB(a,t,n.from,n.to)))return it.none}else if(s=t.sliceDoc(n.from,n.to),!s)return it.none}let o=[];for(let l of r.visibleRanges){let u=new Ta(t.doc,s,l.from,l.to);for(;!u.next().done;){let{from:d,to:f}=u.value;if((!a||z_(a,t,d,f))&&(n.empty&&d<=n.from&&f>=n.to?o.push(iB.range(d,f)):(d>=n.to||f<=n.from)&&o.push(rB.range(d,f)),o.length>e.maxMatches))return it.none}}return it.set(o)}},{decorations:r=>r.decorations}),oB=De.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),aB=({state:r,dispatch:e})=>{let{selection:t}=r,i=ye.create(t.ranges.map(n=>r.wordAt(n.head)||ye.cursor(n.head)),t.mainIndex);return i.eq(t)?!1:(e(r.update({selection:i})),!0)};function lB(r,e){let{main:t,ranges:i}=r.selection,n=r.wordAt(t.head),s=n&&n.from==t.from&&n.to==t.to;for(let a=!1,o=new Ta(r.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new Ta(r.doc,e,0,Math.max(0,i[i.length-1].from-1)),a=!0}else{if(a&&i.some(l=>l.from==o.value.from))continue;if(s){let l=r.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const cB=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return aB({state:r,dispatch:e});let i=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=i))return!1;let n=lB(r,i);return n?(e(r.update({selection:r.selection.addRange(ye.range(n.from,n.to),!1),effects:De.scrollIntoView(n.to)})),!0):!1},qa=Ze.define({combine(r){return wn(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new bB(e),scrollToMatch:e=>De.scrollIntoView(e)})}});class p5{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Y7(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new fB(this):new uB(this)}getCursor(e,t=0,i){let n=e.doc?e:yt.create({doc:e});return i==null&&(i=n.doc.length),this.regexp?na(this,n,t,i):ia(this,n,t,i)}}class m5{constructor(e){this.spec=e}}function ia(r,e,t,i){return new Ta(e.doc,r.unquoted,t,i,r.caseSensitive?void 0:n=>n.toLowerCase(),r.wholeWord?hB(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function hB(r,e){return(t,i,n,s)=>((s>t||s+n.length<i)&&(s=Math.max(0,t-2),n=r.sliceString(s,Math.min(r.length,i+2))),(e(yd(n,t-s))!=Yt.Word||e(bd(n,t-s))!=Yt.Word)&&(e(bd(n,i-s))!=Yt.Word||e(yd(n,i-s))!=Yt.Word))}class uB extends m5{constructor(e){super(e)}nextMatch(e,t,i){let n=ia(this.spec,e,i,e.doc.length).nextOverlapping();if(n.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);n=ia(this.spec,e,0,s).nextOverlapping()}return n.done||n.value.from==t&&n.value.to==i?null:n.value}prevMatchInRange(e,t,i){for(let n=i;;){let s=Math.max(t,n-1e4-this.spec.unquoted.length),a=ia(this.spec,e,s,n),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(s==t)return null;n-=1e4}}prevMatch(e,t,i){let n=this.prevMatchInRange(e,0,t);return n||(n=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=t||n.to!=i)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=ia(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=ia(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}function na(r,e,t,i){return new d5(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?dB(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function yd(r,e){return r.slice(Er(r,e,!1),e)}function bd(r,e){return r.slice(e,Er(r,e))}function dB(r){return(e,t,i)=>!i[0].length||(r(yd(i.input,i.index))!=Yt.Word||r(bd(i.input,i.index))!=Yt.Word)&&(r(bd(i.input,i.index+i[0].length))!=Yt.Word||r(yd(i.input,i.index+i[0].length))!=Yt.Word)}class fB extends m5{nextMatch(e,t,i){let n=na(this.spec,e,i,e.doc.length).next();return n.done&&(n=na(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=1;;n++){let s=Math.max(t,i-n*1e4),a=na(this.spec,e,s,i),o=null;for(;!a.next().done;)o=a.value;if(o&&(s==t||o.from>s+10))return o;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let n=i.length;n>0;n--){let s=+i.slice(0,n);if(s>0&&s<e.match.length)return e.match[s]+i.slice(n)}return t})}matchAll(e,t){let i=na(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=na(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}const yc=ft.define(),NO=ft.define(),Rs=Or.define({create(r){return new $m(P0(r).create(),null)},update(r,e){for(let t of e.effects)t.is(yc)?r=new $m(t.value.create(),r.panel):t.is(NO)&&(r=new $m(r.query,t.value?DO:null));return r},provide:r=>mc.from(r,e=>e.panel)});class $m{constructor(e,t){this.query=e,this.panel=t}}const pB=it.mark({class:"cm-searchMatch"}),mB=it.mark({class:"cm-searchMatch cm-searchMatch-selected"}),gB=sr.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Rs))}update(r){let e=r.state.field(Rs);(e!=r.startState.field(Rs)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return it.none;let{view:t}=this,i=new bn;for(let n=0,s=t.visibleRanges,a=s.length;n<a;n++){let{from:o,to:l}=s[n];for(;n<a-1&&l>s[n+1].from-2*250;)l=s[++n].to;r.highlight(t.state,o,l,(u,d)=>{let f=t.state.selection.ranges.some(p=>p.from==u&&p.to==d);i.add(u,d,f?mB:pB)})}return i.finish()}},{decorations:r=>r.decorations});function zc(r){return e=>{let t=e.state.field(Rs,!1);return t&&t.query.spec.valid?r(e,t):v5(e)}}const _d=zc((r,{query:e})=>{let{to:t}=r.state.selection.main,i=e.nextMatch(r.state,t,t);if(!i)return!1;let n=ye.single(i.from,i.to),s=r.state.facet(qa);return r.dispatch({selection:n,effects:[IO(r,i),s.scrollToMatch(n.main,r)],userEvent:"select.search"}),O5(r),!0}),Sd=zc((r,{query:e})=>{let{state:t}=r,{from:i}=t.selection.main,n=e.prevMatch(t,i,i);if(!n)return!1;let s=ye.single(n.from,n.to),a=r.state.facet(qa);return r.dispatch({selection:s,effects:[IO(r,n),a.scrollToMatch(s.main,r)],userEvent:"select.search"}),O5(r),!0}),OB=zc((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:ye.create(t.map(i=>ye.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),vB=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:n}=t.main,s=[],a=0;for(let o=new Ta(r.doc,r.sliceDoc(i,n));!o.next().done;){if(s.length>1e3)return!1;o.value.from==i&&(a=s.length),s.push(ye.range(o.value.from,o.value.to))}return e(r.update({selection:ye.create(s,a),userEvent:"select.search.matches"})),!0},q_=zc((r,{query:e})=>{let{state:t}=r,{from:i,to:n}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let a=s,o=[],l,u,d=[];a.from==i&&a.to==n&&(u=t.toText(e.getReplacement(a)),o.push({from:a.from,to:a.to,insert:u}),a=e.nextMatch(t,a.from,a.to),d.push(De.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let f=r.state.changes(o);return a&&(l=ye.single(a.from,a.to).map(f),d.push(IO(r,a)),d.push(t.facet(qa).scrollToMatch(l.main,r))),r.dispatch({changes:f,selection:l,effects:d,userEvent:"input.replace"}),!0}),xB=zc((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(n=>{let{from:s,to:a}=n;return{from:s,to:a,insert:e.getReplacement(n)}});if(!t.length)return!1;let i=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:De.announce.of(i),userEvent:"input.replace.all"}),!0});function DO(r){return r.state.facet(qa).createPanel(r)}function P0(r,e){var t,i,n,s,a;let o=r.selection.main,l=o.empty||o.to>o.from+100?"":r.sliceDoc(o.from,o.to);if(e&&!l)return e;let u=r.facet(qa);return new p5({search:((t=e?.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:u.caseSensitive,literal:(n=e?.literal)!==null&&n!==void 0?n:u.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:u.wholeWord})}function g5(r){let e=pc(r,DO);return e&&e.dom.querySelector("[main-field]")}function O5(r){let e=g5(r);e&&e==r.root.activeElement&&e.select()}const v5=r=>{let e=r.state.field(Rs,!1);if(e&&e.panel){let t=g5(r);if(t&&t!=r.root.activeElement){let i=P0(r.state,e.query.spec);i.valid&&r.dispatch({effects:yc.of(i)}),t.focus(),t.select()}}else r.dispatch({effects:[NO.of(!0),e?yc.of(P0(r.state,e.query.spec)):ft.appendConfig.of(SB)]});return!0},x5=r=>{let e=r.state.field(Rs,!1);if(!e||!e.panel)return!1;let t=pc(r,DO);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:NO.of(!1)}),!0},yB=[{key:"Mod-f",run:v5,scope:"editor search-panel"},{key:"F3",run:_d,shift:Sd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:_d,shift:Sd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:x5,scope:"editor search-panel"},{key:"Mod-Shift-l",run:vB},{key:"Mod-Alt-g",run:G7},{key:"Mod-d",run:cB,preventDefault:!0}];class bB{constructor(e){this.view=e;let t=this.query=e.state.field(Rs).query.spec;this.commit=this.commit.bind(this),this.searchField=jt("input",{value:t.search,placeholder:di(e,"Find"),"aria-label":di(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=jt("input",{value:t.replace,placeholder:di(e,"Replace"),"aria-label":di(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=jt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=jt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=jt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(n,s,a){return jt("button",{class:"cm-button",name:n,onclick:s,type:"button"},a)}this.dom=jt("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,i("next",()=>_d(e),[di(e,"next")]),i("prev",()=>Sd(e),[di(e,"previous")]),i("select",()=>OB(e),[di(e,"all")]),jt("label",null,[this.caseField,di(e,"match case")]),jt("label",null,[this.reField,di(e,"regexp")]),jt("label",null,[this.wordField,di(e,"by word")]),...e.state.readOnly?[]:[jt("br"),this.replaceField,i("replace",()=>q_(e),[di(e,"replace")]),i("replaceAll",()=>xB(e),[di(e,"replace all")])],jt("button",{name:"close",onclick:()=>x5(e),"aria-label":di(e,"close"),type:"button"},[""])])}commit(){let e=new p5({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:yc.of(e)}))}keydown(e){ED(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Sd:_d)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),q_(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(yc)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(qa).top}}function di(r,e){return r.state.phrase(e)}const ku=30,Cu=/[\s\.,:;?!]/;function IO(r,{from:e,to:t}){let i=r.state.doc.lineAt(e),n=r.state.doc.lineAt(t).to,s=Math.max(i.from,e-ku),a=Math.min(n,t+ku),o=r.state.sliceDoc(s,a);if(s!=i.from){for(let l=0;l<ku;l++)if(!Cu.test(o[l+1])&&Cu.test(o[l])){o=o.slice(l);break}}if(a!=n){for(let l=o.length-1;l>o.length-ku;l--)if(!Cu.test(o[l-1])&&Cu.test(o[l])){o=o.slice(0,l);break}}return De.announce.of(`${r.state.phrase("current match")}. ${o} ${r.state.phrase("on line")} ${i.number}.`)}const _B=De.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),SB=[Rs,Kn.low(gB),_B];class BO{constructor(e,t,i,n){this.state=e,this.pos=t,this.explicit=i,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Bt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),s=n.search(b5(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function X_(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function wB(r){let e=Object.create(null),t=Object.create(null);for(let{label:n}of r){e[n[0]]=!0;for(let s=1;s<n.length;s++)t[n[s]]=!0}let i=X_(e)+X_(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function zO(r){let e=r.map(n=>typeof n=="string"?{label:n}:n),[t,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:wB(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:t}:null}}function y5(r,e){return t=>{for(let i=Bt(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class W_{constructor(e,t,i,n){this.completion=e,this.source=t,this.match=i,this.score=n}}function go(r){return r.selection.main.from}function b5(r,e){var t;let{source:i}=r,n=e&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?r:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const qO=Sn.define();function kB(r,e,t,i){let{main:n}=r.selection,s=t-n.from,a=i-n.from;return Object.assign(Object.assign({},r.changeByRange(o=>{if(o!=n&&t!=i&&r.sliceDoc(o.from+s,o.from+a)!=r.sliceDoc(t,i))return{range:o};let l=r.toText(e);return{changes:{from:o.from+s,to:i==n.from?o.to:o.from+a,insert:l},range:ye.cursor(o.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const F_=new WeakMap;function CB(r){if(!Array.isArray(r))return r;let e=F_.get(r);return e||F_.set(r,e=zO(r)),e}const wd=ft.define(),bc=ft.define();class PB{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=ei(e,t),n=fn(i);this.chars.push(i);let s=e.slice(t,t+n),a=s.toUpperCase();this.folded.push(ei(a==s?s.toLowerCase():a,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:n,precise:s,byWord:a}=this;if(t.length==1){let b=ei(e,0),_=fn(b),P=_==e.length?0:-100;if(b!=t[0])if(b==i[0])P+=-200;else return null;return this.ret(P,[0,_])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(o<0){for(let b=0,_=Math.min(e.length,200);b<_&&u<l;){let P=ei(e,b);(P==t[u]||P==i[u])&&(n[u++]=b),b+=fn(P)}if(u<l)return null}let d=0,f=0,p=!1,v=0,S=-1,x=-1,m=/[a-z]/.test(e),y=!0;for(let b=0,_=Math.min(e.length,200),P=0;b<_&&f<l;){let T=ei(e,b);o<0&&(d<l&&T==t[d]&&(s[d++]=b),v<l&&(T==t[v]||T==i[v]?(v==0&&(S=b),x=b+1,v++):v=0));let C,R=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(C=lO(T))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!b||R==1&&m||P==0&&R!=0)&&(t[f]==T||i[f]==T&&(p=!0)?a[f++]=b:a.length&&(y=!1)),P=R,b+=fn(T)}return f==l&&a[0]==0&&y?this.result(-100+(p?-200:0),a,e):v==l&&S==0?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):v==l?this.ret(-900-e.length,[S,x]):f==l?this.result(-100+(p?-200:0)+-700+(y?0:-1100),a,e):t.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,t,i){let n=[],s=0;for(let a of t){let o=a+(this.astral?fn(ei(i,a)):1);s&&n[s-1]==a?n[s-1]=o:(n[s++]=a,n[s++]=o)}return this.ret(e-i.length,n)}}class TB{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const _r=Ze.define({combine(r){return wn(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:EB,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Z_(e(i),t(i)),optionClass:(e,t)=>i=>Z_(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Z_(r,e){return r?e?r+" "+e:r:e}function EB(r,e,t,i,n,s){let a=r.textDirection==Ut.RTL,o=a,l=!1,u="top",d,f,p=e.left-n.left,v=n.right-e.right,S=i.right-i.left,x=i.bottom-i.top;if(o&&p<Math.min(S,v)?o=!1:!o&&v<Math.min(S,p)&&(o=!0),S<=(o?p:v))d=Math.max(n.top,Math.min(t.top,n.bottom-x))-e.top,f=Math.min(400,o?p:v);else{l=!0,f=Math.min(400,(a?e.right:n.right-e.left)-30);let b=n.bottom-e.bottom;b>=x||b>e.top?d=t.bottom-e.top:(u="bottom",d=e.bottom-t.top)}let m=(e.bottom-e.top)/s.offsetHeight,y=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${d/m}px; max-width: ${f/y}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":o?"left":"right")}}function QB(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,n,s){let a=document.createElement("span");a.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let u=0;u<s.length;){let d=s[u++],f=s[u++];d>l&&a.appendChild(document.createTextNode(o.slice(l,d)));let p=a.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(o.slice(d,f))),p.className="cm-completionMatchedText",l=f}return l<o.length&&a.appendChild(document.createTextNode(o.slice(l))),a},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Am(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let n=Math.floor(e/t);return{from:n*t,to:(n+1)*t}}let i=Math.floor((r-e)/t);return{from:r-(i+1)*t,to:r-i*t}}class RB{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:s,selected:a}=n.open,o=e.state.facet(_r);this.optionContent=QB(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Am(s.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(t).open;for(let d=l.target,f;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(f=/-(\d+)$/.exec(d.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(_r).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:bc.of(null)})}),this.showOptions(s,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=n){let{options:s,selected:a,disabled:o}=i.open;(!n.open||n.open.options!=s)&&(this.range=Am(s.length,a,e.state.facet(_r).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),o!=((t=n.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Am(t.options.length,t.selected,this.view.state.facet(_r).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:n}=i;if(!n)return;let s=typeof n=="string"?document.createTextNode(n):n(i);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>ii(this.view.state,a,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:s}=e;i.appendChild(n),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)i.nodeName!="LI"||!i.id?n--:n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&AB(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return n.top>Math.min(s.bottom,t.bottom)-10||n.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(_r).positionInfo(this.view,t,n,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",a=>{a.target==n&&a.preventDefault()});let s=null;for(let a=i.from;a<i.to;a++){let{completion:o,match:l}=e[a],{section:u}=o;if(u){let p=typeof u=="string"?u:u.name;if(p!=s&&(a>i.from||i.from==0))if(s=p,typeof u!="string"&&u.header)n.appendChild(u.header(u));else{let v=n.appendChild(document.createElement("completion-section"));v.textContent=p}}const d=n.appendChild(document.createElement("li"));d.id=t+"-"+a,d.setAttribute("role","option");let f=this.optionClass(o);f&&(d.className=f);for(let p of this.optionContent){let v=p(o,this.view.state,this.view,l);v&&d.appendChild(v)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function $B(r,e){return t=>new RB(t,r,e)}function AB(r,e){let t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),n=t.height/r.offsetHeight;i.top<t.top?r.scrollTop-=(t.top-i.top)/n:i.bottom>t.bottom&&(r.scrollTop+=(i.bottom-t.bottom)/n)}function V_(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function LB(r,e){let t=[],i=null,n=u=>{t.push(u);let{section:d}=u.completion;if(d){i||(i=[]);let f=typeof d=="string"?d:d.name;i.some(p=>p.name==f)||i.push(typeof d=="string"?{name:f}:d)}},s=e.facet(_r);for(let u of r)if(u.hasResult()){let d=u.result.getMatch;if(u.result.filter===!1)for(let f of u.result.options)n(new W_(f,u.source,d?d(f):[],1e9-t.length));else{let f=e.sliceDoc(u.from,u.to),p,v=s.filterStrict?new TB(f):new PB(f);for(let S of u.result.options)if(p=v.match(S.label)){let x=S.displayLabel?d?d(S,p.matched):[]:p.matched;n(new W_(S,u.source,x,p.score+(S.boost||0)))}}}if(i){let u=Object.create(null),d=0,f=(p,v)=>{var S,x;return((S=p.rank)!==null&&S!==void 0?S:1e9)-((x=v.rank)!==null&&x!==void 0?x:1e9)||(p.name<v.name?-1:1)};for(let p of i.sort(f))d-=1e5,u[p.name]=d;for(let p of t){let{section:v}=p.completion;v&&(p.score+=u[typeof v=="string"?v:v.name])}}let a=[],o=null,l=s.compareCompletions;for(let u of t.sort((d,f)=>f.score-d.score||l(d.completion,f.completion))){let d=u.completion;!o||o.label!=d.label||o.detail!=d.detail||o.type!=null&&d.type!=null&&o.type!=d.type||o.apply!=d.apply||o.boost!=d.boost?a.push(u):V_(u.completion)>V_(o)&&(a[a.length-1]=u),o=u.completion}return a}class la{constructor(e,t,i,n,s,a){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=s,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new la(this.options,U_(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,n,s,a){if(n&&!a&&e.some(u=>u.isPending))return n.setDisabled();let o=LB(e,t);if(!o.length)return n&&e.some(u=>u.isPending)?n.setDisabled():null;let l=t.facet(_r).selectOnOpen?0:-1;if(n&&n.selected!=l&&n.selected!=-1){let u=n.options[n.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==u){l=d;break}}return new la(o,U_(i,l),{pos:e.reduce((u,d)=>d.hasResult()?Math.min(u,d.from):u,1e8),create:BB,above:s.aboveCursor},n?n.timestamp:Date.now(),l,!1)}map(e){return new la(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new la(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class kd{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new kd(DB,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(_r),s=(i.override||t.languageDataAt("autocomplete",go(t)).map(CB)).map(l=>(this.active.find(d=>d.source==l)||new Ri(l,this.active.some(d=>d.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let a=this.open,o=e.effects.some(l=>l.is(XO));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!MB(s,this.active)||o?a=la.build(s,t,this.id,a,i,o):a&&a.disabled&&!s.some(l=>l.isPending)&&(a=null),!a&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Ri(l.source,0):l));for(let l of e.effects)l.is(S5)&&(a=a&&a.setSelected(l.value,this.id));return s==this.active&&a==this.open?this:new kd(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?jB:NB}}function MB(r,e){if(r==e)return!0;for(let t=0,i=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let n=t==r.length,s=i==e.length;if(n||s)return n==s;if(r[t++].result!=e[i++].result)return!1}}const jB={"aria-autocomplete":"list"},NB={};function U_(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const DB=[];function _5(r,e){if(r.isUserEvent("input.complete")){let i=r.annotation(qO);if(i&&e.activateOnCompletion(i))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Ri{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=_5(e,t),n=this;(i&8||i&16&&this.touches(e))&&(n=new Ri(n.source,0)),i&4&&n.state==0&&(n=new Ri(this.source,1)),n=n.updateFor(e,i);for(let s of e.effects)if(s.is(wd))n=new Ri(n.source,1,s.value);else if(s.is(bc))n=new Ri(n.source,0);else if(s.is(XO))for(let a of s.value)a.source==n.source&&(n=a);return n}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(go(e.state))}}class va extends Ri{constructor(e,t,i,n,s,a){super(e,3,t),this.limit=i,this.result=n,this.from=s,this.to=a}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=go(e.state);if(o>a||!n||t&2&&(go(e.startState)==this.from||o<this.limit))return new Ri(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return IB(n.validFor,e.state,s,a)?new va(this.source,this.explicit,l,n,s,a):n.update&&(n=n.update(n,s,a,new BO(e.state,o,!1)))?new va(this.source,this.explicit,l,n,n.from,(i=n.to)!==null&&i!==void 0?i:go(e.state)):new Ri(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new va(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ri(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function IB(r,e,t,i){if(!r)return!1;let n=e.sliceDoc(t,i);return typeof r=="function"?r(n,t,i,e):b5(r,!0).test(n)}const XO=ft.define({map(r,e){return r.map(t=>t.map(e))}}),S5=ft.define(),ri=Or.define({create(){return kd.start()},update(r,e){return r.update(e)},provide:r=>[SO.from(r,e=>e.tooltip),De.contentAttributes.from(r,e=>e.attrs)]});function WO(r,e){const t=e.completion.apply||e.completion.label;let i=r.state.field(ri).active.find(n=>n.source==e.source);return i instanceof va?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},kB(r.state,t,i.from,i.to)),{annotations:qO.of(e.completion)})):t(r,e.completion,i.from,i.to),!0):!1}const BB=$B(ri,WO);function Pu(r,e="option"){return t=>{let i=t.state.field(ri,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(_r).interactionDelay)return!1;let n=1,s;e=="page"&&(s=s2(t,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,o=i.open.selected>-1?i.open.selected+n*(r?1:-1):r?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:S5.of(o)}),!0}}const zB=r=>{let e=r.state.field(ri,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(_r).interactionDelay?!1:WO(r,e.open.options[e.open.selected])},H_=r=>r.state.field(ri,!1)?(r.dispatch({effects:wd.of(!0)}),!0):!1,qB=r=>{let e=r.state.field(ri,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:bc.of(null)}),!0)};class XB{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const WB=50,FB=1e3,ZB=sr.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(ri).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(ri),t=r.state.facet(_r);if(!r.selectionSet&&!r.docChanged&&r.startState.field(ri)==e)return;let i=r.transactions.some(s=>{let a=_5(s,t);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(i||a.context.abortOnDocChange&&r.docChanged||a.updates.length+r.transactions.length>WB&&Date.now()-a.time>FB){for(let o of a.context.abortListeners)try{o()}catch(l){ii(this.view.state,l)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(a=>a.is(wd)))&&(this.pendingStart=!0);let n=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),n):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(ri);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(_r).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=go(e),i=new BO(e,t,r.explicit,this.view),n=new XB(r,i);this.running.push(n),Promise.resolve(r.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:bc.of(null)}),ii(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(_r).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(_r),i=this.view.state.field(ri);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(s.done===void 0)continue;if(this.running.splice(n--,1),s.done){let o=go(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(o,s.done.from+(s.active.explicit?0:1)),u=new va(s.active.source,s.active.explicit,l,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:o);for(let d of s.updates)u=u.update(d,t);if(u.hasResult()){e.push(u);continue}}let a=i.active.find(o=>o.source==s.active.source);if(a&&a.isPending)if(s.done==null){let o=new Ri(s.active.source,0);for(let l of s.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:XO.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(ri,!1);if(e&&e.tooltip&&this.view.state.facet(_r).closeOnBlur){let t=e.open&&s2(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:bc.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:wd.of(!1)}),20),this.composing=0}}}),VB=typeof navigator=="object"&&/Win/.test(navigator.platform),UB=Kn.highest(De.domEventHandlers({keydown(r,e){let t=e.state.field(ri,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(VB&&r.altKey)||r.metaKey)return!1;let i=t.open.options[t.open.selected],n=t.active.find(a=>a.source==i.source),s=i.completion.commitCharacters||n.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&WO(e,i),!1}})),w5=De.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class HB{constructor(e,t,i,n){this.field=e,this.line=t,this.from=i,this.to=n}}class FO{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,Tr.TrackDel),i=e.mapPos(this.to,1,Tr.TrackDel);return t==null||i==null?null:new FO(this.field,t,i)}}class ZO{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],n=[t],s=e.doc.lineAt(t),a=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let u=a,d=/^\t*/.exec(l)[0].length;for(let f=0;f<d;f++)u+=e.facet(Ba);n.push(t+u.length-d),l=u+l.slice(d)}i.push(l),t+=l.length+1}let o=this.fieldPositions.map(l=>new FO(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],n=[],s;for(let a of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(a);){let o=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,d=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<t.length;f++)(o!=null?t[f].seq==o:d&&t[f].name==d)&&(u=f);if(u<0){let f=0;for(;f<t.length&&(o==null||t[f].seq!=null&&t[f].seq<o);)f++;t.splice(f,0,{seq:o,name:d}),u=f;for(let p of n)p.field>=u&&p.field++}n.push(new HB(u,i.length,s.index,s.index+d.length)),a=a.slice(0,s.index)+l+a.slice(s.index+s[0].length)}a=a.replace(/\\([{}])/g,(o,l,u)=>{for(let d of n)d.line==i.length&&d.from>u&&(d.from--,d.to--);return l}),i.push(a)}return new ZO(i,n)}}let YB=it.widget({widget:new class extends kn{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),GB=it.mark({class:"cm-snippetField"});class Xa{constructor(e,t){this.ranges=e,this.active=t,this.deco=it.set(e.map(i=>(i.from==i.to?YB:GB).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let n=i.map(e);if(!n)return null;t.push(n)}return new Xa(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const qc=ft.define({map(r,e){return r&&r.map(e)}}),KB=ft.define(),_c=Or.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(qc))return t.value;if(t.is(KB)&&r)return new Xa(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>De.decorations.from(r,e=>e?e.deco:it.none)});function VO(r,e){return ye.create(r.filter(t=>t.field==e).map(t=>ye.range(t.from,t.to)))}function JB(r){let e=ZO.parse(r);return(t,i,n,s)=>{let{text:a,ranges:o}=e.instantiate(t.state,n),{main:l}=t.state.selection,u={changes:{from:n,to:s==l.from?l.to:s,insert:wt.of(a)},scrollIntoView:!0,annotations:i?[qO.of(i),cr.userEvent.of("input.complete")]:void 0};if(o.length&&(u.selection=VO(o,0)),o.some(d=>d.field>0)){let d=new Xa(o,0),f=u.effects=[qc.of(d)];t.state.field(_c,!1)===void 0&&f.push(ft.appendConfig.of([_c,n8,s8,w5]))}t.dispatch(t.state.update(u))}}function k5(r){return({state:e,dispatch:t})=>{let i=e.field(_c,!1);if(!i||r<0&&i.active==0)return!1;let n=i.active+r,s=r>0&&!i.ranges.some(a=>a.field==n+r);return t(e.update({selection:VO(i.ranges,n),effects:qc.of(s?null:new Xa(i.ranges,n)),scrollIntoView:!0})),!0}}const e8=({state:r,dispatch:e})=>r.field(_c,!1)?(e(r.update({effects:qc.of(null)})),!0):!1,t8=k5(1),r8=k5(-1),i8=[{key:"Tab",run:t8,shift:r8},{key:"Escape",run:e8}],Y_=Ze.define({combine(r){return r.length?r[0]:i8}}),n8=Kn.highest(Ia.compute([Y_],r=>r.facet(Y_)));function er(r,e){return Object.assign(Object.assign({},e),{apply:JB(r)})}const s8=De.domEventHandlers({mousedown(r,e){let t=e.state.field(_c,!1),i;if(!t||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let n=t.ranges.find(s=>s.from<=i&&s.to>=i);return!n||n.field==t.active?!1:(e.dispatch({selection:VO(t.ranges,n.field),effects:qc.of(t.ranges.some(s=>s.field>n.field)?new Xa(t.ranges,n.field):null),scrollIntoView:!0}),!0)}}),Sc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},fo=ft.define({map(r,e){let t=e.mapPos(r,-1,Tr.TrackAfter);return t??void 0}}),UO=new class extends Oo{};UO.startSide=1;UO.endSide=-1;const C5=Or.define({create(){return Ct.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(fo)&&(r=r.update({add:[UO.range(t.value,t.value+1)]}));return r}});function o8(){return[l8,C5]}const Lm="()[]{}<>";function P5(r){for(let e=0;e<Lm.length;e+=2)if(Lm.charCodeAt(e)==r)return Lm.charAt(e+1);return lO(r<128?r:r+1)}function T5(r,e){return r.languageDataAt("closeBrackets",e)[0]||Sc}const a8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),l8=De.inputHandler.of((r,e,t,i)=>{if((a8?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let n=r.state.selection.main;if(i.length>2||i.length==2&&fn(ei(i,0))==1||e!=n.from||t!=n.to)return!1;let s=u8(r.state,i);return s?(r.dispatch(s),!0):!1}),c8=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let i=T5(r,r.selection.main.head).brackets||Sc.brackets,n=null,s=r.changeByRange(a=>{if(a.empty){let o=d8(r.doc,a.head);for(let l of i)if(l==o&&Yd(r.doc,a.head)==P5(ei(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:ye.cursor(a.head-l.length)}}return{range:n=a}});return n||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!n},h8=[{key:"Backspace",run:c8}];function u8(r,e){let t=T5(r,r.selection.main.head),i=t.brackets||Sc.brackets;for(let n of i){let s=P5(ei(n,0));if(e==n)return s==n?m8(r,n,i.indexOf(n+n+n)>-1,t):f8(r,n,s,t.before||Sc.before);if(e==s&&E5(r,r.selection.main.from))return p8(r,n,s)}return null}function E5(r,e){let t=!1;return r.field(C5).between(0,r.doc.length,i=>{i==e&&(t=!0)}),t}function Yd(r,e){let t=r.sliceString(e,e+2);return t.slice(0,fn(ei(t,0)))}function d8(r,e){let t=r.sliceString(e-2,e);return fn(ei(t,0))==t.length?t:t.slice(1)}function f8(r,e,t,i){let n=null,s=r.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:fo.of(a.to+e.length),range:ye.range(a.anchor+e.length,a.head+e.length)};let o=Yd(r.doc,a.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:a.head},effects:fo.of(a.head+e.length),range:ye.cursor(a.head+e.length)}:{range:n=a}});return n?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function p8(r,e,t){let i=null,n=r.changeByRange(s=>s.empty&&Yd(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:ye.cursor(s.head+t.length)}:i={range:s});return i?null:r.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function m8(r,e,t,i){let n=i.stringPrefixes||Sc.stringPrefixes,s=null,a=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:fo.of(o.to+e.length),range:ye.range(o.anchor+e.length,o.head+e.length)};let l=o.head,u=Yd(r.doc,l),d;if(u==e){if(G_(r,l))return{changes:{insert:e+e,from:l},effects:fo.of(l+e.length),range:ye.cursor(l+e.length)};if(E5(r,l)){let p=t&&r.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+p.length,insert:p},range:ye.cursor(l+p.length)}}}else{if(t&&r.sliceDoc(l-2*e.length,l)==e+e&&(d=K_(r,l-2*e.length,n))>-1&&G_(r,d))return{changes:{insert:e+e+e+e,from:l},effects:fo.of(l+e.length),range:ye.cursor(l+e.length)};if(r.charCategorizer(l)(u)!=Yt.Word&&K_(r,l,n)>-1&&!g8(r,l,e,n))return{changes:{insert:e+e,from:l},effects:fo.of(l+e.length),range:ye.cursor(l+e.length)}}return{range:s=o}});return s?null:r.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function G_(r,e){let t=Bt(r).resolveInner(e+1);return t.parent&&t.from==e}function g8(r,e,t,i){let n=Bt(r).resolveInner(e,-1),s=i.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=r.sliceDoc(n.from,Math.min(n.to,n.from+t.length+s)),l=o.indexOf(t);if(!l||l>-1&&i.indexOf(o.slice(0,l))>-1){let d=n.firstChild;for(;d&&d.from==n.from&&d.to-d.from>t.length+l;){if(r.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let u=n.to==e&&n.parent;if(!u)break;n=u}return!1}function K_(r,e,t){let i=r.charCategorizer(e);if(i(r.sliceDoc(e-1,e))!=Yt.Word)return e;for(let n of t){let s=e-n.length;if(r.sliceDoc(s,e)==n&&i(r.sliceDoc(s-1,s))!=Yt.Word)return s}return-1}function O8(r={}){return[UB,ri,_r.of(r),ZB,v8,w5]}const Q5=[{key:"Ctrl-Space",run:H_},{mac:"Alt-`",run:H_},{key:"Escape",run:qB},{key:"ArrowDown",run:Pu(!0)},{key:"ArrowUp",run:Pu(!1)},{key:"PageDown",run:Pu(!0,"page")},{key:"PageUp",run:Pu(!1,"page")},{key:"Enter",run:zB}],v8=Kn.highest(Ia.computeN([_r],r=>r.facet(_r).defaultKeymap?[Q5]:[]));class J_{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class lo{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let n=i.facet(wc).markerFilter;n&&(e=n(e,i));let s=e.slice().sort((d,f)=>d.from-f.from||d.to-f.to),a=new bn,o=[],l=0;for(let d=0;;){let f=d==s.length?null:s[d];if(!f&&!o.length)break;let p,v;for(o.length?(p=l,v=o.reduce((x,m)=>Math.min(x,m.to),f&&f.from>p?f.from:1e8)):(p=f.from,v=f.to,o.push(f),d++);d<s.length;){let x=s[d];if(x.from==p&&(x.to>x.from||x.to==p))o.push(x),d++,v=Math.min(x.to,v);else{v=Math.min(x.from,v);break}}let S=R8(o);if(o.some(x=>x.from==x.to||x.from==x.to-1&&i.doc.lineAt(x.from).to==x.from))a.add(p,p,it.widget({widget:new P8(S),diagnostics:o.slice()}));else{let x=o.reduce((m,y)=>y.markClass?m+" "+y.markClass:m,"");a.add(p,v,it.mark({class:"cm-lintRange cm-lintRange-"+S+x,diagnostics:o.slice(),inclusiveEnd:o.some(m=>m.to>v)}))}l=v;for(let x=0;x<o.length;x++)o[x].to<=l&&o.splice(x--,1)}let u=a.finish();return new lo(u,t,Ea(u))}}function Ea(r,e=null,t=0){let i=null;return r.between(t,1e9,(n,s,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!i)i=new J_(n,s,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new J_(i.from,s,i.diagnostic)}}),i}function x8(r,e){let t=e.pos,i=e.end||t,n=r.state.facet(wc).hideOn(r,t,i);if(n!=null)return n;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(a=>a.is(R5))||r.changes.touchesRange(s.from,Math.max(s.to,i)))}function y8(r,e){return r.field(xi,!1)?e:e.concat(ft.appendConfig.of($8))}const R5=ft.define(),HO=ft.define(),$5=ft.define(),xi=Or.define({create(){return new lo(it.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),i=null,n=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);i=Ea(t,r.selected.diagnostic,s)||Ea(t,null,s)}!t.size&&n&&e.state.facet(wc).autoPanel&&(n=null),r=new lo(t,n,i)}for(let t of e.effects)if(t.is(R5)){let i=e.state.facet(wc).autoPanel?t.value.length?kc.open:null:r.panel;r=lo.init(t.value,i,e.state)}else t.is(HO)?r=new lo(r.diagnostics,t.value?kc.open:null,r.selected):t.is($5)&&(r=new lo(r.diagnostics,r.panel,t.value));return r},provide:r=>[mc.from(r,e=>e.panel),De.decorations.from(r,e=>e.diagnostics)]}),b8=it.mark({class:"cm-lintRange cm-lintRange-active"});function _8(r,e,t){let{diagnostics:i}=r.state.field(xi),n,s=-1,a=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:d})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return n=d.diagnostics,s=l,a=u,!1});let o=r.state.facet(wc).tooltipFilter;return n&&o&&(n=o(n,r.state)),n?{pos:s,end:a,above:r.state.doc.lineAt(s).to<a,create(){return{dom:S8(r,n)}}}:null}function S8(r,e){return jt("ul",{class:"cm-tooltip-lint"},e.map(t=>L5(r,t,!1)))}const w8=r=>{let e=r.state.field(xi,!1);(!e||!e.panel)&&r.dispatch({effects:y8(r.state,[HO.of(!0)])});let t=pc(r,kc.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},eS=r=>{let e=r.state.field(xi,!1);return!e||!e.panel?!1:(r.dispatch({effects:HO.of(!1)}),!0)},k8=r=>{let e=r.state.field(xi,!1);if(!e)return!1;let t=r.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(r.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},C8=[{key:"Mod-Shift-m",run:w8,preventDefault:!0},{key:"F8",run:k8}],wc=Ze.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},wn(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function A5(r){let e=[];if(r)e:for(let{name:t}of r){for(let i=0;i<t.length;i++){let n=t[i];if(/[a-zA-Z]/.test(n)&&!e.some(s=>s.toLowerCase()==n.toLowerCase())){e.push(n);continue e}}e.push("")}return e}function L5(r,e,t){var i;let n=t?A5(e.actions):[];return jt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},jt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,a)=>{let o=!1,l=p=>{if(p.preventDefault(),o)return;o=!0;let v=Ea(r.state.field(xi).diagnostics,e);v&&s.apply(r,v.from,v.to)},{name:u}=s,d=n[a]?u.indexOf(n[a]):-1,f=d<0?u:[u.slice(0,d),jt("u",u.slice(d,d+1)),u.slice(d+1)];return jt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${d<0?"":` (access key "${n[a]})"`}.`},f)}),e.source&&jt("div",{class:"cm-diagnosticSource"},e.source))}class P8 extends kn{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return jt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class tS{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=L5(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class kc{constructor(e){this.view=e,this.items=[];let t=n=>{if(n.keyCode==27)eS(this.view),this.view.focus();else if(n.keyCode==38||n.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(n.keyCode==40||n.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(n.keyCode==36)this.moveSelection(0);else if(n.keyCode==35)this.moveSelection(this.items.length-1);else if(n.keyCode==13)this.view.focus();else if(n.keyCode>=65&&n.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=A5(s.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==n.keyCode){let l=Ea(this.view.state.field(xi).diagnostics,s);l&&s.actions[o].apply(e,l.from,l.to)}}else return;n.preventDefault()},i=n=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(n.target)&&this.moveSelection(s)};this.list=jt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=jt("div",{class:"cm-panel-lint"},this.list,jt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>eS(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(xi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(xi),i=0,n=!1,s=null,a=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:u})=>{for(let d of u.diagnostics){if(a.has(d))continue;a.add(d);let f=-1,p;for(let v=i;v<this.items.length;v++)if(this.items[v].diagnostic==d){f=v;break}f<0?(p=new tS(this.view,d),this.items.splice(i,0,p),n=!0):(p=this.items[f],f>i&&(this.items.splice(i,f-i),n=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),s=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();this.items.length==0&&(this.items.push(new tS(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let u=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/u:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(xi),i=Ea(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:$5.of(i)})}static open(e){return new kc(e)}}function T8(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Tu(r){return T8(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const E8=De.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Tu("#d11")},".cm-lintRange-warning":{backgroundImage:Tu("orange")},".cm-lintRange-info":{backgroundImage:Tu("#999")},".cm-lintRange-hint":{backgroundImage:Tu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Q8(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function R8(r){let e="hint",t=1;for(let i of r){let n=Q8(i.severity);n>t&&(t=n,e=i.severity)}return e}const $8=[xi,De.decorations.compute([xi],r=>{let{selected:e,panel:t}=r.field(xi);return!e||!t||e.from==e.to?it.none:it.set([b8.range(e.from,e.to)])}),O6(_8,{hideOn:x8}),E8];var rS=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(h8)),e.defaultKeymap!==!1&&(i=i.concat(U7)),e.searchKeymap!==!1&&(i=i.concat(yB)),e.historyKeymap!==!1&&(i=i.concat(i7)),e.foldKeymap!==!1&&(i=i.concat(vI)),e.completionKeymap!==!1&&(i=i.concat(Q5)),e.lintKeymap!==!1&&(i=i.concat(C8));var n=[];return e.lineNumbers!==!1&&n.push(T6()),e.highlightActiveLineGutter!==!1&&n.push(R6()),e.highlightSpecialChars!==!1&&n.push(ZD()),e.history!==!1&&n.push(UI()),e.foldGutter!==!1&&n.push(_I()),e.drawSelection!==!1&&n.push(MD()),e.dropCursor!==!1&&n.push(BD()),e.allowMultipleSelections!==!1&&n.push(yt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&n.push(hI()),e.syntaxHighlighting!==!1&&n.push(T2(CI,{fallback:!0})),e.bracketMatching!==!1&&n.push(AI()),e.closeBrackets!==!1&&n.push(o8()),e.autocompletion!==!1&&n.push(O8()),e.rectangularSelection!==!1&&n.push(o6()),t!==!1&&n.push(c6()),e.highlightActiveLine!==!1&&n.push(KD()),e.highlightSelectionMatches!==!1&&n.push(tB()),e.tabSize&&typeof e.tabSize=="number"&&n.push(Ba.of(" ".repeat(e.tabSize))),n.concat([Ia.of(i.flat())]).filter(Boolean)};const A8="#e5c07b",iS="#e06c75",L8="#56b6c2",M8="#ffffff",Fu="#abb2bf",T0="#7d8799",j8="#61afef",N8="#98c379",nS="#d19a66",D8="#c678dd",I8="#21252b",sS="#2c313a",oS="#282c34",Mm="#353a42",B8="#3E4451",aS="#528bff",z8=De.theme({"&":{color:Fu,backgroundColor:oS},".cm-content":{caretColor:aS},".cm-cursor, .cm-dropCursor":{borderLeftColor:aS},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:B8},".cm-panels":{backgroundColor:I8,color:Fu},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:oS,color:T0,border:"none"},".cm-activeLineGutter":{backgroundColor:sS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Mm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Mm,borderBottomColor:Mm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:sS,color:Fu}}},{dark:!0}),q8=Ic.define([{tag:Z.keyword,color:D8},{tag:[Z.name,Z.deleted,Z.character,Z.propertyName,Z.macroName],color:iS},{tag:[Z.function(Z.variableName),Z.labelName],color:j8},{tag:[Z.color,Z.constant(Z.name),Z.standard(Z.name)],color:nS},{tag:[Z.definition(Z.name),Z.separator],color:Fu},{tag:[Z.typeName,Z.className,Z.number,Z.changed,Z.annotation,Z.modifier,Z.self,Z.namespace],color:A8},{tag:[Z.operator,Z.operatorKeyword,Z.url,Z.escape,Z.regexp,Z.link,Z.special(Z.string)],color:L8},{tag:[Z.meta,Z.comment],color:T0},{tag:Z.strong,fontWeight:"bold"},{tag:Z.emphasis,fontStyle:"italic"},{tag:Z.strikethrough,textDecoration:"line-through"},{tag:Z.link,color:T0,textDecoration:"underline"},{tag:Z.heading,fontWeight:"bold",color:iS},{tag:[Z.atom,Z.bool,Z.special(Z.variableName)],color:nS},{tag:[Z.processingInstruction,Z.string,Z.inserted],color:N8},{tag:Z.invalid,color:M8}]),M5=[z8,T2(q8)];var X8=De.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),W8=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:n=!1,theme:s="light",placeholder:a="",basicSetup:o=!0}=e,l=[];switch(t&&l.unshift(Ia.of([H7])),o&&(typeof o=="boolean"?l.unshift(rS()):l.unshift(rS(o))),a&&l.unshift(r6(a)),s){case"light":l.push(X8);break;case"dark":l.push(M5);break;case"none":break;default:l.push(s);break}return i===!1&&l.push(De.editable.of(!1)),n&&l.push(yt.readOnly.of(!0)),[...l]},F8=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class Z8{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class lS{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var jm=null,V8=()=>typeof window>"u"?new lS:(jm||(jm=new lS),jm),cS=Sn.define(),U8=200,H8=[];function Y8(r){var{value:e,selection:t,onChange:i,onStatistics:n,onCreateEditor:s,onUpdate:a,extensions:o=H8,autoFocus:l,theme:u="light",height:d=null,minHeight:f=null,maxHeight:p=null,width:v=null,minWidth:S=null,maxWidth:x=null,placeholder:m="",editable:y=!0,readOnly:b=!1,indentWithTab:_=!0,basicSetup:P=!0,root:T,initialState:C}=r,[R,k]=F.useState(),[E,$]=F.useState(),[D,A]=F.useState(),N=F.useState(()=>({current:null}))[0],q=F.useState(()=>({current:null}))[0],V=De.theme({"&":{height:d,minHeight:f,maxHeight:p,width:v,minWidth:S,maxWidth:x},"& .cm-scroller":{height:"100% !important"}}),K=De.updateListener.of(z=>{if(z.docChanged&&typeof i=="function"&&!z.transactions.some(U=>U.annotation(cS))){N.current?N.current.reset():(N.current=new Z8(()=>{if(q.current){var U=q.current;q.current=null,U()}N.current=null},U8),V8().add(N.current));var M=z.state.doc,I=M.toString();i(I,z)}n&&n(F8(z))}),Y=W8({theme:u,editable:y,readOnly:b,placeholder:m,indentWithTab:_,basicSetup:P}),L=[K,V,...Y];return a&&typeof a=="function"&&L.push(De.updateListener.of(a)),L=L.concat(o),F.useLayoutEffect(()=>{if(R&&!D){var z={doc:e,selection:t,extensions:L},M=C?yt.fromJSON(C.json,z,C.fields):yt.create(z);if(A(M),!E){var I=new De({state:M,parent:R,root:T});$(I),s&&s(I,M)}}return()=>{E&&(A(void 0),$(void 0))}},[R,D]),F.useEffect(()=>{r.container&&k(r.container)},[r.container]),F.useEffect(()=>()=>{E&&(E.destroy(),$(void 0)),N.current&&(N.current.cancel(),N.current=null)},[E]),F.useEffect(()=>{l&&E&&E.focus()},[l,E]),F.useEffect(()=>{E&&E.dispatch({effects:ft.reconfigure.of(L)})},[u,o,d,f,p,v,S,x,m,y,b,_,P,i,a]),F.useEffect(()=>{if(e!==void 0){var z=E?E.state.doc.toString():"";if(E&&e!==z){var M=N.current&&!N.current.isDone,I=()=>{E&&e!==E.state.doc.toString()&&E.dispatch({changes:{from:0,to:E.state.doc.toString().length,insert:e||""},annotations:[cS.of(!0)]})};M?q.current=I:I()}}},[e,E]),{state:D,setState:A,view:E,setView:$,container:R,setContainer:k}}var G8=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],j5=F.forwardRef((r,e)=>{var{className:t,value:i="",selection:n,extensions:s=[],onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:u,autoFocus:d,theme:f="light",height:p,minHeight:v,maxHeight:S,width:x,minWidth:m,maxWidth:y,basicSetup:b,placeholder:_,indentWithTab:P,editable:T,readOnly:C,root:R,initialState:k}=r,E=Qj(r,G8),$=F.useRef(null),{state:D,view:A,container:N,setContainer:q}=Y8({root:R,value:i,autoFocus:d,theme:f,height:p,minHeight:v,maxHeight:S,width:x,minWidth:m,maxWidth:y,basicSetup:b,placeholder:_,indentWithTab:P,editable:T,readOnly:C,selection:n,onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:u,extensions:s,initialState:k});F.useImperativeHandle(e,()=>({editor:$.current,state:D,view:A}),[$,N,D,A]);var V=F.useCallback(Y=>{$.current=Y,q(Y)},[q]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var K=typeof f=="string"?"cm-theme-"+f:"cm-theme";return g.jsx("div",Ag({ref:V,className:""+K+(t?" "+t:"")},E))});j5.displayName="CodeMirror";var hS={};class Cd{constructor(e,t,i,n,s,a,o,l,u,d=0,f){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=d,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new Cd(e,[],t,i,i,0,[],0,n?new uS(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(n,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,d=this.reducePos-u;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=d));let f=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-f;if(n<s.minRepeatTerm||e&131072){let v=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,u,v,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let v=this.stack[l-3];this.state=s.getGoto(v,n,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(n,u)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(t==i)return;if(a.buffer[o-2]>=t){a.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let o=!1;for(let l=a;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,n>4&&(n-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=i,this.buffer[a+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:a}=this.p;(n>this.pos||t<=a.maxNode)&&(this.pos=n,a.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,n,4)}else this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4)}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Cd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new K8(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,a;s<t.length;s+=2)(a=t[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&n.push(t[s],a);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let a=t[s+1];n.some((o,l)=>l&1&&o==a)||n.push(t[s],a)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[n],this.pos),a.reducePos=this.pos,a.score-=200,i.push(a)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-s;if(o>1){let l=a&65535,u=this.stack.length-o*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return o<<19|65536|l}}else{let o=i(a,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new uS(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class uS{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class K8{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Pd{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Pd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Pd(this.stack,this.pos,this.index)}}function Fl(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let a=r.charCodeAt(i++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),s+=l,o)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class Zu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const dS=new Zu;class J8{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=dS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let a=this.ranges[--n];s-=i.from-a.to,i=a}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let a=this.ranges[++n];s+=a.from-i.to,i=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=dS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class xa{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;N5(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}xa.prototype.contextual=xa.prototype.fallback=xa.prototype.extend=!1;class Td{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Fl(e):e}token(e,t){let i=e.pos,n=0;for(;;){let s=e.next<0,a=e.resolveOffset(1,1);if(N5(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,a==null)break;e.reset(a,e.token)}n&&(e.reset(i,e.token),e.acceptToken(this.elseToken,n))}}Td.prototype.contextual=xa.prototype.fallback=xa.prototype.extend=!1;class zr{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function N5(r,e,t,i,n,s){let a=0,o=1<<i,{dialect:l}=t.p.parser;e:for(;(o&r[a])!=0;){let u=r[a+1];for(let v=a+3;v<u;v+=2)if((r[v+1]&o)>0){let S=r[v];if(l.allows(S)&&(e.token.value==-1||e.token.value==S||ez(S,e.token.value,n,s))){e.acceptToken(S);break}}let d=e.next,f=0,p=r[a+2];if(e.next<0&&p>f&&r[u+p*3-3]==65535){a=r[u+p*3-1];continue e}for(;f<p;){let v=f+p>>1,S=u+v+(v<<1),x=r[S],m=r[S+1]||65536;if(d<x)p=v;else if(d>=m)f=v+1;else{a=r[S+2],e.advance();continue e}}break}}function fS(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function ez(r,e,t,i){let n=fS(t,i,e);return n<0||fS(t,i,r)<n}const fi=typeof process<"u"&&hS&&/\bparse\b/.test(hS.LOG);let Nm=null;function pS(r,e,t){let i=r.cursor(Dt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}let tz=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?pS(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?pS(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],a=this.start[t]+i.positions[n];if(a>e)return this.nextStart=a,null;if(s instanceof $t){if(a==e){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let l=s.prop(pt.lookAhead);if(!l||o+l<this.fragment.to)return s}}this.index[t]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+s.length}}};class rz{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Zu)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,a=n.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if((1<<u&a)==0)continue;let d=s[u],f=this.tokens[u];if(!(i&&!d.fallback)&&((d.contextual||f.start!=e.pos||f.mask!=a||f.context!=o)&&(this.updateCachedToken(f,d,e),f.mask=a,f.context=o),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let p=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!d.extend&&(i=f,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Zu,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Zu,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let o=s.specializers[a](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let u=a.stateSlot(s,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=Xn(o,u+2);else{n==0&&o[u+1]==2&&(n=this.putAction(Xn(o,u+2),t,i,n));break}o[u]==t&&(n=this.putAction(Xn(o,u+1),t,i,n))}return n}}class iz{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new J8(t,n),this.tokens=new rz(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[Cd.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new tz(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{n||(n=[],s=[]),n.push(o);let l=this.tokens.getMainToken(o);s.push(l.value,l.end)}}break}}if(!i.length){let a=n&&sz(n);if(a)return fi&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw fi&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let a=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(a)return fi&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((o,l)=>l.score-o.score);i.length>a;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let a=0;a<i.length-1;a++){let o=i[a];for(let l=a+1;l<i.length;l++){let u=i[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(a--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,a=fi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,d=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(n);f;){let p=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(p>-1&&f.length&&(!u||(f.prop(pt.contextHash)||0)==d))return e.useNode(f,p),fi&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof $t)||f.children.length==0||f.positions[0]>0)break;let v=f.children[0];if(v instanceof $t&&f.positions[0]==0)f=v;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),fi&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let d=l[u++],f=l[u++],p=l[u++],v=u==l.length||!i,S=v?e:e.split(),x=this.tokens.mainToken;if(S.apply(d,f,x?x.start:S.pos,p),fi&&console.log(a+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(f)} @ ${n}${S==e?"":", split"})`),v)return!0;S.pos>n?t.push(S):i.push(S)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return mS(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],l=t[a<<1],u=t[(a<<1)+1],d=fi?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),fi&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let f=o.split(),p=d;for(let v=0;f.forceReduce()&&v<10&&(fi&&console.log(p+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));v++)fi&&(p=this.stackID(f)+" -> ");for(let v of o.recoverByInsert(l))fi&&console.log(d+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,i);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),fi&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),mS(o,i)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(e){return e.close(),$t.build({buffer:Pd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Nm||(Nm=new WeakMap)).get(e);return t||Nm.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function mS(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class nz{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Dm=r=>r;class YO{constructor(e){this.start=e.start,this.shift=e.shift||Dm,this.reduce=e.reduce||Dm,this.reuse=e.reuse||Dm,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ds extends TO{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),n=[];for(let o=0;o<t.length;o++)n.push([]);function s(o,l,u){n[o].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=pt[l]);for(let u=1;u<o.length;){let d=o[u++];if(d>=0)s(d,l,o[u++]);else{let f=o[u+-d];for(let p=-d;p>0;p--)s(o[u++],l,f);u++}}}this.nodeSet=new Nc(t.map((o,l)=>gr.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=c2;let a=Fl(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(gS),this.states=Fl(e.states,Uint32Array),this.data=Fl(e.stateData),this.goto=Fl(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new xa(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new iz(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let a=n[s++],o=a&1,l=n[s++];if(o&&i)return l;for(let u=s+(a>>1);s<u;s++)if(n[s]==e)return l;if(o)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),a;;s+=3){if((a=i[s])==65535)if(i[s+1]==1)a=i[s=Xn(i,s+2)];else{if(i[s+1]==2)return Xn(i,s+2);break}if(a==t||a==0)return Xn(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Xn(this.data,s+2);else break;n=t(Xn(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Xn(this.data,i+2);else break;if((this.data[i+2]&1)==0){let n=this.data[i+1];t.some((s,a)=>a&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(Ds.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(o=>o.from==i.external);if(!s)return i;let a=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=gS(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let a=t.indexOf(s);a>=0&&(i[a]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let a=this.dialects[t[s]],o;(o=this.data[a++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new nz(e,i,n)}static deserialize(e){return new Ds(e)}}function Xn(r,e){return r[e]|r[e+1]<<16}function sz(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function gS(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}const oz=315,az=316,OS=1,lz=2,cz=3,hz=4,uz=317,dz=319,fz=320,pz=5,mz=6,gz=0,E0=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],D5=125,Oz=59,Q0=47,vz=42,xz=43,yz=45,bz=60,_z=44,Sz=63,wz=46,kz=91,Cz=new YO({start:!1,shift(r,e){return e==pz||e==mz||e==dz?r:e==fz},strict:!1}),Pz=new zr((r,e)=>{let{next:t}=r;(t==D5||t==-1||e.context)&&r.acceptToken(uz)},{contextual:!0,fallback:!0}),Tz=new zr((r,e)=>{let{next:t}=r,i;E0.indexOf(t)>-1||t==Q0&&((i=r.peek(1))==Q0||i==vz)||t!=D5&&t!=Oz&&t!=-1&&!e.context&&r.acceptToken(oz)},{contextual:!0}),Ez=new zr((r,e)=>{r.next==kz&&!e.context&&r.acceptToken(az)},{contextual:!0}),Qz=new zr((r,e)=>{let{next:t}=r;if(t==xz||t==yz){if(r.advance(),t==r.next){r.advance();let i=!e.context&&e.canShift(OS);r.acceptToken(i?OS:lz)}}else t==Sz&&r.peek(1)==wz&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(cz))},{contextual:!0});function Im(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}const Rz=new zr((r,e)=>{if(r.next!=bz||!e.dialectEnabled(gz)||(r.advance(),r.next==Q0))return;let t=0;for(;E0.indexOf(r.next)>-1;)r.advance(),t++;if(Im(r.next,!0)){for(r.advance(),t++;Im(r.next,!1);)r.advance(),t++;for(;E0.indexOf(r.next)>-1;)r.advance(),t++;if(r.next==_z)return;for(let i=0;;i++){if(i==7){if(!Im(r.next,!0))return;break}if(r.next!="extends".charCodeAt(i))break;r.advance(),t++}}r.acceptToken(hz,-t)}),$z=Bs({"get set async static":Z.modifier,"for while do if else switch try catch finally return throw break continue default case":Z.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Z.operatorKeyword,"let var const using function class extends":Z.definitionKeyword,"import export from":Z.moduleKeyword,"with debugger new":Z.keyword,TemplateString:Z.special(Z.string),super:Z.atom,BooleanLiteral:Z.bool,this:Z.self,null:Z.null,Star:Z.modifier,VariableName:Z.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Z.function(Z.variableName),VariableDefinition:Z.definition(Z.variableName),Label:Z.labelName,PropertyName:Z.propertyName,PrivatePropertyName:Z.special(Z.propertyName),"CallExpression/MemberExpression/PropertyName":Z.function(Z.propertyName),"FunctionDeclaration/VariableDefinition":Z.function(Z.definition(Z.variableName)),"ClassDeclaration/VariableDefinition":Z.definition(Z.className),"NewExpression/VariableName":Z.className,PropertyDefinition:Z.definition(Z.propertyName),PrivatePropertyDefinition:Z.definition(Z.special(Z.propertyName)),UpdateOp:Z.updateOperator,"LineComment Hashbang":Z.lineComment,BlockComment:Z.blockComment,Number:Z.number,String:Z.string,Escape:Z.escape,ArithOp:Z.arithmeticOperator,LogicOp:Z.logicOperator,BitOp:Z.bitwiseOperator,CompareOp:Z.compareOperator,RegExp:Z.regexp,Equals:Z.definitionOperator,Arrow:Z.function(Z.punctuation),": Spread":Z.punctuation,"( )":Z.paren,"[ ]":Z.squareBracket,"{ }":Z.brace,"InterpolationStart InterpolationEnd":Z.special(Z.brace),".":Z.derefOperator,", ;":Z.separator,"@":Z.meta,TypeName:Z.typeName,TypeDefinition:Z.definition(Z.typeName),"type enum interface implements namespace module declare":Z.definitionKeyword,"abstract global Privacy readonly override":Z.modifier,"is keyof unique infer asserts":Z.operatorKeyword,JSXAttributeValue:Z.attributeValue,JSXText:Z.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Z.angleBracket,"JSXIdentifier JSXNameSpacedName":Z.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Z.attributeName,"JSXBuiltin/JSXIdentifier":Z.standard(Z.tagName)}),Az={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},Lz={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},Mz={__proto__:null,"<":193},jz=Ds.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:Cz,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[$z],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Tz,Ez,Qz,Rz,2,3,4,5,6,7,8,9,10,11,12,13,14,Pz,new Td("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new Td("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:r=>Az[r]||-1},{term:342,get:r=>Lz[r]||-1},{term:95,get:r=>Mz[r]||-1}],tokenPrec:15124}),I5=[er("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),er("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),er("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),er("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),er("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),er(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),er("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),er(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),er(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),er('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),er('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Nz=I5.concat([er("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),er("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),er("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),vS=new PO,B5=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Dl(r){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,r),!0}}const Dz=["FunctionDeclaration"],Iz={FunctionDeclaration:Dl("function"),ClassDeclaration:Dl("class"),ClassExpression:()=>!0,EnumDeclaration:Dl("constant"),TypeAliasDeclaration:Dl("type"),NamespaceDeclaration:Dl("namespace"),VariableDefinition(r,e){r.matchContext(Dz)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function z5(r,e){let t=vS.get(e);if(t)return t;let i=[],n=!0;function s(a,o){let l=r.sliceString(a.from,a.to);i.push({label:l,type:o})}return e.cursor(Dt.IncludeAnonymous).iterate(a=>{if(n)n=!1;else if(a.name){let o=Iz[a.name];if(o&&o(a,s)||B5.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of z5(r,a.node))i.push(o);return!1}}),vS.set(e,i),i}const xS=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,q5=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Bz(r){let e=Bt(r.state).resolveInner(r.pos,-1);if(q5.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&xS.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)B5.has(n.name)&&(i=i.concat(z5(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:xS}}const xn=js.define({name:"javascript",parser:jz.configure({props:[Po.add({IfStatement:ga({except:/^\s*({|else\b)/}),TryStatement:ga({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:lI,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:i?1:2)*r.unit},Block:Wu({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":ga({except:/^\s*{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),zs.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Wd,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),X5={test:r=>/^JSX/.test(r.name),facet:EO({commentTokens:{block:{open:"{/*",close:"*/}"}}})},W5=xn.configure({dialect:"ts"},"typescript"),F5=xn.configure({dialect:"jsx",props:[QO.add(r=>r.isTop?[X5]:void 0)]}),Z5=xn.configure({dialect:"jsx ts",props:[QO.add(r=>r.isTop?[X5]:void 0)]},"typescript");let V5=r=>({label:r,type:"keyword"});const U5="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(V5),zz=U5.concat(["declare","implements","private","protected","public"].map(V5));function H5(r={}){let e=r.jsx?r.typescript?Z5:F5:r.typescript?W5:xn,t=r.typescript?Nz.concat(zz):I5.concat(U5);return new bo(e,[xn.data.of({autocomplete:y5(q5,zO(t))}),xn.data.of({autocomplete:Bz}),r.jsx?Wz:[]])}function qz(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function yS(r,e,t=r.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,t));return""}const Xz=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Wz=De.inputHandler.of((r,e,t,i,n)=>{if((Xz?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||i!=">"&&i!="/"||!xn.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:a}=s,o=a.changeByRange(l=>{var u;let{head:d}=l,f=Bt(a).resolveInner(d-1,-1),p;if(f.name=="JSXStartTag"&&(f=f.parent),!(a.doc.sliceString(d-1,d)!=i||f.name=="JSXAttributeValue"&&f.to>d)){if(i==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:d,insert:"</>"}};if(i=="/"&&f.name=="JSXStartCloseTag"){let v=f.parent,S=v.parent;if(S&&v.from==d-2&&((p=yS(a.doc,S.firstChild,d))||((u=S.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let x=`${p}>`;return{range:ye.cursor(d+x.length,-1),changes:{from:d,insert:x}}}}else if(i==">"){let v=qz(f);if(v&&v.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(d,d+2))&&(p=yS(a.doc,v,d)))return{range:l,changes:{from:d,insert:`</${p}>`}}}}return{range:l}});return o.changes.empty?!1:(r.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Fz=1,Y5=194,G5=195,Zz=196,bS=197,Vz=198,Uz=199,Hz=200,Yz=2,K5=3,_S=201,Gz=24,Kz=25,Jz=49,e9=50,t9=55,r9=56,i9=57,n9=59,s9=60,o9=61,a9=62,l9=63,c9=65,h9=238,u9=71,d9=241,f9=242,p9=243,m9=244,g9=245,O9=246,v9=247,x9=248,J5=72,y9=249,b9=250,_9=251,S9=252,w9=253,k9=254,C9=255,P9=256,T9=73,E9=77,Q9=263,R9=112,$9=130,A9=151,L9=152,M9=155,So=10,Cc=13,GO=32,Gd=9,KO=35,j9=40,N9=46,R0=123,SS=125,eP=39,tP=34,wS=92,D9=111,I9=120,B9=78,z9=117,q9=85,X9=new Set([Kz,Jz,e9,Q9,c9,$9,r9,i9,h9,a9,l9,J5,T9,E9,s9,o9,A9,L9,M9,R9]);function Bm(r){return r==So||r==Cc}function zm(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}const W9=new zr((r,e)=>{let t;if(r.next<0)r.acceptToken(Uz);else if(e.context.flags&Vu)Bm(r.next)&&r.acceptToken(Vz,1);else if(((t=r.peek(-1))<0||Bm(t))&&e.canShift(bS)){let i=0;for(;r.next==GO||r.next==Gd;)r.advance(),i++;(r.next==So||r.next==Cc||r.next==KO)&&r.acceptToken(bS,-i)}else Bm(r.next)&&r.acceptToken(Zz,1)},{contextual:!0}),F9=new zr((r,e)=>{let t=e.context;if(t.flags)return;let i=r.peek(-1);if(i==So||i==Cc){let n=0,s=0;for(;;){if(r.next==GO)n++;else if(r.next==Gd)n+=8-n%8;else break;r.advance(),s++}n!=t.indent&&r.next!=So&&r.next!=Cc&&r.next!=KO&&(n<t.indent?r.acceptToken(G5,-s):r.acceptToken(Y5))}}),Vu=1,rP=2,In=4,Bn=8,zn=16,qn=32;function Uu(r,e,t){this.parent=r,this.indent=e,this.flags=t,this.hash=(r?r.hash+r.hash<<8:0)+e+(e<<4)+t+(t<<6)}const Z9=new Uu(null,0,0);function V9(r){let e=0;for(let t=0;t<r.length;t++)e+=r.charCodeAt(t)==Gd?8-e%8:1;return e}const kS=new Map([[d9,0],[f9,In],[p9,Bn],[m9,Bn|In],[g9,zn],[O9,zn|In],[v9,zn|Bn],[x9,zn|Bn|In],[y9,qn],[b9,qn|In],[_9,qn|Bn],[S9,qn|Bn|In],[w9,qn|zn],[k9,qn|zn|In],[C9,qn|zn|Bn],[P9,qn|zn|Bn|In]].map(([r,e])=>[r,e|rP])),U9=new YO({start:Z9,reduce(r,e,t,i){return r.flags&Vu&&X9.has(e)||(e==u9||e==J5)&&r.flags&rP?r.parent:r},shift(r,e,t,i){return e==Y5?new Uu(r,V9(i.read(i.pos,t.pos)),0):e==G5?r.parent:e==Gz||e==t9||e==n9||e==K5?new Uu(r,0,Vu):kS.has(e)?new Uu(r,0,kS.get(e)|r.flags&Vu):r},hash(r){return r.hash}}),H9=new zr(r=>{for(let e=0;e<5;e++){if(r.next!="print".charCodeAt(e))return;r.advance()}if(!/\w/.test(String.fromCharCode(r.next)))for(let e=0;;e++){let t=r.peek(e);if(!(t==GO||t==Gd)){t!=j9&&t!=N9&&t!=So&&t!=Cc&&t!=KO&&r.acceptToken(Fz);return}}}),Y9=new zr((r,e)=>{let{flags:t}=e.context,i=t&In?tP:eP,n=(t&Bn)>0,s=!(t&zn),a=(t&qn)>0,o=r.pos;for(;!(r.next<0);)if(a&&r.next==R0)if(r.peek(1)==R0)r.advance(2);else{if(r.pos==o){r.acceptToken(K5,1);return}break}else if(s&&r.next==wS){if(r.pos==o){r.advance();let l=r.next;l>=0&&(r.advance(),G9(r,l)),r.acceptToken(Yz);return}break}else if(r.next==wS&&!s&&r.peek(1)>-1)r.advance(2);else if(r.next==i&&(!n||r.peek(1)==i&&r.peek(2)==i)){if(r.pos==o){r.acceptToken(_S,n?3:1);return}break}else if(r.next==So){if(n)r.advance();else if(r.pos==o){r.acceptToken(_S);return}break}else r.advance();r.pos>o&&r.acceptToken(Hz)});function G9(r,e){if(e==D9)for(let t=0;t<2&&r.next>=48&&r.next<=55;t++)r.advance();else if(e==I9)for(let t=0;t<2&&zm(r.next);t++)r.advance();else if(e==z9)for(let t=0;t<4&&zm(r.next);t++)r.advance();else if(e==q9)for(let t=0;t<8&&zm(r.next);t++)r.advance();else if(e==B9&&r.next==R0){for(r.advance();r.next>=0&&r.next!=SS&&r.next!=eP&&r.next!=tP&&r.next!=So;)r.advance();r.next==SS&&r.advance()}}const K9=Bs({'async "*" "**" FormatConversion FormatSpec':Z.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Z.controlKeyword,"in not and or is del":Z.operatorKeyword,"from def class global nonlocal lambda":Z.definitionKeyword,import:Z.moduleKeyword,"with as print":Z.keyword,Boolean:Z.bool,None:Z.null,VariableName:Z.variableName,"CallExpression/VariableName":Z.function(Z.variableName),"FunctionDefinition/VariableName":Z.function(Z.definition(Z.variableName)),"ClassDefinition/VariableName":Z.definition(Z.className),PropertyName:Z.propertyName,"CallExpression/MemberExpression/PropertyName":Z.function(Z.propertyName),Comment:Z.lineComment,Number:Z.number,String:Z.string,FormatString:Z.special(Z.string),Escape:Z.escape,UpdateOp:Z.updateOperator,"ArithOp!":Z.arithmeticOperator,BitOp:Z.bitwiseOperator,CompareOp:Z.compareOperator,AssignOp:Z.definitionOperator,Ellipsis:Z.punctuation,At:Z.meta,"( )":Z.paren,"[ ]":Z.squareBracket,"{ }":Z.brace,".":Z.derefOperator,", ;":Z.separator}),J9={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},eq=Ds.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:U9,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[K9],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[H9,F9,W9,Y9,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:r=>J9[r]||-1}],tokenPrec:7668}),CS=new PO,iP=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Eu(r){return(e,t,i)=>{if(i)return!1;let n=e.node.getChild("VariableName");return n&&t(n,r),!0}}const tq={FunctionDefinition:Eu("function"),ClassDefinition:Eu("class"),ForStatement(r,e,t){if(t){for(let i=r.node.firstChild;i;i=i.nextSibling)if(i.name=="VariableName")e(i,"variable");else if(i.name=="in")break}},ImportStatement(r,e){var t,i;let{node:n}=r,s=((t=n.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let a=n.getChild("import");a;a=a.nextSibling)a.name=="VariableName"&&((i=a.nextSibling)===null||i===void 0?void 0:i.name)!="as"&&e(a,s?"variable":"namespace")},AssignStatement(r,e){for(let t=r.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(r,e){for(let t=null,i=r.node.firstChild;i;i=i.nextSibling)i.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(i,"variable"),t=i},CapturePattern:Eu("variable"),AsPattern:Eu("variable"),__proto__:null};function nP(r,e){let t=CS.get(e);if(t)return t;let i=[],n=!0;function s(a,o){let l=r.sliceString(a.from,a.to);i.push({label:l,type:o})}return e.cursor(Dt.IncludeAnonymous).iterate(a=>{if(a.name){let o=tq[a.name];if(o&&o(a,s,n)||!n&&iP.has(a.name))return!1;n=!1}else if(a.to-a.from>8192){for(let o of nP(r,a.node))i.push(o);return!1}}),CS.set(e,i),i}const PS=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,sP=["String","FormatString","Comment","PropertyName"];function rq(r){let e=Bt(r.state).resolveInner(r.pos,-1);if(sP.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&PS.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let n=e;n;n=n.parent)iP.has(n.name)&&(i=i.concat(nP(r.state.doc,n)));return{options:i,from:t?e.from:r.pos,validFor:PS}}const iq=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(r=>({label:r,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(r=>({label:r,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(r=>({label:r,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(r=>({label:r,type:"function"}))),nq=[er("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),er("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),er("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),er("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),er(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),er("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),er("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),er("import ${module}",{label:"import",detail:"statement",type:"keyword"}),er("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],sq=y5(sP,zO(iq.concat(nq)));function qm(r){let{node:e,pos:t}=r,i=r.lineIndent(t,-1),n=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")r.baseIndentFor(s)+r.unit<=i&&(n=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return n}function Xm(r,e){let t=r.baseIndentFor(e),i=r.lineAt(r.pos,-1),n=i.from+i.text.length;return/^\s*($|#)/.test(i.text)&&r.node.to<n+100&&!/\S/.test(r.state.sliceDoc(n,r.node.to))&&r.lineIndent(r.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(r.textAfter)&&r.lineIndent(r.pos,-1)>t?null:t+r.unit}const Wm=js.define({name:"python",parser:eq.configure({props:[Po.add({Body:r=>{var e;let t=/^\s*(#|$)/.test(r.textAfter)&&qm(r)||r.node;return(e=Xm(r,t))!==null&&e!==void 0?e:r.continue()},MatchBody:r=>{var e;let t=qm(r);return(e=Xm(r,t||r.node))!==null&&e!==void 0?e:r.continue()},IfStatement:r=>/^\s*(else:|elif )/.test(r.textAfter)?r.baseIndent:r.continue(),"ForStatement WhileStatement":r=>/^\s*else:/.test(r.textAfter)?r.baseIndent:r.continue(),TryStatement:r=>/^\s*(except[ :]|finally:|else:)/.test(r.textAfter)?r.baseIndent:r.continue(),MatchStatement:r=>/^\s*case /.test(r.textAfter)?r.baseIndent+r.unit:r.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":Wu({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":Wu({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":Wu({closing:"]"}),MemberExpression:r=>r.baseIndent+r.unit,"String FormatString":()=>null,Script:r=>{var e;let t=qm(r);return(e=t&&Xm(r,t))!==null&&e!==void 0?e:r.continue()}}),zs.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Wd,Body:(r,e)=>({from:r.from+1,to:r.to-(r.to==e.doc.length?0:1)}),"String FormatString":(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function oq(){return new bo(Wm,[Wm.data.of({autocomplete:rq}),Wm.data.of({autocomplete:sq})])}const aq=54,lq=1,cq=55,hq=2,uq=56,dq=3,TS=4,fq=5,Ed=6,oP=7,aP=8,lP=9,cP=10,pq=11,mq=12,gq=13,Fm=57,Oq=14,ES=58,hP=20,vq=22,uP=23,xq=24,$0=26,dP=27,yq=28,bq=31,_q=34,Sq=36,wq=37,kq=0,Cq=1,Pq={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Tq={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},QS={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Eq(r){return r==45||r==46||r==58||r>=65&&r<=90||r==95||r>=97&&r<=122||r>=161}function fP(r){return r==9||r==10||r==13||r==32}let RS=null,$S=null,AS=0;function A0(r,e){let t=r.pos+e;if(AS==t&&$S==r)return RS;let i=r.peek(e);for(;fP(i);)i=r.peek(++e);let n="";for(;Eq(i);)n+=String.fromCharCode(i),i=r.peek(++e);return $S=r,AS=t,RS=n?n.toLowerCase():i==Qq||i==Rq?void 0:null}const pP=60,Qd=62,JO=47,Qq=63,Rq=33,$q=45;function LS(r,e){this.name=r,this.parent=e}const Aq=[Ed,cP,oP,aP,lP],Lq=new YO({start:null,shift(r,e,t,i){return Aq.indexOf(e)>-1?new LS(A0(i,1)||"",r):r},reduce(r,e){return e==hP&&r?r.parent:r},reuse(r,e,t,i){let n=e.type.id;return n==Ed||n==Sq?new LS(A0(i,1)||"",r):r},strict:!1}),Mq=new zr((r,e)=>{if(r.next!=pP){r.next<0&&e.context&&r.acceptToken(Fm);return}r.advance();let t=r.next==JO;t&&r.advance();let i=A0(r,0);if(i===void 0)return;if(!i)return r.acceptToken(t?Oq:Ed);let n=e.context?e.context.name:null;if(t){if(i==n)return r.acceptToken(pq);if(n&&Tq[n])return r.acceptToken(Fm,-2);if(e.dialectEnabled(kq))return r.acceptToken(mq);for(let s=e.context;s;s=s.parent)if(s.name==i)return;r.acceptToken(gq)}else{if(i=="script")return r.acceptToken(oP);if(i=="style")return r.acceptToken(aP);if(i=="textarea")return r.acceptToken(lP);if(Pq.hasOwnProperty(i))return r.acceptToken(cP);n&&QS[n]&&QS[n][i]?r.acceptToken(Fm,-1):r.acceptToken(Ed)}},{contextual:!0}),jq=new zr(r=>{for(let e=0,t=0;;t++){if(r.next<0){t&&r.acceptToken(ES);break}if(r.next==$q)e++;else if(r.next==Qd&&e>=2){t>=3&&r.acceptToken(ES,-2);break}else e=0;r.advance()}});function Nq(r){for(;r;r=r.parent)if(r.name=="svg"||r.name=="math")return!0;return!1}const Dq=new zr((r,e)=>{if(r.next==JO&&r.peek(1)==Qd){let t=e.dialectEnabled(Cq)||Nq(e.context);r.acceptToken(t?fq:TS,2)}else r.next==Qd&&r.acceptToken(TS,1)});function ev(r,e,t){let i=2+r.length;return new zr(n=>{for(let s=0,a=0,o=0;;o++){if(n.next<0){o&&n.acceptToken(e);break}if(s==0&&n.next==pP||s==1&&n.next==JO||s>=2&&s<i&&n.next==r.charCodeAt(s-2))s++,a++;else if((s==2||s==i)&&fP(n.next))a++;else if(s==i&&n.next==Qd){o>a?n.acceptToken(e,-a):n.acceptToken(t,-(a-2));break}else if((n.next==10||n.next==13)&&o){n.acceptToken(e,1);break}else s=a=0;n.advance()}})}const Iq=ev("script",aq,lq),Bq=ev("style",cq,hq),zq=ev("textarea",uq,dq),qq=Bs({"Text RawText":Z.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Z.angleBracket,TagName:Z.tagName,"MismatchedCloseTag/TagName":[Z.tagName,Z.invalid],AttributeName:Z.attributeName,"AttributeValue UnquotedAttributeValue":Z.attributeValue,Is:Z.definitionOperator,"EntityReference CharacterReference":Z.character,Comment:Z.blockComment,ProcessingInst:Z.processingInstruction,DoctypeDecl:Z.documentMeta}),Xq=Ds.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Lq,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[qq],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Iq,Bq,zq,Dq,Mq,jq,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function mP(r,e){let t=Object.create(null);for(let i of r.getChildren(uP)){let n=i.getChild(xq),s=i.getChild($0)||i.getChild(dP);n&&(t[e.read(n.from,n.to)]=s?s.type.id==$0?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function MS(r,e){let t=r.getChild(vq);return t?e.read(t.from,t.to):" "}function Zm(r,e,t){let i;for(let n of t)if(!n.attrs||n.attrs(i||(i=mP(r.node.parent.firstChild,e))))return{parser:n.parser};return null}function gP(r=[],e=[]){let t=[],i=[],n=[],s=[];for(let o of r)(o.tag=="script"?t:o.tag=="style"?i:o.tag=="textarea"?n:s).push(o);let a=e.length?Object.create(null):null;for(let o of e)(a[o.name]||(a[o.name]=[])).push(o);return f2((o,l)=>{let u=o.type.id;if(u==yq)return Zm(o,l,t);if(u==bq)return Zm(o,l,i);if(u==_q)return Zm(o,l,n);if(u==hP&&s.length){let d=o.node,f=d.firstChild,p=f&&MS(f,l),v;if(p){for(let S of s)if(S.tag==p&&(!S.attrs||S.attrs(v||(v=mP(f,l))))){let x=d.lastChild,m=x.type.id==wq?x.from:d.to;if(m>f.to)return{parser:S.parser,overlay:[{from:f.to,to:m}]}}}}if(a&&u==uP){let d=o.node,f;if(f=d.firstChild){let p=a[l.read(f.from,f.to)];if(p)for(let v of p){if(v.tagName&&v.tagName!=MS(d.parent,l))continue;let S=d.lastChild;if(S.type.id==$0){let x=S.from+1,m=S.lastChild,y=S.to-(m&&m.isError?0:1);if(y>x)return{parser:v.parser,overlay:[{from:x,to:y}]}}else if(S.type.id==dP)return{parser:v.parser,overlay:[{from:S.from,to:S.to}]}}}}return null})}const Wq=107,jS=1,Fq=108,Zq=109,NS=2,DS=110,OP=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Vq=58,Uq=40,vP=95,Hq=91,Hu=45,Yq=46,Gq=35,Kq=37,Jq=38,eX=92,tX=10,rX=42;function Pc(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function xP(r){return r>=48&&r<=57}const iX=new zr((r,e)=>{for(let t=!1,i=0,n=0;;n++){let{next:s}=r;if(Pc(s)||s==Hu||s==vP||t&&xP(s))!t&&(s!=Hu||n>0)&&(t=!0),i===n&&s==Hu&&i++,r.advance();else if(s==eX&&r.peek(1)!=tX)r.advance(),r.next>-1&&r.advance(),t=!0;else{t&&r.acceptToken(i==2&&e.canShift(NS)?NS:e.canShift(DS)?DS:s==Uq?Fq:Zq);break}}}),nX=new zr(r=>{if(OP.includes(r.peek(-1))){let{next:e}=r;(Pc(e)||e==vP||e==Gq||e==Yq||e==rX||e==Hq||e==Vq&&Pc(r.peek(1))||e==Hu||e==Jq)&&r.acceptToken(Wq)}}),sX=new zr(r=>{if(!OP.includes(r.peek(-1))){let{next:e}=r;if(e==Kq&&(r.advance(),r.acceptToken(jS)),Pc(e)){do r.advance();while(Pc(r.next)||xP(r.next));r.acceptToken(jS)}}}),oX=Bs({"AtKeyword import charset namespace keyframes media supports":Z.definitionKeyword,"from to selector":Z.keyword,NamespaceName:Z.namespace,KeyframeName:Z.labelName,KeyframeRangeName:Z.operatorKeyword,TagName:Z.tagName,ClassName:Z.className,PseudoClassName:Z.constant(Z.className),IdName:Z.labelName,"FeatureName PropertyName":Z.propertyName,AttributeName:Z.attributeName,NumberLiteral:Z.number,KeywordQuery:Z.keyword,UnaryQueryOp:Z.operatorKeyword,"CallTag ValueName":Z.atom,VariableName:Z.variableName,Callee:Z.operatorKeyword,Unit:Z.unit,"UniversalSelector NestingSelector":Z.definitionOperator,"MatchOp CompareOp":Z.compareOperator,"ChildOp SiblingOp, LogicOp":Z.logicOperator,BinOp:Z.arithmeticOperator,Important:Z.modifier,Comment:Z.blockComment,ColorLiteral:Z.color,"ParenthesizedContent StringLiteral":Z.string,":":Z.punctuation,"PseudoOp #":Z.derefOperator,"; ,":Z.separator,"( )":Z.paren,"[ ]":Z.squareBracket,"{ }":Z.brace}),aX={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62},lX={__proto__:null,"@import":120,"@media":154,"@charset":158,"@namespace":162,"@keyframes":168,"@supports":180},cX={__proto__:null,layer:124,not:144,only:144,selector:150},hX=Ds.deserialize({version:14,states:">`QYQ[OOO#kQ[OOP#rOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#wQ[O'#CfO$hQXO'#CaO$rQ[O'#CiO$}Q[O'#DUO%SQ[O'#DXO%XQ[O'#D[O%XQ[O'#D_OOQP'#Ev'#EvO%yQdO'#DhO&hQ[O'#DzO%yQdO'#D|O&yQ[O'#EOO'UQ[O'#ERO'^Q[O'#EXO'lQ[O'#EZOOQS'#Eu'#EuOOQS'#E^'#E^QYQ[OOO'sQXO'#CdO(hQWO'#DdO(mQWO'#E{O(xQ[O'#E{QOQWOOP)SO#tO'#C_POOO)C@e)C@eOOQP'#Ch'#ChOOQP,59Q,59QO#wQ[O,59QO)_Q[O,59TO$}Q[O,59pO%SQ[O,59sO%XQ[O,59vO%XQ[O,59xO%XQ[O,59yO%XQ[O'#EcO)jQWO,58{O)rQ[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)yQWO,59TO*OQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO*TQ`O,59sO*nQXO,59vO+UQXO,59yOOQS'#Cq'#CqO%yQdO'#CrO+lQvO'#CtO-hQtO,5:SOOQO'#Cy'#CyO*OQWO'#CxO-rQWO'#CzO-wQ[O'#DPOOQS'#Ex'#ExOOQO'#Dn'#DnO.eQdO'#DwO.uQWO'#E|O'^Q[O'#DuO/TQWO'#DxOOQO'#E}'#E}O)mQWO,5:fO/YQpO,5:hOOQS'#EQ'#EQO/bQWO,5:jO/gQ[O,5:jOOQO'#ET'#ETO/oQWO,5:mO/tQWO,5:sO/|QWO,5:uOOQS-E8[-E8[O0UQdO,5:OO0fQ[O'#EeO0sQWO,5;gO0sQWO,5;gPOOO'#E]'#E]P1OO#tO,58yPOOO,58y,58yOOQP1G.l1G.lOOQP1G.o1G.oO)yQWO1G.oO*OQWO1G.oOOQP1G/[1G/[O1ZQ`O1G/_O1cQXO1G/bO1yQXO1G/dO2aQXO1G/eO2wQXO,5:}OOQO-E8a-E8aOOQS1G.g1G.gO3RQWO,59}O3WQ[O'#DTO3_QdO'#CpOOQP1G/_1G/_O%yQdO1G/_O3fQpO,59^OOQS,59`,59`O%yQdO,59bO3nQ[O'#DkO4PQWO1G/nO-VQ[O1G/nOOQS,59d,59dO4UQ!bO,59fOOQS'#DQ'#DQOOQS'#E`'#E`O4aQ[O,59kOOQS,59k,59kO4iQpO'#DnO4wQpO,5:ZO5PQWO,5:cOOQO'#FO'#FOO4zQpO,5:_O'^Q[O,5:]O5XQ[O'#EgO5pQWO,5;hO5{QWO,5:aO%XQ[O,5:dOOQS1G0Q1G0QOOQS1G0S1G0SOOQS1G0U1G0UO6^QWO1G0UO6cQdO'#EUOOQS1G0X1G0XOOQS1G0_1G0_OOQS1G0a1G0aO6nQtO1G/jOOQO1G/j1G/jOOQO,5;P,5;PO7UQ[O,5;POOQO-E8c-E8cO7cQWO1G1RPOOO-E8Z-E8ZPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO%yQdO7+$yOOQS1G/i1G/iO7nQXO'#EzO7xQWO,59oO7}QtO'#E_O8uQdO'#EwO9PQWO,59[O9UQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|O9^Q[O,5:VOOQS7+%Y7+%YO9cQWO7+%YOOQS1G/Q1G/QO9hQWO1G/QOOQS-E8^-E8^OOQS1G/V1G/VO%yQdO1G/uO9mQdO1G/yOOQO1G/}1G/}OOQO1G/w1G/wO9tQWO,5;ROOQO-E8e-E8eO:SQXO1G0OOOQS7+%p7+%pO:ZQYO'#CtOOQO'#EW'#EWO:iQ`O'#EVOOQO'#EV'#EVO:tQWO'#EhO:|QdO,5:pOOQS,5:p,5:pO;XQtO'#EdO%yQdO'#EdO<YQdO7+%UOOQO7+%U7+%UOOQO1G0k1G0kO<mQpO<<HeO<uQ[O'#EbO=PQWO,5;fOOQP1G/Z1G/ZOOQS-E8]-E8]O=XQdO'#EaO=cQWO,5;cOOQT1G.v1G.vOOQP<<He<<HeOOQO'#Dm'#DmO=kQWO1G/qOOQS<<Ht<<HtOOQS7+$l7+$lO=sQdO7+%aOOQO'#Dp'#DpO=zQpO7+%eOOQO7+%j7+%jOOQO,5:q,5:qO6fQdO'#EiO:tQWO,5;SOOQS,5;S,5;SOOQS-E8f-E8fOOQS1G0[1G0[O>SQtO,5;OOOQS-E8b-E8bOOQO<<Hp<<HpOOQPAN>PAN>PO?TQXO,5:|OOQO-E8`-E8`O?_QdO,5:{OOQO-E8_-E8_O9^Q[O'#EfO?iQWO7+%]OOQS7+%]7+%]OOQO<<H{<<H{OOQO<<IP<<IPO?qQdO<<IPOOQO,5;T,5;TOOQO-E8g-E8gOOQS1G0n1G0nOOQO,5;Q,5;QOOQO-E8d-E8dOOQS<<Hw<<HwO@YQWOAN>kOOQOG24VG24V",stateData:"@g~O#dOS#eQQ~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#aRO~OQhOU[OX[OZTO^VO_VOrXOyWO!PYO!SZO!]cO!^]O!o^O!q_O!s`O!vaO!|bO#agO~O#^#oP~P!aO#elO~O#anO~OZpO^qO_qOrsOyrO!PtO!SvO#_uO~OuwO!UyO~P#|Oa!PO#`|O#a{O~O#a!QO~O#a!SO~OU[OX[OZTO^VO_VOrXOyWO!PYO!SZO#aRO~OQ!`Oc!XOg!`Oi!`Oo!^Or!_O#`![O#a!WO#m!YO~Oc!bO!j!dO!m!eO#b!aO!U#pP~Oi!jOo!^O#a!iO~Oi!lO#a!lO~Oc!bO!j!dO!m!eO#b!aO~O!Z#pP~P&hOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#_WX~O^!qO~O!Z!rO#^#oX!T#oX~O#^#oX!T#oX~P!aO#f!uO#g!uO#h!wO~Oa!{O#`|O#a{O~OuwO!UyO~O!T#oP~P!aOc#VO~Oc#WO~Oq#XO}#YO~OZpO^qO_qOrsOyrO~Ou!Oa!P!Oa!S!Oa!U!Oa#_!Oab!Oa~P*]Ou!Ra!P!Ra!S!Ra!U!Ra#_!Rab!Ra~P*]OP#[OchXkhX!ZhX!`hX!jhX!mhX#bhXbhX!hhXQhXghXihXohXrhXuhX!YhX#^hX#`hX#ahX#mhXqhX!ThX~Oc!bO!j!dO!m!eO#b!aO!Z#pP~Ok#]O!`#^O~P-VOc#bO~Oq#fO#a#cO~OQ#jOg#jOi#jOo!^O#`![O#m!YO~Oc!bO!j!dO!m!eO#b#gO~P.POu#mO!f#lO!U#pX!Z#pX~Oc#pO~Ok#]O!Z#rO~O!Z#sO~Oi#tOo!^O~O!U#uO~O!UyO!f#lO~O!UyO!Z#xO~O!Y#zO!Z!Wa#^!Wa!T!Wa~P%yO!Z#XX#^#XX!T#XX~P!aO!Z!rO#^#oa!T#oa~O#f!uO#g!uO#h$QO~Oq$SO}$TO~Ou!Oi!P!Oi!S!Oi!U!Oi#_!Oib!Oi~P*]Ou!Qi!P!Qi!S!Qi!U!Qi#_!Qib!Qi~P*]Ou!Ri!P!Ri!S!Ri!U!Ri#_!Rib!Ri~P*]Ou#Va!U#Va~P#|O!T$UO~Ob#nP~P%XOb#kP~P%yOb$]Ok#]O~Oc$_O!Z!_X!j!_X!m!_X#b!_X~O!Z$`O~Ob$bOi$cOp$cO~Oq$eO#a#cO~O^!dXb!bX!f!bX!h!dX~O^$fO!h$gO~Ob$hO!f#lO~Oc!bO!j!dO!m!eO#b!aOu#ZX!U#ZX!Z#ZX~Ou#mO!U#pa!Z#pa~O!f#lOu!ia!U!ia!Z!iab!ia~O!Z$mO~O!T$tO#a$oO#m$nO~Ok#]Ou$vO!Y$xO!Z!Wi#^!Wi!T!Wi~P%yO!Z#Xa#^#Xa!T#Xa~P!aO!Z!rO#^#oi!T#oi~Ou${Ob#nX~P#|Ob$}O~Ok#]OQ#RXb#RXc#RXg#RXi#RXo#RXr#RXu#RX#`#RX#a#RX#m#RX~Ou%POb#kX~P%yOb%RO~Ok#]Oq%SO~O#a%TO~O!Z%VO~Ob%WO~O#b%YO~P.PO!f#lOu#Za!U#Za!Z#Za~Ob%[O~P#|OP#[OuhX!UhXbhX~O#m$nOu!yX!U!yX~Ou%^O!UyO~O!T%bO#a$oO#m$nO~Ok#]OQ#WXc#WXg#WXi#WXo#WXr#WXu#WX!Y#WX!Z#WX#^#WX#`#WX#a#WX#m#WX!T#WX~Ou$vO!Y%eO!Z!Wq#^!Wq!T!Wq~P%yOk#]Oq%fO~Ob#UXu#UX~P%XOu${Ob#na~Ob#TXu#TX~P%yOu%POb#ka~OZ%kOb%mO~Ob%nO~P%yOb%oO!h%pO~Ok#]OQ#Wac#Wag#Wai#Wao#War#Wau#Wa!Y#Wa!Z#Wa#^#Wa#`#Wa#a#Wa#m#Wa!T#Wa~Ob#Uau#Ua~P#|Ob#Tau#Ta~P%yOZ%kOb%vO~OQ#jOg#jOi#jOo!^O#`![O#b%YO#m$nO~Ob%xO~O#dp#e#mk!S#m~",goto:"/l#sPPP#tP#wP$Q$dP$QP$v$QPP$|PPP%S%]%]P%oP%]P&`&w'^PPPP%]'{P(P(V$QP(]$Q(cP$QP$Q$QPPP(i)O)]PP#wPP)dP)g)m)m)x)mP)mP)mP)m)mP#wP#wP#wP*R#wP*U*X*[*c#wP#wP*h*n*}+]+c+i+o+u+{,V,],c,iPPPPPPPPPPP,o,x-n-qP.g.j.p.|/cRmQ_dOPfjy!r#|q[OPYZfjtuvwy!r#V#p#|${qSOPYZfjtuvwy!r#V#p#|${QoTR!xpQ}VR!yqQ!y!PQ#a!]R$R!{q!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%ip!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iU#j!b$g%pU$q#u$s%^R%]$pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iV#j!b$g%pw!]]_!X!b!q#W#Y#]#y$T$Y$f$g$v$w%P%X%i%pp!`]_!X!q#W#Y#]#y$T$Y$f$v$w%P%X%iQ!j`U#j!b$g%pR#t!kT#d!_#eQ!OVR!zqQ!y!OR$R!zQ!RWR!|rQ!TXR!}sQzUQ#TxQ#q!gQ#w!nQ#x!oQ%`$rR%s%_SiPyQ!tjQ#{!rR$y#|ZhPjy!r#|R#`!ZQ%U$_R%t%kc!f^bc!Z!b!d#`#l#mQ#h!bQ%Z$gR%w%pR!k`R!maR#v!mS$r#u$sR%q%^V$p#u$s%^Q!vlR$P!vQfOSjPyU!pfj#|R#|!rQ$Y#WU%O$Y%X%iQ%X$fR%i%PQ#e!_R$d#eQ%Q$YR%j%QQ$|$VR%h$|QxUR#SxQ$w#yR%d$wQ!siS#}!s$OR$O!tQ%l%UR%u%lQ#n!cR$k#nQ$s#uR%a$sQ%_$rR%r%__eOPfjy!r#|^UOPfjy!r#|Q!UYQ!VZQ#OtQ#PuQ#QvQ#RwQ$V#VQ$l#pR%g${R$Z#WQ!Z]Q!h_Q#Z!XQ#y!q[$X#W$Y$f%P%X%iQ$[#YQ$^#]S$u#y$wQ$z$TR%c$vR$W#VQkPR#UyQ!g^Q!ocQ#_!ZR$a#`W!c^c!Z#`Q!nbQ#i!bQ#o!dQ$i#lR$j#mQ#k!bQ%Z$gR%w%p",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import Layer layer LayerName KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:126,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[oX],skippedNodes:[0,3,93],repeatNodeCount:13,tokenData:"LU~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_Cj!_!`Df!`!aDy!a!b$}!b!cEz!c!}$}!}#OHX#O#P$}#P#QHj#Q#R6d#R#T$}#T#UH{#U#c$}#c#dJ^#d#o$}#o#pJs#p#q6d#q#rKU#r#sKg#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`LO<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#d~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#d~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#m[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#m[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#e~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#m[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^jBbU^YOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^hCoU!hWOy%^z!_%^!_!`DR!`;'S%^;'S;=`%o<%lO%^hDYS!hWp`Oy%^z;'S%^;'S;=`%o<%lO%^lDmS!hW}SOy%^z;'S%^;'S;=`%o<%lO%^jEQV!PQ!hWOy%^z!_%^!_!`DR!`!aEg!a;'S%^;'S;=`%o<%lO%^bEnS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bE}YOy%^z}%^}!OFm!O!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bFrWp`Oy%^z!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^bGc[!]Qp`Oy%^z}%^}!OG[!O!Q%^!Q![G[![!c%^!c!}G[!}#T%^#T#oG[#o;'S%^;'S;=`%o<%lO%^nH^Sr^Oy%^z;'S%^;'S;=`%o<%lO%^nHoSq^Oy%^z;'S%^;'S;=`%o<%lO%^jIOUOy%^z#b%^#b#cIb#c;'S%^;'S;=`%o<%lO%^jIgUp`Oy%^z#W%^#W#XIy#X;'S%^;'S;=`%o<%lO%^jJQS!fYp`Oy%^z;'S%^;'S;=`%o<%lO%^jJaUOy%^z#f%^#f#gIy#g;'S%^;'S;=`%o<%lO%^fJxS!UUOy%^z;'S%^;'S;=`%o<%lO%^nKZS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fKlU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`LRP;=`<%l$}",tokenizers:[nX,sX,iX,1,2,3,4,new Td("m~RRYZ[z{a~~g~aO#g~~dP!P!Qg~lO#h~~",28,114)],topRules:{StyleSheet:[0,4],Styles:[1,92]},specialized:[{term:108,get:r=>aX[r]||-1},{term:59,get:r=>lX[r]||-1},{term:110,get:r=>cX[r]||-1}],tokenPrec:1441});let Vm=null;function Um(){if(!Vm&&typeof document=="object"&&document.body){let{style:r}=document.body,e=[],t=new Set;for(let i in r)i!="cssText"&&i!="cssFloat"&&typeof r[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));Vm=e.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return Vm||[]}const IS=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),BS=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),uX=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),dX=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(r=>({type:"keyword",label:r})),Dn=/^(\w[\w-]*|-\w[\w-]*|)$/,fX=/^-(-[\w-]*)?$/;function pX(r,e){var t;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let i=(t=r.parent)===null||t===void 0?void 0:t.firstChild;return i?.name!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const zS=new PO,mX=["Declaration"];function gX(r){for(let e=r;;){if(e.type.isTop)return e;if(!(e=e.parent))return r}}function yP(r,e,t){if(e.to-e.from>4096){let i=zS.get(e);if(i)return i;let n=[],s=new Set,a=e.cursor(Dt.IncludeAnonymous);if(a.firstChild())do for(let o of yP(r,a.node,t))s.has(o.label)||(s.add(o.label),n.push(o));while(a.nextSibling());return zS.set(e,n),n}else{let i=[],n=new Set;return e.cursor().iterate(s=>{var a;if(t(s)&&s.matchContext(mX)&&((a=s.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let o=r.sliceString(s.from,s.to);n.has(o)||(n.add(o),i.push({label:o,type:"variable"}))}}),i}}const OX=r=>e=>{let{state:t,pos:i}=e,n=Bt(t).resolveInner(i,-1),s=n.type.isError&&n.from==n.to-1&&t.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:Um(),validFor:Dn};if(n.name=="ValueName")return{from:n.from,options:BS,validFor:Dn};if(n.name=="PseudoClassName")return{from:n.from,options:IS,validFor:Dn};if(r(n)||(e.explicit||s)&&pX(n,t.doc))return{from:r(n)||s?n.from:i,options:yP(t.doc,gX(n),r),validFor:fX};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:Um(),validFor:Dn};return{from:n.from,options:uX,validFor:Dn}}if(n.name=="AtKeyword")return{from:n.from,options:dX,validFor:Dn};if(!e.explicit)return null;let a=n.resolve(i),o=a.childBefore(i);return o&&o.name==":"&&a.name=="PseudoClassSelector"?{from:i,options:IS,validFor:Dn}:o&&o.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:i,options:BS,validFor:Dn}:a.name=="Block"||a.name=="Styles"?{from:i,options:Um(),validFor:Dn}:null},vX=OX(r=>r.name=="VariableName"),Rd=js.define({name:"css",parser:hX.configure({props:[Po.add({Declaration:ga()}),zs.add({"Block KeyframeList":Wd})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function bP(){return new bo(Rd,Rd.data.of({autocomplete:vX}))}const Il=["_blank","_self","_top","_parent"],Hm=["ascii","utf-8","utf-16","latin1","latin1"],Ym=["get","post","put","delete"],Gm=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],pi=["true","false"],nt={},xX={a:{attrs:{href:null,ping:null,type:null,media:null,target:Il,hreflang:null}},abbr:nt,address:nt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:nt,aside:nt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:nt,base:{attrs:{href:null,target:Il}},bdi:nt,bdo:nt,blockquote:{attrs:{cite:null}},body:nt,br:nt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Gm,formmethod:Ym,formnovalidate:["novalidate"],formtarget:Il,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:nt,center:nt,cite:nt,code:nt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:nt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:nt,div:nt,dl:nt,dt:nt,em:nt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:nt,figure:nt,footer:nt,form:{attrs:{action:null,name:null,"accept-charset":Hm,autocomplete:["on","off"],enctype:Gm,method:Ym,novalidate:["novalidate"],target:Il}},h1:nt,h2:nt,h3:nt,h4:nt,h5:nt,h6:nt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:nt,hgroup:nt,hr:nt,html:{attrs:{manifest:null}},i:nt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Gm,formmethod:Ym,formnovalidate:["novalidate"],formtarget:Il,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:nt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:nt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:nt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Hm,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:nt,noscript:nt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:nt,param:{attrs:{name:null,value:null}},pre:nt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:nt,rt:nt,ruby:nt,samp:nt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Hm}},section:nt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:nt,source:{attrs:{src:null,type:null,media:null}},span:nt,strong:nt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:nt,summary:nt,sup:nt,table:nt,tbody:nt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:nt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:nt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:nt,time:{attrs:{datetime:null}},title:nt,tr:nt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:nt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:nt},_P={accesskey:null,class:null,contenteditable:pi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:pi,autocorrect:pi,autocapitalize:pi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":pi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":pi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":pi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":pi,"aria-hidden":pi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":pi,"aria-multiselectable":pi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":pi,"aria-relevant":null,"aria-required":pi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},SP="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(r=>"on"+r);for(let r of SP)_P[r]=null;class Tc{constructor(e,t){this.tags=Object.assign(Object.assign({},xX),e),this.globalAttrs=Object.assign(Object.assign({},_P),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Tc.default=new Tc;function Qa(r,e,t=r.length){if(!e)return"";let i=e.firstChild,n=i&&i.getChild("TagName");return n?r.sliceString(n.from,Math.min(n.to,t)):""}function Ra(r,e=!1){for(;r;r=r.parent)if(r.name=="Element")if(e)e=!1;else return r;return null}function wP(r,e,t){let i=t.tags[Qa(r,Ra(e))];return i?.children||t.allTags}function tv(r,e){let t=[];for(let i=Ra(e);i&&!i.type.isTop;i=Ra(i.parent)){let n=Qa(r,i);if(n&&i.lastChild.name=="CloseTag")break;n&&t.indexOf(n)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&t.push(n)}return t}const kP=/^[:\-\.\w\u00b7-\uffff]*$/;function qS(r,e,t,i,n){let s=/\s*>/.test(r.sliceDoc(n,n+5))?"":">",a=Ra(t,!0);return{from:i,to:n,options:wP(r.doc,a,e).map(o=>({label:o,type:"type"})).concat(tv(r.doc,t).map((o,l)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function XS(r,e,t,i){let n=/\s*>/.test(r.sliceDoc(i,i+5))?"":">";return{from:t,to:i,options:tv(r.doc,e).map((s,a)=>({label:s,apply:s+n,type:"type",boost:99-a})),validFor:kP}}function yX(r,e,t,i){let n=[],s=0;for(let a of wP(r.doc,t,e))n.push({label:"<"+a,type:"type"});for(let a of tv(r.doc,t))n.push({label:"</"+a+">",type:"type",boost:99-s++});return{from:i,to:i,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function bX(r,e,t,i,n){let s=Ra(t),a=s?e.tags[Qa(r.doc,s)]:null,o=a&&a.attrs?Object.keys(a.attrs):[],l=a&&a.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:n,options:l.map(u=>({label:u,type:"property"})),validFor:kP}}function _X(r,e,t,i,n){var s;let a=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],l;if(a){let u=r.sliceDoc(a.from,a.to),d=e.globalAttrs[u];if(!d){let f=Ra(t),p=f?e.tags[Qa(r.doc,f)]:null;d=p?.attrs&&p.attrs[u]}if(d){let f=r.sliceDoc(i,n).toLowerCase(),p='"',v='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,p="",v=r.sliceDoc(n,n+1)==f[0]?"":f[0],f=f.slice(1),i++):l=/^[^\s<>='"]*$/;for(let S of d)o.push({label:S,apply:p+S+v,type:"constant"})}}return{from:i,to:n,options:o,validFor:l}}function CP(r,e){let{state:t,pos:i}=e,n=Bt(t).resolveInner(i,-1),s=n.resolve(i);for(let a=i,o;s==n&&(o=n.childBefore(a));){let l=o.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=n=o,a=l.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?XS(t,n,n.from,i):qS(t,r,n,n.from,i):n.name=="StartTag"?qS(t,r,n,i,i):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?XS(t,n,i,i):n.name=="OpenTag"||n.name=="SelfClosingTag"||n.name=="AttributeName"?bX(t,r,n,n.name=="AttributeName"?n.from:i,i):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?_X(t,r,n,n.name=="Is"?i:n.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?yX(t,r,n,i):null}function SX(r){return CP(Tc.default,r)}function wX(r){let{extraTags:e,extraGlobalAttributes:t}=r,i=t||e?new Tc(e,t):Tc.default;return n=>CP(i,n)}const kX=xn.parser.configure({top:"SingleExpression"}),PP=[{tag:"script",attrs:r=>r.type=="text/typescript"||r.lang=="ts",parser:W5.parser},{tag:"script",attrs:r=>r.type=="text/babel"||r.type=="text/jsx",parser:F5.parser},{tag:"script",attrs:r=>r.type=="text/typescript-jsx",parser:Z5.parser},{tag:"script",attrs(r){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(r.type)},parser:kX},{tag:"script",attrs(r){return!r.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(r.type)},parser:xn.parser},{tag:"style",attrs(r){return(!r.lang||r.lang=="css")&&(!r.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(r.type))},parser:Rd.parser}],TP=[{name:"style",parser:Rd.parser.configure({top:"Styles"})}].concat(SP.map(r=>({name:r,parser:xn.parser}))),EP=js.define({name:"html",parser:Xq.configure({props:[Po.add({Element(r){let e=/^(\s*)(<\/)?/.exec(r.textAfter);return r.node.to<=r.pos+e[0].length?r.continue():r.lineIndent(r.node.from)+(e[2]?0:r.unit)},"OpenTag CloseTag SelfClosingTag"(r){return r.column(r.node.from)+r.unit},Document(r){if(r.pos+/\s*/.exec(r.textAfter)[0].length<r.node.to)return r.continue();let e=null,t;for(let i=r.node;;){let n=i.lastChild;if(!n||n.name!="Element"||n.to!=i.to)break;e=i=n}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?r.lineIndent(e.from)+r.unit:null}}),zs.add({Element(r){let e=r.firstChild,t=r.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:r.to}}}),$2.add({"OpenTag CloseTag":r=>r.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Yu=EP.configure({wrap:gP(PP,TP)});function QP(r={}){let e="",t;r.matchClosingTags===!1&&(e="noMatch"),r.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(r.nestedLanguages&&r.nestedLanguages.length||r.nestedAttributes&&r.nestedAttributes.length)&&(t=gP((r.nestedLanguages||[]).concat(PP),(r.nestedAttributes||[]).concat(TP)));let i=t?EP.configure({wrap:t,dialect:e}):e?Yu.configure({dialect:e}):Yu;return new bo(i,[Yu.data.of({autocomplete:wX(r)}),r.autoCloseTags!==!1?CX:[],H5().support,bP().support])}const WS=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),CX=De.inputHandler.of((r,e,t,i,n)=>{if(r.composing||r.state.readOnly||e!=t||i!=">"&&i!="/"||!Yu.isActiveAt(r.state,e,-1))return!1;let s=n(),{state:a}=s,o=a.changeByRange(l=>{var u,d,f;let p=a.doc.sliceString(l.from-1,l.to)==i,{head:v}=l,S=Bt(a).resolveInner(v,-1),x;if(p&&i==">"&&S.name=="EndTag"){let m=S.parent;if(((d=(u=m.parent)===null||u===void 0?void 0:u.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(x=Qa(a.doc,m.parent,v))&&!WS.has(x)){let y=v+(a.doc.sliceString(v,v+1)===">"?1:0),b=`</${x}>`;return{range:l,changes:{from:v,to:y,insert:b}}}}else if(p&&i=="/"&&S.name=="IncompleteCloseTag"){let m=S.parent;if(S.from==v-2&&((f=m.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(x=Qa(a.doc,m,v))&&!WS.has(x)){let y=v+(a.doc.sliceString(v,v+1)===">"?1:0),b=`${x}>`;return{range:ye.cursor(v+b.length,-1),changes:{from:v,to:y,insert:b}}}}return{range:l}});return o.changes.empty?!1:(r.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),PX=Bs({String:Z.string,Number:Z.number,"True False":Z.bool,PropertyName:Z.propertyName,Null:Z.null,", :":Z.separator,"[ ]":Z.squareBracket,"{ }":Z.brace}),TX=Ds.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[PX],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),EX=js.define({name:"json",parser:TX.configure({props:[Po.add({Object:ga({except:/^\s*\}/}),Array:ga({except:/^\s*\]/})}),zs.add({"Object Array":Wd})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function QX(){return new bo(EX)}class $d{static create(e,t,i,n,s){let a=n+(n<<8)+e+(t<<4)|0;return new $d(e,t,i,a,s,[],[])}constructor(e,t,i,n,s,a,o){this.type=e,this.value=t,this.from=i,this.hash=n,this.end=s,this.children=a,this.positions=o,this.hashProp=[[pt.contextHash,n]]}addChild(e,t){e.prop(pt.contextHash)!=this.hash&&(e=new $t(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let i=this.children.length-1;return i>=0&&(t=Math.max(t,this.positions[i]+this.children[i].length+this.from)),new $t(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(n,s,a)=>new $t(gr.none,n,s,a,this.hashProp)})}}var Me;(function(r){r[r.Document=1]="Document",r[r.CodeBlock=2]="CodeBlock",r[r.FencedCode=3]="FencedCode",r[r.Blockquote=4]="Blockquote",r[r.HorizontalRule=5]="HorizontalRule",r[r.BulletList=6]="BulletList",r[r.OrderedList=7]="OrderedList",r[r.ListItem=8]="ListItem",r[r.ATXHeading1=9]="ATXHeading1",r[r.ATXHeading2=10]="ATXHeading2",r[r.ATXHeading3=11]="ATXHeading3",r[r.ATXHeading4=12]="ATXHeading4",r[r.ATXHeading5=13]="ATXHeading5",r[r.ATXHeading6=14]="ATXHeading6",r[r.SetextHeading1=15]="SetextHeading1",r[r.SetextHeading2=16]="SetextHeading2",r[r.HTMLBlock=17]="HTMLBlock",r[r.LinkReference=18]="LinkReference",r[r.Paragraph=19]="Paragraph",r[r.CommentBlock=20]="CommentBlock",r[r.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",r[r.Escape=22]="Escape",r[r.Entity=23]="Entity",r[r.HardBreak=24]="HardBreak",r[r.Emphasis=25]="Emphasis",r[r.StrongEmphasis=26]="StrongEmphasis",r[r.Link=27]="Link",r[r.Image=28]="Image",r[r.InlineCode=29]="InlineCode",r[r.HTMLTag=30]="HTMLTag",r[r.Comment=31]="Comment",r[r.ProcessingInstruction=32]="ProcessingInstruction",r[r.Autolink=33]="Autolink",r[r.HeaderMark=34]="HeaderMark",r[r.QuoteMark=35]="QuoteMark",r[r.ListMark=36]="ListMark",r[r.LinkMark=37]="LinkMark",r[r.EmphasisMark=38]="EmphasisMark",r[r.CodeMark=39]="CodeMark",r[r.CodeText=40]="CodeText",r[r.CodeInfo=41]="CodeInfo",r[r.LinkTitle=42]="LinkTitle",r[r.LinkLabel=43]="LinkLabel",r[r.URL=44]="URL"})(Me||(Me={}));class RX{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class $X{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return rc(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,i=0){for(let n=t;n<e;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return i}findColumn(e){let t=0;for(let i=0;t<this.text.length&&i<e;t++)i+=this.text.charCodeAt(t)==9?4-i%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function FS(r,e,t){if(t.pos==t.text.length||r!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let i=(r.type==Me.OrderedList?nv:iv)(t,e,!1);return i>0&&(r.type!=Me.BulletList||rv(t,e,!1)<0)&&t.text.charCodeAt(t.pos+i-1)==r.value}const RP={[Me.Blockquote](r,e,t){return t.next!=62?!1:(t.markers.push(St(Me.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Mi(t.text.charCodeAt(t.pos+1))?2:1)),r.end=e.lineStart+t.text.length,!0)},[Me.ListItem](r,e,t){return t.indent<t.baseIndent+r.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+r.value),!0)},[Me.OrderedList]:FS,[Me.BulletList]:FS,[Me.Document](){return!0}};function Mi(r){return r==32||r==9||r==10||r==13}function rc(r,e=0){for(;e<r.length&&Mi(r.charCodeAt(e));)e++;return e}function ZS(r,e,t){for(;e>t&&Mi(r.charCodeAt(e-1));)e--;return e}function $P(r){if(r.next!=96&&r.next!=126)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==r.next;)e++;if(e<r.pos+3)return-1;if(r.next==96){for(let t=e;t<r.text.length;t++)if(r.text.charCodeAt(t)==96)return-1}return e}function AP(r){return r.next!=62?-1:r.text.charCodeAt(r.pos+1)==32?2:1}function rv(r,e,t){if(r.next!=42&&r.next!=45&&r.next!=95)return-1;let i=1;for(let n=r.pos+1;n<r.text.length;n++){let s=r.text.charCodeAt(n);if(s==r.next)i++;else if(!Mi(s))return-1}return t&&r.next==45&&jP(r)>-1&&r.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(BP.SetextHeading)>-1||i<3?-1:1}function LP(r,e){for(let t=r.stack.length-1;t>=0;t--)if(r.stack[t].type==e)return!0;return!1}function iv(r,e,t){return(r.next==45||r.next==43||r.next==42)&&(r.pos==r.text.length-1||Mi(r.text.charCodeAt(r.pos+1)))&&(!t||LP(e,Me.BulletList)||r.skipSpace(r.pos+2)<r.text.length)?1:-1}function nv(r,e,t){let i=r.pos,n=r.next;for(;n>=48&&n<=57;){i++;if(i==r.text.length)return-1;n=r.text.charCodeAt(i)}return i==r.pos||i>r.pos+9||n!=46&&n!=41||i<r.text.length-1&&!Mi(r.text.charCodeAt(i+1))||t&&!LP(e,Me.OrderedList)&&(r.skipSpace(i+1)==r.text.length||i>r.pos+1||r.next!=49)?-1:i+1-r.pos}function MP(r){if(r.next!=35)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==35;)e++;if(e<r.text.length&&r.text.charCodeAt(e)!=32)return-1;let t=e-r.pos;return t>6?-1:t}function jP(r){if(r.next!=45&&r.next!=61||r.indent>=r.baseIndent+4)return-1;let e=r.pos+1;for(;e<r.text.length&&r.text.charCodeAt(e)==r.next;)e++;let t=e;for(;e<r.text.length&&Mi(r.text.charCodeAt(e));)e++;return e==r.text.length?t:-1}const L0=/^[ \t]*$/,NP=/-->/,DP=/\?>/,M0=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,NP],[/^\s*<\?/,DP],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,L0],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,L0]];function IP(r,e,t){if(r.next!=60)return-1;let i=r.text.slice(r.pos);for(let n=0,s=M0.length-(t?1:0);n<s;n++)if(M0[n][0].test(i))return n;return-1}function VS(r,e){let t=r.countIndent(e,r.pos,r.indent),i=r.countIndent(r.skipSpace(e),e,t);return i>=t+5?t+1:i}function no(r,e,t){let i=r.length-1;i>=0&&r[i].to==e&&r[i].type==Me.CodeText?r[i].to=t:r.push(St(Me.CodeText,e,t))}const Qu={LinkReference:void 0,IndentedCode(r,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let i=e.findColumn(t),n=r.lineStart+i,s=r.lineStart+e.text.length,a=[],o=[];for(no(a,n,s);r.nextLine()&&e.depth>=r.stack.length;)if(e.pos==e.text.length){no(o,r.lineStart-1,r.lineStart);for(let l of e.markers)o.push(l)}else{if(e.indent<t)break;{if(o.length){for(let u of o)u.type==Me.CodeText?no(a,u.from,u.to):a.push(u);o=[]}no(a,r.lineStart-1,r.lineStart);for(let u of e.markers)a.push(u);s=r.lineStart+e.text.length;let l=r.lineStart+e.findColumn(e.baseIndent+4);l<s&&no(a,l,s)}}return o.length&&(o=o.filter(l=>l.type!=Me.CodeText),o.length&&(e.markers=o.concat(e.markers))),r.addNode(r.buffer.writeElements(a,-n).finish(Me.CodeBlock,s-n),n),!0},FencedCode(r,e){let t=$P(e);if(t<0)return!1;let i=r.lineStart+e.pos,n=e.next,s=t-e.pos,a=e.skipSpace(t),o=ZS(e.text,e.text.length,a),l=[St(Me.CodeMark,i,i+s)];a<o&&l.push(St(Me.CodeInfo,r.lineStart+a,r.lineStart+o));for(let u=!0;r.nextLine()&&e.depth>=r.stack.length;u=!1){let d=e.pos;if(e.indent-e.baseIndent<4)for(;d<e.text.length&&e.text.charCodeAt(d)==n;)d++;if(d-e.pos>=s&&e.skipSpace(d)==e.text.length){for(let f of e.markers)l.push(f);l.push(St(Me.CodeMark,r.lineStart+e.pos,r.lineStart+d)),r.nextLine();break}else{u||no(l,r.lineStart-1,r.lineStart);for(let v of e.markers)l.push(v);let f=r.lineStart+e.basePos,p=r.lineStart+e.text.length;f<p&&no(l,f,p)}}return r.addNode(r.buffer.writeElements(l,-i).finish(Me.FencedCode,r.prevLineEnd()-i),i),!0},Blockquote(r,e){let t=AP(e);return t<0?!1:(r.startContext(Me.Blockquote,e.pos),r.addNode(Me.QuoteMark,r.lineStart+e.pos,r.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(r,e){if(rv(e,r,!1)<0)return!1;let t=r.lineStart+e.pos;return r.nextLine(),r.addNode(Me.HorizontalRule,t),!0},BulletList(r,e){let t=iv(e,r,!1);if(t<0)return!1;r.block.type!=Me.BulletList&&r.startContext(Me.BulletList,e.basePos,e.next);let i=VS(e,e.pos+1);return r.startContext(Me.ListItem,e.basePos,i-e.baseIndent),r.addNode(Me.ListMark,r.lineStart+e.pos,r.lineStart+e.pos+t),e.moveBaseColumn(i),null},OrderedList(r,e){let t=nv(e,r,!1);if(t<0)return!1;r.block.type!=Me.OrderedList&&r.startContext(Me.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let i=VS(e,e.pos+t);return r.startContext(Me.ListItem,e.basePos,i-e.baseIndent),r.addNode(Me.ListMark,r.lineStart+e.pos,r.lineStart+e.pos+t),e.moveBaseColumn(i),null},ATXHeading(r,e){let t=MP(e);if(t<0)return!1;let i=e.pos,n=r.lineStart+i,s=ZS(e.text,e.text.length,i),a=s;for(;a>i&&e.text.charCodeAt(a-1)==e.next;)a--;(a==s||a==i||!Mi(e.text.charCodeAt(a-1)))&&(a=e.text.length);let o=r.buffer.write(Me.HeaderMark,0,t).writeElements(r.parser.parseInline(e.text.slice(i+t+1,a),n+t+1),-n);a<e.text.length&&o.write(Me.HeaderMark,a-i,s-i);let l=o.finish(Me.ATXHeading1-1+t,e.text.length-i);return r.nextLine(),r.addNode(l,n),!0},HTMLBlock(r,e){let t=IP(e,r,!1);if(t<0)return!1;let i=r.lineStart+e.pos,n=M0[t][1],s=[],a=n!=L0;for(;!n.test(e.text)&&r.nextLine();){if(e.depth<r.stack.length){a=!1;break}for(let u of e.markers)s.push(u)}a&&r.nextLine();let o=n==NP?Me.CommentBlock:n==DP?Me.ProcessingInstructionBlock:Me.HTMLBlock,l=r.prevLineEnd();return r.addNode(r.buffer.writeElements(s,-i).finish(o,l-i),i),!0},SetextHeading:void 0};class AX{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,i){if(this.stage==-1)return!1;let n=i.content+`
`+t.scrub(),s=this.advance(n);return s>-1&&s<n.length?this.complete(e,i,s):!1}finish(e,t){return(this.stage==2||this.stage==3)&&rc(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,i){return e.addLeafElement(t,St(Me.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(HP(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(St(Me.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(VP(e,rc(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=rc(e,this.pos),i=0;if(t>this.pos){let n=UP(e,t,this.start);if(n){let s=Km(e,n.to-this.start);s>0&&(this.nextStage(n),i=s)}}return i||(i=Km(e,this.pos)),i>0&&i<e.length?i:-1}else return Km(e,this.pos)}}}function Km(r,e){for(;e<r.length;e++){let t=r.charCodeAt(e);if(t==10)break;if(!Mi(t))return-1}return e}class LX{nextLine(e,t,i){let n=t.depth<e.stack.length?-1:jP(t),s=t.next;if(n<0)return!1;let a=St(Me.HeaderMark,e.lineStart+t.pos,e.lineStart+n);return e.nextLine(),e.addLeafElement(i,St(s==61?Me.SetextHeading1:Me.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),a])),!0}finish(){return!1}}const BP={LinkReference(r,e){return e.content.charCodeAt(0)==91?new AX(e):null},SetextHeading(){return new LX}},MX=[(r,e)=>MP(e)>=0,(r,e)=>$P(e)>=0,(r,e)=>AP(e)>=0,(r,e)=>iv(e,r,!0)>=0,(r,e)=>nv(e,r,!0)>=0,(r,e)=>rv(e,r,!0)>=0,(r,e)=>IP(e,r,!0)>=0],jX={text:"",end:0};class NX{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.line=new $X,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=n[n.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=n[0].from,this.block=$d.create(Me.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new zX(i,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let n=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!n||e.markers[i].from<n.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!n)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let n=i(this,e);if(n!=!1){if(n==!0)return null;e.forward();continue e}}break}let t=new RX(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let n=i(this,t);n&&t.parsers.push(n)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,t))break e}for(let i of t.parsers)if(i.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let i of e.markers)t.marks.push(i)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=YP(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=jX;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let i=this.absoluteLineStart,n=this.rangeI;for(;this.ranges[n].to<t.end;){n++;let s=this.ranges[n].from,a=this.lineChunkAt(s);t.end=s+a.length,t.text=t.text.slice(0,this.ranges[n-1].to-i)+a,i=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(t);e.depth<this.stack.length;e.depth++){let n=this.stack[e.depth],s=this.parser.skipContextMarkup[n.type];if(!s)throw new Error("Unhandled block context "+Me[n.type]);if(!s(n,this,e))break;e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),i;if(this.input.lineChunks)i=t==`
`?"":t;else{let n=t.indexOf(`
`);i=n<0?t:t.slice(0,n)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,i=0){this.block=$d.create(e,i,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,i=0){this.startContext(this.parser.getNodeType(e),t,i)}addNode(e,t,i){typeof e=="number"&&(e=new $t(this.parser.nodeSet.types[e],$a,$a,(i??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(D0(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?zP(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let t=D0(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(Me.Paragraph,e.content.length),e.start)}elt(e,t,i,n){return typeof e=="string"?St(this.parser.getNodeType(e),t,i,n):new WP(e,t)}get buffer(){return new XP(this.parser.nodeSet)}}function zP(r,e,t,i,n){let s=r[e].to,a=[],o=[],l=t.from+i;function u(d,f){for(;f?d>=s:d>s;){let p=r[e+1].from-s;i+=p,d+=p,e++,s=r[e].to}}for(let d=t.firstChild;d;d=d.nextSibling){u(d.from+i,!0);let f=d.from+i,p,v=n.get(d.tree);v?p=v:d.to+i>s?(p=zP(r,e,d,i,n),u(d.to+i,!1)):p=d.toTree(),a.push(p),o.push(f-l)}return u(t.to+i,!1),new $t(t.type,a,o,t.to+i-l,t.tree?t.tree.propValues:void 0)}class Kd extends TO{constructor(e,t,i,n,s,a,o,l,u){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=i,this.blockNames=n,this.endLeafBlock=s,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let d of e.types)this.nodeTypes[d.name]=d.id}createParse(e,t,i){let n=new NX(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}configure(e){let t=j0(e);if(!t)return this;let{nodeSet:i,skipContextMarkup:n}=this,s=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),d=this.endLeafBlock.slice(),f=this.wrappers;if(Bl(t.defineNodes)){n=Object.assign({},n);let p=i.types.slice(),v;for(let S of t.defineNodes){let{name:x,block:m,composite:y,style:b}=typeof S=="string"?{name:S}:S;if(p.some(T=>T.name==x))continue;y&&(n[p.length]=(T,C,R)=>y(C,R,T.value));let _=p.length,P=y?["Block","BlockContext"]:m?_>=Me.ATXHeading1&&_<=Me.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;p.push(gr.define({id:_,name:x,props:P&&[[pt.group,P]]})),b&&(v||(v={}),Array.isArray(b)||b instanceof Oi?v[x]=b:Object.assign(v,b))}i=new Nc(p),v&&(i=i.extend(Bs(v)))}if(Bl(t.props)&&(i=i.extend(...t.props)),Bl(t.remove))for(let p of t.remove){let v=this.blockNames.indexOf(p),S=this.inlineNames.indexOf(p);v>-1&&(s[v]=a[v]=void 0),S>-1&&(l[S]=void 0)}if(Bl(t.parseBlock))for(let p of t.parseBlock){let v=o.indexOf(p.name);if(v>-1)s[v]=p.parse,a[v]=p.leaf;else{let S=p.before?Ru(o,p.before):p.after?Ru(o,p.after)+1:o.length-1;s.splice(S,0,p.parse),a.splice(S,0,p.leaf),o.splice(S,0,p.name)}p.endLeaf&&d.push(p.endLeaf)}if(Bl(t.parseInline))for(let p of t.parseInline){let v=u.indexOf(p.name);if(v>-1)l[v]=p.parse;else{let S=p.before?Ru(u,p.before):p.after?Ru(u,p.after)+1:u.length-1;l.splice(S,0,p.parse),u.splice(S,0,p.name)}}return t.wrap&&(f=f.concat(t.wrap)),new Kd(i,s,a,o,d,n,l,u,f)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let i=new IX(this,e,t);e:for(let n=t;n<i.end;){let s=i.char(n);for(let a of this.inlineParsers)if(a){let o=a(i,s,n);if(o>=0){n=o;continue e}}n++}return i.resolveMarkers(0)}}function Bl(r){return r!=null&&r.length>0}function j0(r){if(!Array.isArray(r))return r;if(r.length==0)return null;let e=j0(r[0]);if(r.length==1)return e;let t=j0(r.slice(1));if(!t||!e)return e||t;let i=(a,o)=>(a||$a).concat(o||$a),n=e.wrap,s=t.wrap;return{props:i(e.props,t.props),defineNodes:i(e.defineNodes,t.defineNodes),parseBlock:i(e.parseBlock,t.parseBlock),parseInline:i(e.parseInline,t.parseInline),remove:i(e.remove,t.remove),wrap:n?s?(a,o,l,u)=>n(s(a,o,l,u),o,l,u):n:s}}function Ru(r,e){let t=r.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let qP=[gr.none];for(let r=1,e;e=Me[r];r++)qP[r]=gr.define({id:r,name:e,props:r>=Me.Escape?[]:[[pt.group,r in RP?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const $a=[];let XP=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,i,n=0){return this.content.push(e,t,i,4+n*4),this}writeElements(e,t=0){for(let i of e)i.writeTo(this,t);return this}finish(e,t){return $t.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}};class Ec{constructor(e,t,i,n=$a){this.type=e,this.from=t,this.to=i,this.children=n}writeTo(e,t){let i=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-i)}toTree(e){return new XP(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class WP{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return $a}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function St(r,e,t,i){return new Ec(r,e,t,i)}const FP={resolve:"Emphasis",mark:"EmphasisMark"},ZP={resolve:"Emphasis",mark:"EmphasisMark"},sa={},N0={};class Ci{constructor(e,t,i,n){this.type=e,this.from=t,this.to=i,this.side=n}}const US="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Qc=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Qc=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const Jm={Escape(r,e,t){if(e!=92||t==r.end-1)return-1;let i=r.char(t+1);for(let n=0;n<US.length;n++)if(US.charCodeAt(n)==i)return r.append(St(Me.Escape,t,t+2));return-1},Entity(r,e,t){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(r.slice(t+1,t+31));return i?r.append(St(Me.Entity,t,t+1+i[0].length)):-1},InlineCode(r,e,t){if(e!=96||t&&r.char(t-1)==96)return-1;let i=t+1;for(;i<r.end&&r.char(i)==96;)i++;let n=i-t,s=0;for(;i<r.end;i++)if(r.char(i)==96){if(s++,s==n&&r.char(i+1)!=96)return r.append(St(Me.InlineCode,t,i+1,[St(Me.CodeMark,t,t+n),St(Me.CodeMark,i+1-n,i+1)]))}else s=0;return-1},HTMLTag(r,e,t){if(e!=60||t==r.end-1)return-1;let i=r.slice(t+1,r.end),n=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(n)return r.append(St(Me.Autolink,t,t+1+n[0].length,[St(Me.LinkMark,t,t+1),St(Me.URL,t+1,t+n[0].length),St(Me.LinkMark,t+n[0].length,t+1+n[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return r.append(St(Me.Comment,t,t+1+s[0].length));let a=/^\?[^]*?\?>/.exec(i);if(a)return r.append(St(Me.ProcessingInstruction,t,t+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return o?r.append(St(Me.HTMLTag,t,t+1+o[0].length)):-1},Emphasis(r,e,t){if(e!=95&&e!=42)return-1;let i=t+1;for(;r.char(i)==e;)i++;let n=r.slice(t-1,t),s=r.slice(i,i+1),a=Qc.test(n),o=Qc.test(s),l=/\s|^$/.test(n),u=/\s|^$/.test(s),d=!u&&(!o||l||a),f=!l&&(!a||u||o),p=d&&(e==42||!f||a),v=f&&(e==42||!d||o);return r.append(new Ci(e==95?FP:ZP,t,i,(p?1:0)|(v?2:0)))},HardBreak(r,e,t){if(e==92&&r.char(t+1)==10)return r.append(St(Me.HardBreak,t,t+2));if(e==32){let i=t+1;for(;r.char(i)==32;)i++;if(r.char(i)==10&&i>=t+2)return r.append(St(Me.HardBreak,t,i+1))}return-1},Link(r,e,t){return e==91?r.append(new Ci(sa,t,t+1,1)):-1},Image(r,e,t){return e==33&&r.char(t+1)==91?r.append(new Ci(N0,t,t+2,1)):-1},LinkEnd(r,e,t){if(e!=93)return-1;for(let i=r.parts.length-1;i>=0;i--){let n=r.parts[i];if(n instanceof Ci&&(n.type==sa||n.type==N0)){if(!n.side||r.skipSpace(n.to)==t&&!/[(\[]/.test(r.slice(t+1,t+2)))return r.parts[i]=null,-1;let s=r.takeContent(i),a=r.parts[i]=DX(r,s,n.type==sa?Me.Link:Me.Image,n.from,t+1);if(n.type==sa)for(let o=0;o<i;o++){let l=r.parts[o];l instanceof Ci&&l.type==sa&&(l.side=0)}return a.to}}return-1}};function DX(r,e,t,i,n){let{text:s}=r,a=r.char(n),o=n;if(e.unshift(St(Me.LinkMark,i,i+(t==Me.Image?2:1))),e.push(St(Me.LinkMark,n-1,n)),a==40){let l=r.skipSpace(n+1),u=VP(s,l-r.offset,r.offset),d;u&&(l=r.skipSpace(u.to),l!=u.to&&(d=UP(s,l-r.offset,r.offset),d&&(l=r.skipSpace(d.to)))),r.char(l)==41&&(e.push(St(Me.LinkMark,n,n+1)),o=l+1,u&&e.push(u),d&&e.push(d),e.push(St(Me.LinkMark,l,o)))}else if(a==91){let l=HP(s,n-r.offset,r.offset,!1);l&&(e.push(l),o=l.to)}return St(t,i,o,e)}function VP(r,e,t){if(r.charCodeAt(e)==60){for(let n=e+1;n<r.length;n++){let s=r.charCodeAt(n);if(s==62)return St(Me.URL,e+t,n+1+t);if(s==60||s==10)return!1}return null}else{let n=0,s=e;for(let a=!1;s<r.length;s++){let o=r.charCodeAt(s);if(Mi(o))break;if(a)a=!1;else if(o==40)n++;else if(o==41){if(!n)break;n--}else o==92&&(a=!0)}return s>e?St(Me.URL,e+t,s+t):s==r.length?null:!1}}function UP(r,e,t){let i=r.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let n=i==40?41:i;for(let s=e+1,a=!1;s<r.length;s++){let o=r.charCodeAt(s);if(a)a=!1;else{if(o==n)return St(Me.LinkTitle,e+t,s+1+t);o==92&&(a=!0)}}return null}function HP(r,e,t,i){for(let n=!1,s=e+1,a=Math.min(r.length,s+999);s<a;s++){let o=r.charCodeAt(s);if(n)n=!1;else{if(o==93)return i?!1:St(Me.LinkLabel,e+t,s+1+t);if(i&&!Mi(o)&&(i=!1),o==91)return!1;o==92&&(n=!0)}}return null}class IX{constructor(e,t,i){this.parser=e,this.text=t,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,i,n,s){return this.append(new Ci(e,t,i,(n?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof Ci&&(t.type==sa||t.type==N0))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let n=this.parts[i];if(!(n instanceof Ci&&n.type.resolve&&n.side&2))continue;let s=n.type==FP||n.type==ZP,a=n.to-n.from,o,l=i-1;for(;l>=e;l--){let x=this.parts[l];if(x instanceof Ci&&x.side&1&&x.type==n.type&&!(s&&(n.side&1||x.side&2)&&(x.to-x.from+a)%3==0&&((x.to-x.from)%3||a%3))){o=x;break}}if(!o)continue;let u=n.type.resolve,d=[],f=o.from,p=n.to;if(s){let x=Math.min(2,o.to-o.from,a);f=o.to-x,p=n.from+x,u=x==1?"Emphasis":"StrongEmphasis"}o.type.mark&&d.push(this.elt(o.type.mark,f,o.to));for(let x=l+1;x<i;x++)this.parts[x]instanceof Ec&&d.push(this.parts[x]),this.parts[x]=null;n.type.mark&&d.push(this.elt(n.type.mark,n.from,p));let v=this.elt(u,f,p,d);this.parts[l]=s&&o.from!=f?new Ci(o.type,o.from,f,o.side):null,(this.parts[i]=s&&n.to!=p?new Ci(n.type,p,n.to,n.side):null)?this.parts.splice(i,0,v):this.parts[i]=v}let t=[];for(let i=e;i<this.parts.length;i++){let n=this.parts[i];n instanceof Ec&&t.push(n)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let i=this.parts[t];if(i instanceof Ci&&i.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return rc(this.text,e-this.offset)+this.offset}elt(e,t,i,n){return typeof e=="string"?St(this.parser.getNodeType(e),t,i,n):new WP(e,t)}}function D0(r,e){if(!e.length)return r;if(!r.length)return e;let t=r.slice(),i=0;for(let n of e){for(;i<t.length&&t[i].to<n.to;)i++;if(i<t.length&&t[i].from<n.from){let s=t[i];s instanceof Ec&&(t[i]=new Ec(s.type,s.from,s.to,D0(s.children,[n])))}else t.splice(i++,0,n)}return t}const BX=[Me.CodeBlock,Me.ListItem,Me.OrderedList,Me.BulletList];class zX{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let n=e+this.fragment.offset;for(;i.to<=n;)if(!i.parent())return!1;for(;;){if(i.from>=n)return this.fragment.from<=t;if(!i.childAfter(n))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(pt.contextHash)==e}takeNodes(e){let t=this.cursor,i=this.fragment.offset,n=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,a=s,o=e.block.children.length,l=a,u=o;for(;;){if(t.to-i>n){if(t.type.isAnonymous&&t.firstChild())continue;break}let d=YP(t.from-i,e.ranges);if(t.to-i<=e.ranges[e.rangeI].to)e.addNode(t.tree,d);else{let f=new $t(e.parser.nodeSet.types[Me.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(f,t.tree),e.addNode(f,d)}if(t.type.is("Block")&&(BX.indexOf(t.type.id)<0?(a=t.to-i,o=e.block.children.length):(a=l,o=u,l=t.to-i,u=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return a-s}}function YP(r,e){let t=r;for(let i=1;i<e.length;i++){let n=e[i-1].to,s=e[i].from;n<r&&(t-=s-n)}return t}const qX=Bs({"Blockquote/...":Z.quote,HorizontalRule:Z.contentSeparator,"ATXHeading1/... SetextHeading1/...":Z.heading1,"ATXHeading2/... SetextHeading2/...":Z.heading2,"ATXHeading3/...":Z.heading3,"ATXHeading4/...":Z.heading4,"ATXHeading5/...":Z.heading5,"ATXHeading6/...":Z.heading6,"Comment CommentBlock":Z.comment,Escape:Z.escape,Entity:Z.character,"Emphasis/...":Z.emphasis,"StrongEmphasis/...":Z.strong,"Link/... Image/...":Z.link,"OrderedList/... BulletList/...":Z.list,"BlockQuote/...":Z.quote,"InlineCode CodeText":Z.monospace,"URL Autolink":Z.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Z.processingInstruction,"CodeInfo LinkLabel":Z.labelName,LinkTitle:Z.string,Paragraph:Z.content}),XX=new Kd(new Nc(qP).extend(qX),Object.keys(Qu).map(r=>Qu[r]),Object.keys(Qu).map(r=>BP[r]),Object.keys(Qu),MX,RP,Object.keys(Jm).map(r=>Jm[r]),Object.keys(Jm),[]);function WX(r,e,t){let i=[];for(let n=r.firstChild,s=e;;n=n.nextSibling){let a=n?n.from:t;if(a>s&&i.push({from:s,to:a}),!n)break;s=n.to}return i}function FX(r){let{codeParser:e,htmlParser:t}=r;return{wrap:f2((n,s)=>{let a=n.type.id;if(e&&(a==Me.CodeBlock||a==Me.FencedCode)){let o="";if(a==Me.FencedCode){let u=n.node.getChild(Me.CodeInfo);u&&(o=s.read(u.from,u.to))}let l=e(o);if(l)return{parser:l,overlay:u=>u.type.id==Me.CodeText}}else if(t&&(a==Me.HTMLBlock||a==Me.HTMLTag||a==Me.CommentBlock))return{parser:t,overlay:WX(n.node,n.from,n.to)};return null})}}const ZX={resolve:"Strikethrough",mark:"StrikethroughMark"},VX={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Z.strikethrough}},{name:"StrikethroughMark",style:Z.processingInstruction}],parseInline:[{name:"Strikethrough",parse(r,e,t){if(e!=126||r.char(t+1)!=126||r.char(t+2)==126)return-1;let i=r.slice(t-1,t),n=r.slice(t+2,t+3),s=/\s|^$/.test(i),a=/\s|^$/.test(n),o=Qc.test(i),l=Qc.test(n);return r.addDelimiter(ZX,t,t+2,!a&&(!l||s||o),!s&&(!o||a||l))},after:"Emphasis"}]};function ic(r,e,t=0,i,n=0){let s=0,a=!0,o=-1,l=-1,u=!1,d=()=>{i.push(r.elt("TableCell",n+o,n+l,r.parser.parseInline(e.slice(o,l),n+o)))};for(let f=t;f<e.length;f++){let p=e.charCodeAt(f);p==124&&!u?((!a||o>-1)&&s++,a=!1,i&&(o>-1&&d(),i.push(r.elt("TableDelimiter",f+n,f+n+1))),o=l=-1):(u||p!=32&&p!=9)&&(o<0&&(o=f),l=f+1),u=!u&&p==92}return o>-1&&(s++,i&&d()),s}function HS(r,e){for(let t=e;t<r.length;t++){let i=r.charCodeAt(t);if(i==124)return!0;i==92&&t++}return!1}const GP=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class YS{constructor(){this.rows=null}nextLine(e,t,i){if(this.rows==null){this.rows=!1;let n;if((t.next==45||t.next==58||t.next==124)&&GP.test(n=t.text.slice(t.pos))){let s=[];ic(e,i.content,0,s,i.start)==ic(e,n,t.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let n=[];ic(e,t.text,t.pos,n,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,n))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}const UX={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Z.heading}},"TableRow",{name:"TableCell",style:Z.content},{name:"TableDelimiter",style:Z.processingInstruction}],parseBlock:[{name:"Table",leaf(r,e){return HS(e.content,0)?new YS:null},endLeaf(r,e,t){if(t.parsers.some(n=>n instanceof YS)||!HS(e.text,e.basePos))return!1;let i=r.peekLine();return GP.test(i)&&ic(r,e.text,e.basePos)==ic(r,i,e.basePos)},before:"SetextHeading"}]};class HX{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}const YX={defineNodes:[{name:"Task",block:!0,style:Z.list},{name:"TaskMarker",style:Z.atom}],parseBlock:[{name:"TaskList",leaf(r,e){return/^\[[ xX]\][ \t]/.test(e.content)&&r.parentType().name=="ListItem"?new HX:null},after:"SetextHeading"}]},GS=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,KS=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,GX=/[\w-]+\.[\w-]+($|\/)/,JS=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,ew=/\/[a-zA-Z\d@.]+/gy;function tw(r,e,t,i){let n=0;for(let s=e;s<t;s++)r[s]==i&&n++;return n}function KX(r,e){KS.lastIndex=e;let t=KS.exec(r);if(!t||GX.exec(t[0])[0].indexOf("_")>-1)return-1;let i=e+t[0].length;for(;;){let n=r[i-1],s;if(/[?!.,:*_~]/.test(n)||n==")"&&tw(r,e,i,")")>tw(r,e,i,"("))i--;else if(n==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(r.slice(e,i))))i=e+s.index;else break}return i}function rw(r,e){JS.lastIndex=e;let t=JS.exec(r);if(!t)return-1;let i=t[0][t[0].length-1];return i=="_"||i=="-"?-1:e+t[0].length-(i=="."?1:0)}const JX={parseInline:[{name:"Autolink",parse(r,e,t){let i=t-r.offset;if(i&&/\w/.test(r.text[i-1]))return-1;GS.lastIndex=i;let n=GS.exec(r.text),s=-1;if(!n)return-1;if(n[1]||n[2]){if(s=KX(r.text,i+n[0].length),s>-1&&r.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(r.text.slice(i,s));s=i+a[0].length}}else n[3]?s=rw(r.text,i):(s=rw(r.text,i+n[0].length),s>-1&&n[0]=="xmpp:"&&(ew.lastIndex=s,n=ew.exec(r.text),n&&(s=n.index+n[0].length)));return s<0?-1:(r.addElement(r.elt("URL",t,s+r.offset)),s+r.offset)}}]},eW=[UX,YX,VX,JX];function KP(r,e,t){return(i,n,s)=>{if(n!=r||i.char(s+1)==r)return-1;let a=[i.elt(t,s,s+1)];for(let o=s+1;o<i.end;o++){let l=i.char(o);if(l==r)return i.addElement(i.elt(e,s,o+1,a.concat(i.elt(t,o,o+1))));if(l==92&&a.push(i.elt("Escape",o,o+++2)),Mi(l))break}return-1}}const tW={defineNodes:[{name:"Superscript",style:Z.special(Z.content)},{name:"SuperscriptMark",style:Z.processingInstruction}],parseInline:[{name:"Superscript",parse:KP(94,"Superscript","SuperscriptMark")}]},rW={defineNodes:[{name:"Subscript",style:Z.special(Z.content)},{name:"SubscriptMark",style:Z.processingInstruction}],parseInline:[{name:"Subscript",parse:KP(126,"Subscript","SubscriptMark")}]},iW={defineNodes:[{name:"Emoji",style:Z.character}],parseInline:[{name:"Emoji",parse(r,e,t){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(r.slice(t+1,r.end)))?-1:r.addElement(r.elt("Emoji",t,t+1+i[0].length))}}]},JP=EO({commentTokens:{block:{open:"<!--",close:"-->"}}}),eT=new pt,tT=XX.configure({props:[zs.add(r=>!r.is("Block")||r.is("Document")||I0(r)!=null||nW(r)?void 0:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})),eT.add(I0),Po.add({Document:()=>null}),uo.add({Document:JP})]});function I0(r){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(r.name);return e?+e[1]:void 0}function nW(r){return r.name=="OrderedList"||r.name=="BulletList"}function sW(r,e){let t=r;for(;;){let i=t.nextSibling,n;if(!i||(n=I0(i.type))!=null&&n<=e)break;t=i}return t.to}const oW=x2.of((r,e,t)=>{for(let i=Bt(r).resolveInner(t,-1);i&&!(i.from<e);i=i.parent){let n=i.type.prop(eT);if(n==null)continue;let s=sW(i,n);if(s>t)return{from:t,to:s}}return null});function sv(r){return new Ei(JP,r,[oW],"markdown")}const aW=sv(tT),lW=tT.configure([eW,rW,tW,iW,{props:[zs.add({Table:(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}]),B0=sv(lW);function cW(r,e){return t=>{if(t&&r){let i=null;if(t=/\S*/.exec(t)[0],typeof r=="function"?i=r(t):i=pd.matchLanguageName(r,t,!0),i instanceof pd)return i.support?i.support.language.parser:vc.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class eg{constructor(e,t,i,n,s,a,o){this.node=e,this.from=t,this.to=i,this.spaceBefore=n,this.spaceAfter=s,this.type=a,this.item=o}blank(e,t=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let n=this.to-this.from-i.length-this.spaceAfter.length;n>0;n--)i+=" ";return i+(t?this.spaceAfter:"")}}marker(e,t){let i=this.node.name=="OrderedList"?String(+iT(this.item,e)[2]+t):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function rT(r,e){let t=[],i=[];for(let n=r;n;n=n.parent){if(n.name=="FencedCode")return i;(n.name=="ListItem"||n.name=="Blockquote")&&t.push(n)}for(let n=t.length-1;n>=0;n--){let s=t[n],a,o=e.lineAt(s.from),l=s.from-o.from;if(s.name=="Blockquote"&&(a=/^ *>( ?)/.exec(o.text.slice(l))))i.push(new eg(s,l,l+a[0].length,"",a[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(o.text.slice(l)))){let u=a[3],d=a[0].length;u.length>=4&&(u=u.slice(0,u.length-4),d-=4),i.push(new eg(s.parent,l,l+d,a[1],u,a[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(l)))){let u=a[4],d=a[0].length;u.length>4&&(u=u.slice(0,u.length-4),d-=4);let f=a[2];a[3]&&(f+=a[3].replace(/[xX]/," ")),i.push(new eg(s.parent,l,l+d,a[1],u,f,s))}}return i}function iT(r,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(r.from,r.from+10))}function tg(r,e,t,i=0){for(let n=-1,s=r;;){if(s.name=="ListItem"){let o=iT(s,e),l=+o[2];if(n>=0){if(l!=n+1)return;t.push({from:s.from+o[1].length,to:s.from+o[0].length,insert:String(n+2+i)})}n=l}let a=s.nextSibling;if(!a)break;s=a}}function ov(r,e){let t=/^[ \t]*/.exec(r)[0].length;if(!t||e.facet(Ba)!="	")return r;let i=Zi(r,4,t),n="";for(let s=i;s>0;)s>=4?(n+="	",s-=4):(n+=" ",s--);return n+r.slice(t)}const hW=({state:r,dispatch:e})=>{let t=Bt(r),{doc:i}=r,n=null,s=r.changeByRange(a=>{if(!a.empty||!B0.isActiveAt(r,a.from,-1)&&!B0.isActiveAt(r,a.from,1))return n={range:a};let o=a.from,l=i.lineAt(o),u=rT(t.resolveInner(o,-1),i);for(;u.length&&u[u.length-1].from>o-l.from;)u.pop();if(!u.length)return n={range:a};let d=u[u.length-1];if(d.to-d.spaceAfter.length>o-l.from)return n={range:a};let f=o>=d.to-d.spaceAfter.length&&!/\S/.test(l.text.slice(d.to));if(d.item&&f){let m=d.node.firstChild,y=d.node.getChild("ListItem","ListItem");if(m.to>=o||y&&y.to<o||l.from>0&&!/[^\s>]/.test(i.lineAt(l.from-1).text)){let b=u.length>1?u[u.length-2]:null,_,P="";b&&b.item?(_=l.from+b.from,P=b.marker(i,1)):_=l.from+(b?b.to:0);let T=[{from:_,to:o,insert:P}];return d.node.name=="OrderedList"&&tg(d.item,i,T,-2),b&&b.node.name=="OrderedList"&&tg(b.item,i,T),{range:ye.cursor(_+P.length),changes:T}}else{let b=nw(u,r,l);return{range:ye.cursor(o+b.length+1),changes:{from:l.from,insert:b+r.lineBreak}}}}if(d.node.name=="Blockquote"&&f&&l.from){let m=i.lineAt(l.from-1),y=/>\s*$/.exec(m.text);if(y&&y.index==d.from){let b=r.changes([{from:m.from+y.index,to:m.to},{from:l.from+d.from,to:l.to}]);return{range:a.map(b),changes:b}}}let p=[];d.node.name=="OrderedList"&&tg(d.item,i,p);let v=d.item&&d.item.from<l.from,S="";if(!v||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=d.to)for(let m=0,y=u.length-1;m<=y;m++)S+=m==y&&!v?u[m].marker(i,1):u[m].blank(m<y?Zi(l.text,4,u[m+1].from)-S.length:null);let x=o;for(;x>l.from&&/\s/.test(l.text.charAt(x-l.from-1));)x--;return S=ov(S,r),uW(d.node,r.doc)&&(S=nw(u,r,l)+r.lineBreak+S),p.push({from:x,to:o,insert:r.lineBreak+S}),{range:ye.cursor(x+S.length+1),changes:p}});return n?!1:(e(r.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function iw(r){return r.name=="QuoteMark"||r.name=="ListMark"}function uW(r,e){if(r.name!="OrderedList"&&r.name!="BulletList")return!1;let t=r.firstChild,i=r.getChild("ListItem","ListItem");if(!i)return!1;let n=e.lineAt(t.to),s=e.lineAt(i.from),a=/^[\s>]*$/.test(n.text);return n.number+(a?0:1)<s.number}function nw(r,e,t){let i="";for(let n=0,s=r.length-2;n<=s;n++)i+=r[n].blank(n<s?Zi(t.text,4,r[n+1].from)-i.length:null,n<s);return ov(i,e)}function dW(r,e){let t=r.resolveInner(e,-1),i=e;iw(t)&&(i=t.from,t=t.parent);for(let n;n=t.childBefore(i);)if(iw(n))i=n.from;else if(n.name=="OrderedList"||n.name=="BulletList")t=n.lastChild,i=t.to;else break;return t}const fW=({state:r,dispatch:e})=>{let t=Bt(r),i=null,n=r.changeByRange(s=>{let a=s.from,{doc:o}=r;if(s.empty&&B0.isActiveAt(r,s.from)){let l=o.lineAt(a),u=rT(dW(t,a),o);if(u.length){let d=u[u.length-1],f=d.to-d.spaceAfter.length+(d.spaceAfter?1:0);if(a-l.from>f&&!/\S/.test(l.text.slice(f,a-l.from)))return{range:ye.cursor(l.from+f),changes:{from:l.from+f,to:a}};if(a-l.from==f&&(!d.item||l.from<=d.item.from||!/\S/.test(l.text.slice(0,d.to)))){let p=l.from+d.from;if(d.item&&d.node.from<d.item.from&&/\S/.test(l.text.slice(d.from,d.to))){let v=d.blank(Zi(l.text,4,d.to)-Zi(l.text,4,d.from));return p==l.from&&(v=ov(v,r)),{range:ye.cursor(p+v.length),changes:{from:p,to:l.from+d.to,insert:v}}}if(p<a)return{range:ye.cursor(p),changes:{from:p,to:a}}}}}return i={range:s}});return i?!1:(e(r.update(n,{scrollIntoView:!0,userEvent:"delete"})),!0)},pW=[{key:"Enter",run:hW},{key:"Backspace",run:fW}],nT=QP({matchClosingTags:!1});function mW(r={}){let{codeLanguages:e,defaultCodeLanguage:t,addKeymap:i=!0,base:{parser:n}=aW,completeHTMLTags:s=!0,htmlTagLanguage:a=nT}=r;if(!(n instanceof Kd))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let o=r.extensions?[r.extensions]:[],l=[a.support],u;t instanceof bo?(l.push(t.support),u=t.language):t&&(u=t);let d=e||u?cW(e,u):void 0;o.push(FX({codeParser:d,htmlParser:a.language.parser})),i&&l.push(Kn.high(Ia.of(pW)));let f=sv(n.configure(o));return s&&l.push(f.data.of({autocomplete:gW})),new bo(f,l)}function gW(r){let{state:e,pos:t}=r,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(t-25,t));if(!i)return null;let n=Bt(e).resolveInner(t,-1);for(;n&&!n.type.isTop;){if(n.name=="CodeBlock"||n.name=="FencedCode"||n.name=="ProcessingInstructionBlock"||n.name=="CommentBlock"||n.name=="Link"||n.name=="Image")return null;n=n.parent}return{from:t-i[0].length,to:t,options:OW(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let rg=null;function OW(){if(rg)return rg;let r=SX(new BO(yt.create({extensions:nT}),0,!0));return rg=r?r.options:[]}function sT({file:r,onClose:e,projectPath:t}){const[i,n]=F.useState(""),[s,a]=F.useState(!0),[o,l]=F.useState(!1),[u,d]=F.useState(!1),[f,p]=F.useState(!0),[v,S]=F.useState(!1),[x,m]=F.useState(!!r.diffInfo),[y,b]=F.useState(!1),_=ft.define(),P=Or.define({create(){return it.none},update(A,N){A=A.map(N.changes);for(let q of N.effects)q.is(_)&&(A=q.value);return A},provide:A=>De.decorations.from(A)}),T=(A,N)=>{if(!N||!x)return it.none;const q=new bn,V=A.split(`
`),K=N.old_string.split(`
`);let Y=-1;for(let L=0;L<=V.length-K.length;L++){let z=!0;for(let M=0;M<K.length;M++)if(V[L+M]!==K[M]){z=!1;break}if(z){Y=L;break}}if(Y>=0){let L=0;for(let z=0;z<Y;z++)L+=V[z].length+1;for(let z=0;z<K.length;z++){const M=L,I=L+K[z].length;q.add(M,I,it.line({class:f?"diff-removed-dark":"diff-removed-light"})),L+=K[z].length+1}}return q.finish()},C=De.theme({".diff-removed-light":{backgroundColor:"#fef2f2",borderLeft:"3px solid #ef4444"},".diff-removed-dark":{backgroundColor:"rgba(239, 68, 68, 0.1)",borderLeft:"3px solid #ef4444"},".diff-added-light":{backgroundColor:"#f0fdf4",borderLeft:"3px solid #22c55e"},".diff-added-dark":{backgroundColor:"rgba(34, 197, 94, 0.1)",borderLeft:"3px solid #22c55e"}}),R=A=>{const N=A.split(".").pop()?.toLowerCase();switch(N){case"js":case"jsx":case"ts":case"tsx":return[H5({jsx:!0,typescript:N.includes("ts")})];case"py":return[oq()];case"html":case"htm":return[QP()];case"css":case"scss":case"less":return[bP()];case"json":return[QX()];case"md":case"markdown":return[mW()];default:return[]}};F.useEffect(()=>{(async()=>{try{a(!0);const N=await br.readFile(r.projectName,r.path);if(!N.ok)throw new Error(`Failed to load file: ${N.status} ${N.statusText}`);const q=await N.json();n(q.content)}catch(N){console.error("Error loading file:",N),n(`// Error loading file: ${N.message}
// File: ${r.name}
// Path: ${r.path}`)}finally{a(!1)}})()},[r,t]);const k=F.useRef(null);F.useEffect(()=>{if(k.current&&i&&r.diffInfo&&x){const A=T(i,r.diffInfo),N=k.current.view;N&&N.dispatch({effects:_.of(A)})}},[i,r.diffInfo,x,f]);const E=async()=>{l(!0);try{const A=await br.saveFile(r.projectName,r.path,i);if(!A.ok){const q=await A.json();throw new Error(q.error||`Save failed: ${A.status}`)}const N=await A.json();S(!0),setTimeout(()=>S(!1),2e3)}catch(A){console.error("Error saving file:",A),alert(`Error saving file: ${A.message}`)}finally{l(!1)}},$=()=>{const A=new Blob([i],{type:"text/plain"}),N=URL.createObjectURL(A),q=document.createElement("a");q.href=N,q.download=r.name,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(N)},D=()=>{d(!u)};return F.useEffect(()=>{const A=N=>{(N.ctrlKey||N.metaKey)&&(N.key==="s"?(N.preventDefault(),E()):N.key==="Escape"&&(N.preventDefault(),e()))};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[i]),s?g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
            .code-editor-loading {
              background-color: ${f?"#111827":"#ffffff"} !important;
            }
            .code-editor-loading:hover {
              background-color: ${f?"#111827":"#ffffff"} !important;
            }
          `}),g.jsx("div",{className:"fixed inset-0 z-50 md:bg-black/50 md:flex md:items-center md:justify-center",children:g.jsx("div",{className:"code-editor-loading w-full h-full md:rounded-lg md:w-auto md:h-auto p-8 flex items-center justify-center",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),g.jsxs("span",{className:"text-gray-900 dark:text-white",children:["Loading ",r.name,"..."]})]})})})]}):g.jsx("div",{className:`fixed inset-0 z-50 md:bg-black/50 md:flex md:items-center md:justify-center md:p-4 ${u?"md:p-0":""}`,children:g.jsxs("div",{className:`bg-white shadow-2xl flex flex-col ${"w-full h-full md:rounded-lg md:shadow-2xl"+(u?" md:w-full md:h-full md:rounded-none":" md:w-full md:max-w-6xl md:h-[80vh] md:max-h-[80vh]")}`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[g.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center flex-shrink-0",children:g.jsx("span",{className:"text-white text-sm font-mono",children:r.name.split(".").pop()?.toUpperCase()||"FILE"})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g.jsx("h3",{className:"font-medium text-gray-900 truncate",children:r.name}),r.diffInfo&&g.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded whitespace-nowrap",children:" Has changes"})]}),g.jsx("p",{className:"text-sm text-gray-500 truncate",children:r.path})]})]}),g.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:[r.diffInfo&&g.jsx("button",{onClick:()=>m(!x),className:"p-2 md:p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 min-w-[44px] min-h-[44px] md:min-w-0 md:min-h-0 flex items-center justify-center",title:x?"Hide diff highlighting":"Show diff highlighting",children:x?g.jsx(o3,{className:"w-5 h-5 md:w-4 md:h-4"}):g.jsx(F0,{className:"w-5 h-5 md:w-4 md:h-4"})}),g.jsx("button",{onClick:()=>b(!y),className:`p-2 md:p-2 rounded-md hover:bg-gray-100 min-w-[44px] min-h-[44px] md:min-w-0 md:min-h-0 flex items-center justify-center ${y?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"}`,title:y?"Disable word wrap":"Enable word wrap",children:g.jsx("span",{className:"text-sm md:text-xs font-mono font-bold",children:""})}),g.jsx("button",{onClick:()=>p(!f),className:"p-2 md:p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 min-w-[44px] min-h-[44px] md:min-w-0 md:min-h-0 flex items-center justify-center",title:"Toggle theme",children:g.jsx("span",{className:"text-lg md:text-base",children:f?"":""})}),g.jsx("button",{onClick:$,className:"p-2 md:p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 min-w-[44px] min-h-[44px] md:min-w-0 md:min-h-0 flex items-center justify-center",title:"Download file",children:g.jsx(pg,{className:"w-5 h-5 md:w-4 md:h-4"})}),g.jsx("button",{onClick:E,disabled:o,className:`px-3 py-2 text-white rounded-md disabled:opacity-50 flex items-center gap-2 transition-colors min-h-[44px] md:min-h-0 ${v?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:v?g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-5 h-5 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),g.jsx("span",{className:"hidden sm:inline",children:"Saved!"})]}):g.jsxs(g.Fragment,{children:[g.jsx(B3,{className:"w-5 h-5 md:w-4 md:h-4"}),g.jsx("span",{className:"hidden sm:inline",children:o?"Saving...":"Save"})]})}),g.jsx("button",{onClick:D,className:"hidden md:flex p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 items-center justify-center",title:u?"Exit fullscreen":"Fullscreen",children:u?g.jsx(R3,{className:"w-4 h-4"}):g.jsx(Dw,{className:"w-4 h-4"})}),g.jsx("button",{onClick:e,className:"p-2 md:p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 min-w-[44px] min-h-[44px] md:min-w-0 md:min-h-0 flex items-center justify-center",title:"Close",children:g.jsx(Fi,{className:"w-6 h-6 md:w-4 md:h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-hidden",children:g.jsx(j5,{ref:k,value:i,onChange:n,extensions:[...R(r.name),P,C,...y?[De.lineWrapping]:[]],theme:f?M5:void 0,height:"100%",style:{fontSize:"14px",height:"100%"},basicSetup:{lineNumbers:!0,foldGutter:!0,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,highlightSelectionMatches:!0,searchKeymap:!0}})}),g.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[g.jsxs("span",{children:["Lines: ",i.split(`
`).length]}),g.jsxs("span",{children:["Characters: ",i.length]}),g.jsxs("span",{children:["Language: ",r.name.split(".").pop()?.toUpperCase()||"Text"]})]}),g.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Press Ctrl+S to save  Esc to close"})]})]})})}function vW({file:r,onClose:e}){const t=`/api/projects/${r.projectName}/files/content?path=${encodeURIComponent(r.path)}`;return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] w-full mx-4 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name}),g.jsx(bt,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",children:g.jsx(Fi,{className:"h-4 w-4"})})]}),g.jsxs("div",{className:"p-4 flex justify-center items-center bg-gray-50 dark:bg-gray-900 min-h-[400px]",children:[g.jsx("img",{src:t,alt:r.name,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-md",onError:i=>{i.target.style.display="none",i.target.nextSibling.style.display="block"}}),g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",style:{display:"none"},children:[g.jsx("p",{children:"Unable to load image"}),g.jsx("p",{className:"text-sm mt-2",children:r.path})]})]}),g.jsx("div",{className:"p-4 border-t bg-gray-50 dark:bg-gray-800",children:g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.path})})]})})}function xW({selectedProject:r}){const[e,t]=F.useState([]),[i,n]=F.useState(!1),[s,a]=F.useState(new Set),[o,l]=F.useState(null),[u,d]=F.useState(null),[f,p]=F.useState("detailed");F.useEffect(()=>{r&&v()},[r]),F.useEffect(()=>{const R=localStorage.getItem("file-tree-view-mode");R&&["simple","detailed","compact"].includes(R)&&p(R)},[]);const v=async()=>{n(!0);try{const R=await br.getFiles(r.name);if(!R.ok){const E=await R.text();console.error(" File fetch failed:",R.status,E),t([]);return}const k=await R.json();t(k)}catch(R){console.error(" Error fetching files:",R),t([])}finally{n(!1)}},S=R=>{const k=new Set(s);k.has(R)?k.delete(R):k.add(R),a(k)},x=R=>{p(R),localStorage.setItem("file-tree-view-mode",R)},m=R=>{if(!R||R===0)return"0 B";const k=1024,E=["B","KB","MB","GB"],$=Math.floor(Math.log(R)/Math.log(k));return parseFloat((R/Math.pow(k,$)).toFixed(1))+" "+E[$]},y=R=>{if(!R)return"-";const k=new Date,E=new Date(R),$=Math.floor((k-E)/1e3);return $<60?"just now":$<3600?`${Math.floor($/60)} min ago`:$<86400?`${Math.floor($/3600)} hours ago`:$<2592e3?`${Math.floor($/86400)} days ago`:E.toLocaleDateString()},b=(R,k=0)=>R.map(E=>g.jsxs("div",{className:"select-none",children:[g.jsx(bt,{variant:"ghost",className:fr("w-full justify-start p-2 h-auto font-normal text-left hover:bg-accent"),style:{paddingLeft:`${k*16+12}px`},onClick:()=>{E.type==="directory"?S(E.path):_(E.name)?d({name:E.name,path:E.path,projectPath:r.path,projectName:r.name}):l({name:E.name,path:E.path,projectPath:r.path,projectName:r.name})},children:g.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[E.type==="directory"?s.has(E.path)?g.jsx(Zl,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):g.jsx(Ps,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}):P(E.name),g.jsx("span",{className:"text-sm truncate text-foreground",children:E.name})]})}),E.type==="directory"&&s.has(E.path)&&E.children&&E.children.length>0&&g.jsx("div",{children:b(E.children,k+1)})]},E.path)),_=R=>{const k=R.split(".").pop()?.toLowerCase();return["png","jpg","jpeg","gif","svg","webp","ico","bmp"].includes(k)},P=R=>{const k=R.split(".").pop()?.toLowerCase(),E=["js","jsx","ts","tsx","py","java","cpp","c","php","rb","go","rs"],$=["md","txt","doc","pdf"],D=["png","jpg","jpeg","gif","svg","webp","ico","bmp"];return E.includes(k)?g.jsx(l3,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):$.includes(k)?g.jsx(Z0,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):D.includes(k)?g.jsx(r1,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}):g.jsx(r1,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})},T=(R,k=0)=>R.map(E=>g.jsxs("div",{className:"select-none",children:[g.jsxs("div",{className:fr("grid grid-cols-12 gap-2 p-2 hover:bg-accent cursor-pointer items-center"),style:{paddingLeft:`${k*16+12}px`},onClick:()=>{E.type==="directory"?S(E.path):_(E.name)?d({name:E.name,path:E.path,projectPath:r.path,projectName:r.name}):l({name:E.name,path:E.path,projectPath:r.path,projectName:r.name})},children:[g.jsxs("div",{className:"col-span-5 flex items-center gap-2 min-w-0",children:[E.type==="directory"?s.has(E.path)?g.jsx(Zl,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):g.jsx(Ps,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}):P(E.name),g.jsx("span",{className:"text-sm truncate text-foreground",children:E.name})]}),g.jsx("div",{className:"col-span-2 text-sm text-muted-foreground",children:E.type==="file"?m(E.size):"-"}),g.jsx("div",{className:"col-span-3 text-sm text-muted-foreground",children:y(E.modified)}),g.jsx("div",{className:"col-span-2 text-sm text-muted-foreground font-mono",children:E.permissionsRwx||"-"})]}),E.type==="directory"&&s.has(E.path)&&E.children&&T(E.children,k+1)]},E.path)),C=(R,k=0)=>R.map(E=>g.jsxs("div",{className:"select-none",children:[g.jsxs("div",{className:fr("flex items-center justify-between p-2 hover:bg-accent cursor-pointer"),style:{paddingLeft:`${k*16+12}px`},onClick:()=>{E.type==="directory"?S(E.path):_(E.name)?d({name:E.name,path:E.path,projectPath:r.path,projectName:r.name}):l({name:E.name,path:E.path,projectPath:r.path,projectName:r.name})},children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E.type==="directory"?s.has(E.path)?g.jsx(Zl,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):g.jsx(Ps,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}):P(E.name),g.jsx("span",{className:"text-sm truncate text-foreground",children:E.name})]}),g.jsx("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:E.type==="file"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:m(E.size)}),g.jsx("span",{className:"font-mono",children:E.permissionsRwx})]})})]}),E.type==="directory"&&s.has(E.path)&&E.children&&C(E.children,k+1)]},E.path));return i?g.jsx("div",{className:"h-full flex items-center justify-center",children:g.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading files..."})}):g.jsxs("div",{className:"h-full flex flex-col bg-card",children:[g.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[g.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Files"}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx(bt,{variant:f==="simple"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>x("simple"),title:"Simple view",children:g.jsx(w3,{className:"w-4 h-4"})}),g.jsx(bt,{variant:f==="compact"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>x("compact"),title:"Compact view",children:g.jsx(F0,{className:"w-4 h-4"})}),g.jsx(bt,{variant:f==="detailed"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>x("detailed"),title:"Detailed view",children:g.jsx(K3,{className:"w-4 h-4"})})]})]}),f==="detailed"&&e.length>0&&g.jsx("div",{className:"px-4 pt-2 pb-1 border-b border-border",children:g.jsxs("div",{className:"grid grid-cols-12 gap-2 px-2 text-xs font-medium text-muted-foreground",children:[g.jsx("div",{className:"col-span-5",children:"Name"}),g.jsx("div",{className:"col-span-2",children:"Size"}),g.jsx("div",{className:"col-span-3",children:"Modified"}),g.jsx("div",{className:"col-span-2",children:"Permissions"})]})}),g.jsx(W0,{className:"flex-1 p-4",children:e.length===0?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center mx-auto mb-3",children:g.jsx(Ps,{className:"w-6 h-6 text-muted-foreground"})}),g.jsx("h4",{className:"font-medium text-foreground mb-1",children:"No files found"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Check if the project path is accessible"})]}):g.jsxs("div",{className:f==="detailed"?"":"space-y-1",children:[f==="simple"&&b(e),f==="compact"&&C(e),f==="detailed"&&T(e)]})}),o&&g.jsx(sT,{file:o,onClose:()=>l(null),projectPath:o.projectPath}),u&&g.jsx(vW,{file:u,onClose:()=>d(null)})]})}var ig={exports:{}},sw;function yW(){return sw||(sw=1,function(r,e){(function(t,i){r.exports=i()})(self,()=>(()=>{var t={4567:function(a,o,l){var u=this&&this.__decorate||function(_,P,T,C){var R,k=arguments.length,E=k<3?P:C===null?C=Object.getOwnPropertyDescriptor(P,T):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,P,T,C);else for(var $=_.length-1;$>=0;$--)(R=_[$])&&(E=(k<3?R(E):k>3?R(P,T,E):R(P,T))||E);return k>3&&E&&Object.defineProperty(P,T,E),E},d=this&&this.__param||function(_,P){return function(T,C){P(T,C,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const f=l(9042),p=l(6114),v=l(9924),S=l(844),x=l(5596),m=l(4725),y=l(3656);let b=o.AccessibilityManager=class extends S.Disposable{constructor(_,P){super(),this._terminal=_,this._renderService=P,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let T=0;T<this._terminal.rows;T++)this._rowElements[T]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[T]);if(this._topBoundaryFocusListener=T=>this._handleBoundaryFocus(T,0),this._bottomBoundaryFocusListener=T=>this._handleBoundaryFocus(T,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new v.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(T=>this._handleResize(T.rows))),this.register(this._terminal.onRender(T=>this._refreshRows(T.start,T.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(T=>this._handleChar(T))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(T=>this._handleTab(T))),this.register(this._terminal.onKey(T=>this._handleKey(T.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let P=0;P<_;P++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,P){this._liveRegionDebouncer.refresh(_,P,this._terminal.rows)}_renderRows(_,P){const T=this._terminal.buffer,C=T.lines.length.toString();for(let R=_;R<=P;R++){const k=T.translateBufferLineToString(T.ydisp+R,!0),E=(T.ydisp+R+1).toString(),$=this._rowElements[R];$&&(k.length===0?$.innerText="":$.textContent=k,$.setAttribute("aria-posinset",E),$.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,P){const T=_.target,C=this._rowElements[P===0?1:this._rowElements.length-2];if(T.getAttribute("aria-posinset")===(P===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==C)return;let R,k;if(P===0?(R=T,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(R=this._rowElements.shift(),k=T,this._rowContainer.removeChild(R)),R.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),P===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(P===0?-1:1),this._rowElements[P===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let P=this._rowContainer.children.length;P<this._terminal.rows;P++)this._rowElements[P]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[P]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=b=u([d(1,m.IRenderService)],b)},3614:(a,o)=>{function l(p){return p.replace(/\r?\n/g,"\r")}function u(p,v){return v?"\x1B[200~"+p+"\x1B[201~":p}function d(p,v,S,x){p=u(p=l(p),S.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(p,!0),v.value=""}function f(p,v,S){const x=S.getBoundingClientRect(),m=p.clientX-x.left-10,y=p.clientY-x.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${m}px`,v.style.top=`${y}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=u,o.copyHandler=function(p,v){p.clipboardData&&p.clipboardData.setData("text/plain",v.selectionText),p.preventDefault()},o.handlePasteEvent=function(p,v,S,x){p.stopPropagation(),p.clipboardData&&d(p.clipboardData.getData("text/plain"),v,S,x)},o.paste=d,o.moveTextAreaUnderMouseCursor=f,o.rightClickHandler=function(p,v,S,x,m){f(p,v,S),m&&x.rightClickSelect(p),v.value=x.selectionText,v.select()}},7239:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const u=l(1505);o.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(d,f,p){this._css.set(d,f,p)}getCss(d,f){return this._css.get(d,f)}setColor(d,f,p){this._color.set(d,f,p)}getColor(d,f){return this._color.get(d,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,u,d,f){l.addEventListener(u,d,f);let p=!1;return{dispose:()=>{p||(p=!0,l.removeEventListener(u,d,f))}}}},6465:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const f=l(3656),p=l(8460),v=l(844),S=l(2585);let x=o.Linkifier2=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,v.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const y=this._linkProviders.indexOf(m);y!==-1&&this._linkProviders.splice(y,1)}}}attachToDom(m,y,b){this._element=m,this._mouseService=y,this._renderService=b,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const b=m.composedPath();for(let _=0;_<b.length;_++){const P=b[_];if(P.classList.contains("xterm"))break;if(P.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,y){var b,_;this._activeProviderReplies&&y||((b=this._activeProviderReplies)===null||b===void 0||b.forEach(T=>{T?.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let P=!1;for(const[T,C]of this._linkProviders.entries())y?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(T)&&(P=this._checkLinkProviderResult(T,m,P)):C.provideLinks(m.y,R=>{var k,E;if(this._isMouseOut)return;const $=R?.map(D=>({link:D}));(k=this._activeProviderReplies)===null||k===void 0||k.set(T,$),P=this._checkLinkProviderResult(T,m,P),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,y){const b=new Set;for(let _=0;_<y.size;_++){const P=y.get(_);if(P)for(let T=0;T<P.length;T++){const C=P[T],R=C.link.range.start.y<m?0:C.link.range.start.x,k=C.link.range.end.y>m?this._bufferService.cols:C.link.range.end.x;for(let E=R;E<=k;E++){if(b.has(E)){P.splice(T--,1);break}b.add(E)}}}}_checkLinkProviderResult(m,y,b){var _;if(!this._activeProviderReplies)return b;const P=this._activeProviderReplies.get(m);let T=!1;for(let C=0;C<m;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(T=!0);if(!T&&P){const C=P.find(R=>this._linkAtPosition(R.link,y));C&&(b=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!b)for(let C=0;C<this._activeProviderReplies.size;C++){const R=(_=this._activeProviderReplies.get(C))===null||_===void 0?void 0:_.find(k=>this._linkAtPosition(k.link,y));if(R){b=!0,this._handleNewLink(R);break}}return b}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(m,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!y||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(m.link,y)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var b,_;return(_=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:b=>{var _,P;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==b&&(this._currentLink.state.decorations.pointerCursor=b,this._currentLink.state.isHovered&&((P=this._element)===null||P===void 0||P.classList.toggle("xterm-cursor-pointer",b)))}},underline:{get:()=>{var b,_;return(_=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||_===void 0?void 0:_.decorations.underline},set:b=>{var _,P,T;!((_=this._currentLink)===null||_===void 0)&&_.state&&((T=(P=this._currentLink)===null||P===void 0?void 0:P.state)===null||T===void 0?void 0:T.decorations.underline)!==b&&(this._currentLink.state.decorations.underline=b,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,b))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(b=>{if(!this._currentLink)return;const _=b.start===0?0:b.start+1+this._bufferService.buffer.ydisp,P=this._bufferService.buffer.ydisp+1+b.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=P&&(this._clearCurrentLink(_,P),this._lastMouseEvent&&this._element)){const T=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);T&&this._askForLink(T,!1)}})))}_linkHover(m,y,b){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(b,y.text)}_fireUnderlineEvent(m,y){const b=m.range,_=this._bufferService.buffer.ydisp,P=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-_-1,b.end.x,b.end.y-_-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(P)}_linkLeave(m,y,b){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(b,y.text)}_linkAtPosition(m,y){const b=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,P=y.y*this._bufferService.cols+y.x;return b<=P&&P<=_}_positionFromMouseEvent(m,y,b){const _=b.getCoords(m,y,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,y,b,_,P){return{x1:m,y1:y,x2:b,y2:_,cols:this._bufferService.cols,fg:P}}};o.Linkifier2=x=u([d(0,S.IBufferService)],x)},9042:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,o,l){var u=this&&this.__decorate||function(x,m,y,b){var _,P=arguments.length,T=P<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,m,y,b);else for(var C=x.length-1;C>=0;C--)(_=x[C])&&(T=(P<3?_(T):P>3?_(m,y,T):_(m,y))||T);return P>3&&T&&Object.defineProperty(m,y,T),T},d=this&&this.__param||function(x,m){return function(y,b){m(y,b,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const f=l(511),p=l(2585);let v=o.OscLinkProvider=class{constructor(x,m,y){this._bufferService=x,this._optionsService=m,this._oscLinkService=y}provideLinks(x,m){var y;const b=this._bufferService.buffer.lines.get(x-1);if(!b)return void m(void 0);const _=[],P=this._optionsService.rawOptions.linkHandler,T=new f.CellData,C=b.getTrimmedLength();let R=-1,k=-1,E=!1;for(let $=0;$<C;$++)if(k!==-1||b.hasContent($)){if(b.loadCell($,T),T.hasExtendedAttrs()&&T.extended.urlId){if(k===-1){k=$,R=T.extended.urlId;continue}E=T.extended.urlId!==R}else k!==-1&&(E=!0);if(E||k!==-1&&$===C-1){const D=(y=this._oscLinkService.getLinkData(R))===null||y===void 0?void 0:y.uri;if(D){const A={start:{x:k+1,y:x},end:{x:$+(E||$!==C-1?0:1),y:x}};let N=!1;if(!P?.allowNonHttpProtocols)try{const q=new URL(D);["http:","https:"].includes(q.protocol)||(N=!0)}catch{N=!0}N||_.push({text:D,range:A,activate:(q,V)=>P?P.activate(q,V,A):S(0,V),hover:(q,V)=>{var K;return(K=P?.hover)===null||K===void 0?void 0:K.call(P,q,V,A)},leave:(q,V)=>{var K;return(K=P?.leave)===null||K===void 0?void 0:K.call(P,q,V,A)}})}E=!1,T.hasExtendedAttrs()&&T.extended.urlId?(k=$,R=T.extended.urlId):(k=-1,R=-1)}}m(_)}};function S(x,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch{}y.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=v=u([d(0,p.IBufferService),d(1,p.IOptionsService),d(2,p.IOscLinkService)],v)},6193:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,u){this._parentWindow=l,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,u,d){this._rowCount=d,l=l!==void 0?l:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const u=l(844);class d extends u.Disposable{constructor(p){super(),this._parentWindow=p,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)(()=>{this.clearListener()}))}setListener(p){this._listener&&this.clearListener(),this._listener=p,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var p;this._outerListener&&((p=this._resolutionMediaMatchList)===null||p===void 0||p.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=d},3236:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const u=l(3614),d=l(3656),f=l(6465),p=l(9042),v=l(3730),S=l(1680),x=l(3107),m=l(5744),y=l(2950),b=l(1296),_=l(428),P=l(4269),T=l(5114),C=l(8934),R=l(3230),k=l(9312),E=l(4725),$=l(6731),D=l(8055),A=l(8969),N=l(8460),q=l(844),V=l(6114),K=l(8437),Y=l(2584),L=l(7399),z=l(5941),M=l(9074),I=l(2585),U=l(5435),W=l(4567),se=typeof window<"u"?window.document:null;class le extends A.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=V,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new N.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new N.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new N.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new N.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new N.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new N.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new N.EventEmitter),this._onBlur=this.register(new N.EventEmitter),this._onA11yCharEmitter=this.register(new N.EventEmitter),this._onA11yTabEmitter=this.register(new N.EventEmitter),this._onWillOpen=this.register(new N.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(I.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((ee,ie)=>this.refresh(ee,ie))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(ee=>this._reportWindowsOptions(ee))),this.register(this._inputHandler.onColor(ee=>this._handleColorEvent(ee))),this.register((0,N.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,N.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,N.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,N.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(ee=>this._afterResize(ee.cols,ee.rows))),this.register((0,q.toDisposable)(()=>{var ee,ie;this._customKeyEventHandler=void 0,(ie=(ee=this.element)===null||ee===void 0?void 0:ee.parentNode)===null||ie===void 0||ie.removeChild(this.element)}))}_handleColorEvent(B){if(this._themeService)for(const ee of B){let ie,G="";switch(ee.index){case 256:ie="foreground",G="10";break;case 257:ie="background",G="11";break;case 258:ie="cursor",G="12";break;default:ie="ansi",G="4;"+ee.index}switch(ee.type){case 0:const me=D.color.toColorRGB(ie==="ansi"?this._themeService.colors.ansi[ee.index]:this._themeService.colors[ie]);this.coreService.triggerDataEvent(`${Y.C0.ESC}]${G};${(0,z.toRgbString)(me)}${Y.C1_ESCAPED.ST}`);break;case 1:if(ie==="ansi")this._themeService.modifyColors(be=>be.ansi[ee.index]=D.rgba.toColor(...ee.color));else{const be=ie;this._themeService.modifyColors(Ie=>Ie[be]=D.rgba.toColor(...ee.color))}break;case 2:this._themeService.restoreColor(ee.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,ee=this.buffer.lines.get(B);if(!ee)return;const ie=Math.min(this.buffer.x,this.cols-1),G=this._renderService.dimensions.css.cell.height,me=ee.getWidth(ie),be=this._renderService.dimensions.css.cell.width*me,Ie=this.buffer.y*this._renderService.dimensions.css.cell.height,qe=ie*this._renderService.dimensions.css.cell.width;this.textarea.style.left=qe+"px",this.textarea.style.top=Ie+"px",this.textarea.style.width=be+"px",this.textarea.style.height=G+"px",this.textarea.style.lineHeight=G+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",ee=>{this.hasSelection()&&(0,u.copyHandler)(ee,this._selectionService)}));const B=ee=>(0,u.handlePasteEvent)(ee,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,d.addDisposableDomListener)(this.element,"paste",B)),V.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",ee=>{ee.button===2&&(0,u.rightClickHandler)(ee,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",ee=>{(0,u.rightClickHandler)(ee,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),V.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",ee=>{ee.button===1&&(0,u.moveTextAreaUnderMouseCursor)(ee,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var ee;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const ie=se.createDocumentFragment();this._viewportElement=se.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ie.appendChild(this._viewportElement),this._viewportScrollArea=se.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=se.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=se.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ie.appendChild(this.screenElement),this.textarea=se.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",p.promptLabel),V.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(T.CoreBrowserService,this.textarea,(ee=this._document.defaultView)!==null&&ee!==void 0?ee:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",G=>this._handleTextAreaFocus(G))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance($.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(P.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(R.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(G=>this._onRender.fire(G))),this.onResize(G=>this._renderService.resize(G.cols,G.rows)),this._compositionView=se.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ie);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(G=>this.scrollLines(G.amount,G.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(k.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(G=>this.scrollLines(G.amount,G.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(G=>this._renderService.handleSelectionChanged(G.start,G.end,G.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(G=>{this.textarea.value=G,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(G=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",G=>this._selectionService.handleMouseDown(G))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(W.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",G=>this._handleScreenReaderModeOptionChange(G))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",G=>{!this._overviewRulerRenderer&&G&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(b.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,ee=this.element;function ie(be){const Ie=B._mouseService.getMouseReportCoords(be,B.screenElement);if(!Ie)return!1;let qe,st;switch(be.overrideType||be.type){case"mousemove":st=32,be.buttons===void 0?(qe=3,be.button!==void 0&&(qe=be.button<3?be.button:3)):qe=1&be.buttons?0:4&be.buttons?1:2&be.buttons?2:3;break;case"mouseup":st=0,qe=be.button<3?be.button:3;break;case"mousedown":st=1,qe=be.button<3?be.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(be)===0)return!1;st=be.deltaY<0?0:1,qe=4;break;default:return!1}return!(st===void 0||qe===void 0||qe>4)&&B.coreMouseService.triggerMouseEvent({col:Ie.col,row:Ie.row,x:Ie.x,y:Ie.y,button:qe,action:st,ctrl:be.ctrlKey,alt:be.altKey,shift:be.shiftKey})}const G={mouseup:null,wheel:null,mousedrag:null,mousemove:null},me={mouseup:be=>(ie(be),be.buttons||(this._document.removeEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.removeEventListener("mousemove",G.mousedrag)),this.cancel(be)),wheel:be=>(ie(be),this.cancel(be,!0)),mousedrag:be=>{be.buttons&&ie(be)},mousemove:be=>{be.buttons||ie(be)}};this.register(this.coreMouseService.onProtocolChange(be=>{be?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(be)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&be?G.mousemove||(ee.addEventListener("mousemove",me.mousemove),G.mousemove=me.mousemove):(ee.removeEventListener("mousemove",G.mousemove),G.mousemove=null),16&be?G.wheel||(ee.addEventListener("wheel",me.wheel,{passive:!1}),G.wheel=me.wheel):(ee.removeEventListener("wheel",G.wheel),G.wheel=null),2&be?G.mouseup||(ee.addEventListener("mouseup",me.mouseup),G.mouseup=me.mouseup):(this._document.removeEventListener("mouseup",G.mouseup),ee.removeEventListener("mouseup",G.mouseup),G.mouseup=null),4&be?G.mousedrag||(G.mousedrag=me.mousedrag):(this._document.removeEventListener("mousemove",G.mousedrag),G.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(ee,"mousedown",be=>{if(be.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(be))return ie(be),G.mouseup&&this._document.addEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.addEventListener("mousemove",G.mousedrag),this.cancel(be)})),this.register((0,d.addDisposableDomListener)(ee,"wheel",be=>{if(!G.wheel){if(!this.buffer.hasScrollback){const Ie=this.viewport.getLinesScrolled(be);if(Ie===0)return;const qe=Y.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(be.deltaY<0?"A":"B");let st="";for(let _e=0;_e<Math.abs(Ie);_e++)st+=qe;return this.coreService.triggerDataEvent(st,!0),this.cancel(be,!0)}return this.viewport.handleWheel(be)?this.cancel(be):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(ee,"touchstart",be=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(be),this.cancel(be)},{passive:!0})),this.register((0,d.addDisposableDomListener)(ee,"touchmove",be=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(be)?void 0:this.cancel(be)},{passive:!1}))}refresh(B,ee){var ie;(ie=this._renderService)===null||ie===void 0||ie.refreshRows(B,ee)}updateCursorStyle(B){var ee;!((ee=this._selectionService)===null||ee===void 0)&&ee.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,ee,ie=0){var G;ie===1?(super.scrollLines(B,ee,ie),this.refresh(0,this.rows-1)):(G=this.viewport)===null||G===void 0||G.scrollLines(B)}paste(B){(0,u.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const ee=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),ee}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,ee,ie){this._selectionService.setSelection(B,ee,ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,ee){var ie;(ie=this._selectionService)===null||ie===void 0||ie.selectLines(B,ee)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const ee=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!ee&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;ee||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ie=(0,L.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),ie.type===3||ie.type===2){const G=this.rows-1;return this.scrollLines(ie.type===2?-G:G),this.cancel(B,!0)}return ie.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(ie.cancel&&this.cancel(B,!0),!ie.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ie.key!==Y.C0.ETX&&ie.key!==Y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ie.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,ee){const ie=B.isMac&&!this.options.macOptionIsMeta&&ee.altKey&&!ee.ctrlKey&&!ee.metaKey||B.isWindows&&ee.altKey&&ee.ctrlKey&&!ee.metaKey||B.isWindows&&ee.getModifierState("AltGraph");return ee.type==="keypress"?ie:ie&&(!ee.keyCode||ee.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function(ee){return ee.keyCode===16||ee.keyCode===17||ee.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let ee;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)ee=B.charCode;else if(B.which===null||B.which===void 0)ee=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;ee=B.which}return!(!ee||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(ee=String.fromCharCode(ee),this._onKey.fire({key:ee,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(ee,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const ee=B.data;return this.coreService.triggerDataEvent(ee,!0),this.cancel(B),!0}return!1}resize(B,ee){B!==this.cols||ee!==this.rows?super.resize(B,ee):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,ee){var ie,G;(ie=this._charSizeService)===null||ie===void 0||ie.measure(),(G=this.viewport)===null||G===void 0||G.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let ee=1;ee<this.rows;ee++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,ee;this.options.rows=this.rows,this.options.cols=this.cols;const ie=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(ee=this.viewport)===null||ee===void 0||ee.reset(),this._customKeyEventHandler=ie,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(Y.C0.ESC+"[I"):this.coreService.triggerDataEvent(Y.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const ee=this._renderService.dimensions.css.canvas.width.toFixed(0),ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[4;${ie};${ee}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const G=this._renderService.dimensions.css.cell.width.toFixed(0),me=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Y.C0.ESC}[6;${me};${G}t`)}}cancel(B,ee){if(this.options.cancelEvents||ee)return B.preventDefault(),B.stopPropagation(),!1}}o.Terminal=le},9924:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,u=1e3){this._renderCallback=l,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,u,d){this._rowCount=d,l=l!==void 0?l:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=f-this._lastRefreshMs,v=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,u)}}},1680:function(a,o,l){var u=this&&this.__decorate||function(y,b,_,P){var T,C=arguments.length,R=C<3?b:P===null?P=Object.getOwnPropertyDescriptor(b,_):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,b,_,P);else for(var k=y.length-1;k>=0;k--)(T=y[k])&&(R=(C<3?T(R):C>3?T(b,_,R):T(b,_))||R);return C>3&&R&&Object.defineProperty(b,_,R),R},d=this&&this.__param||function(y,b){return function(_,P){b(_,P,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const f=l(3656),p=l(4725),v=l(8460),S=l(844),x=l(2585);let m=o.Viewport=class extends S.Disposable{constructor(y,b,_,P,T,C,R,k){super(),this._viewportElement=y,this._scrollArea=b,this._bufferService=_,this._optionsService=P,this._charSizeService=T,this._renderService=C,this._coreBrowserService=R,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(k.colors),this.register(k.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const b=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==b&&(this._lastRecordedBufferHeight=b,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const b=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:b,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,b){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(b<0&&this._viewportElement.scrollTop!==0||b>0&&_<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const b=this._getPixelsScrolled(y);return b!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+b:this._smoothScrollState.target+=b,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=b,this._bubbleScroll(y,b))}scrollLines(y){if(y!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const b=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+b,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let b=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?b*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._currentRowHeight*this._bufferService.rows),b}getBufferElements(y,b){var _;let P,T="";const C=[],R=b??this._bufferService.buffer.lines.length,k=this._bufferService.buffer.lines;for(let E=y;E<R;E++){const $=k.get(E);if(!$)continue;const D=(_=k.get(E+1))===null||_===void 0?void 0:_.isWrapped;if(T+=$.translateToString(!D),!D||E===k.length-1){const A=document.createElement("div");A.textContent=T,C.push(A),T.length>0&&(P=A),T=""}}return{bufferElements:C,cursorElement:P}}getLinesScrolled(y){if(y.deltaY===0||y.shiftKey)return 0;let b=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(b/=this._currentRowHeight+0,this._wheelPartialScroll+=b,b=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(b*=this._bufferService.rows),b}_applyScrollModifier(y,b){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&b.altKey||_==="ctrl"&&b.ctrlKey||_==="shift"&&b.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const b=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,b!==0&&(this._viewportElement.scrollTop+=b,this._bubbleScroll(y,b))}};o.Viewport=m=u([d(2,x.IBufferService),d(3,x.IOptionsService),d(4,p.ICharSizeService),d(5,p.IRenderService),d(6,p.ICoreBrowserService),d(7,p.IThemeService)],m)},3107:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const f=l(3656),p=l(4725),v=l(844),S=l(2585);let x=o.BufferDecorationRenderer=class extends v.Disposable{constructor(m,y,b,_){super(),this._screenElement=m,this._bufferService=y,this._decorationService=b,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(P=>this._removeDecoration(P))),this.register((0,v.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var y,b;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((y=m?.options)===null||y===void 0?void 0:y.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const P=(b=m.options.x)!==null&&b!==void 0?b:0;return P&&P>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const y=m.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let b=this._decorationElements.get(m);b||(b=this._createElement(m),m.element=b,this._decorationElements.set(m,b),this._container.appendChild(b),m.onDispose(()=>{this._decorationElements.delete(m),b.remove()})),b.style.top=y*this._renderService.dimensions.css.cell.height+"px",b.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(b)}}_refreshXPosition(m,y=m.element){var b;if(!y)return;const _=(b=m.options.x)!==null&&b!==void 0?b:0;(m.options.anchor||"left")==="right"?y.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var y;(y=this._decorationElements.get(m))===null||y===void 0||y.remove(),this._decorationElements.delete(m),m.dispose()}};o.BufferDecorationRenderer=x=u([d(1,S.IBufferService),d(2,S.IDecorationService),d(3,p.IRenderService)],x)},5871:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const u of this._zones)if(u.color===l.options.overviewRulerOptions.color&&u.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,l.marker.line))return;if(this._lineAdjacentToZone(u,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(u,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,u){return u>=l.startBufferLine&&u<=l.endBufferLine}_lineAdjacentToZone(l,u,d){return u>=l.startBufferLine-this._linePadding[d||"full"]&&u<=l.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(l,u){l.startBufferLine=Math.min(l.startBufferLine,u),l.endBufferLine=Math.max(l.endBufferLine,u)}}},5744:function(a,o,l){var u=this&&this.__decorate||function(P,T,C,R){var k,E=arguments.length,$=E<3?T:R===null?R=Object.getOwnPropertyDescriptor(T,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(P,T,C,R);else for(var D=P.length-1;D>=0;D--)(k=P[D])&&($=(E<3?k($):E>3?k(T,C,$):k(T,C))||$);return E>3&&$&&Object.defineProperty(T,C,$),$},d=this&&this.__param||function(P,T){return function(C,R){T(C,R,P)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const f=l(5871),p=l(3656),v=l(4725),S=l(844),x=l(2585),m={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},b={full:0,left:0,center:0,right:0};let _=o.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(P,T,C,R,k,E,$){var D;super(),this._viewportElement=P,this._screenElement=T,this._bufferService=C,this._decorationService=R,this._renderService=k,this._optionsService=E,this._coreBrowseService=$,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(D=this._viewportElement.parentElement)===null||D===void 0||D.insertBefore(this._canvas,this._viewportElement);const A=this._canvas.getContext("2d");if(!A)throw new Error("Ctx cannot be null");this._ctx=A,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var N;(N=this._canvas)===null||N===void 0||N.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,p.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const P=Math.floor(this._canvas.width/3),T=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=P,y.center=T,y.right=P,this._refreshDrawHeightConstants(),b.full=0,b.left=0,b.center=y.left,b.right=y.left+y.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const P=this._canvas.height/this._bufferService.buffer.lines.length,T=Math.round(Math.max(Math.min(P,12),6)*this._coreBrowseService.dpr);m.left=T,m.center=T,m.right=T}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const T of this._decorationService.decorations)this._colorZoneStore.addDecoration(T);this._ctx.lineWidth=1;const P=this._colorZoneStore.zones;for(const T of P)T.position!=="full"&&this._renderColorZone(T);for(const T of P)T.position==="full"&&this._renderColorZone(T);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(P){this._ctx.fillStyle=P.color,this._ctx.fillRect(b[P.position||"full"],Math.round((this._canvas.height-1)*(P.startBufferLine/this._bufferService.buffers.active.lines.length)-m[P.position||"full"]/2),y[P.position||"full"],Math.round((this._canvas.height-1)*((P.endBufferLine-P.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[P.position||"full"]))}_queueRefresh(P,T){this._shouldUpdateDimensions=P||this._shouldUpdateDimensions,this._shouldUpdateAnchor=T||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=_=u([d(2,x.IBufferService),d(3,x.IDecorationService),d(4,v.IRenderService),d(5,x.IOptionsService),d(6,v.ICoreBrowserService)],_)},2950:function(a,o,l){var u=this&&this.__decorate||function(x,m,y,b){var _,P=arguments.length,T=P<3?m:b===null?b=Object.getOwnPropertyDescriptor(m,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,m,y,b);else for(var C=x.length-1;C>=0;C--)(_=x[C])&&(T=(P<3?_(T):P>3?_(m,y,T):_(m,y))||T);return P>3&&T&&Object.defineProperty(m,y,T),T},d=this&&this.__param||function(x,m){return function(y,b){m(y,b,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const f=l(4725),p=l(2585),v=l(2584);let S=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,m,y,b,_,P){this._textarea=x,this._compositionView=m,this._bufferService=y,this._optionsService=b,this._coreService=_,this._renderService=P,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,y=m.replace(x,"");this._dataAlreadySent=y,m.length>x.length?this._coreService.triggerDataEvent(y,!0):m.length<x.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):m.length===x.length&&m!==x&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,b=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=b+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const P=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=b+"px",this._textarea.style.width=Math.max(P.width,1)+"px",this._textarea.style.height=Math.max(P.height,1)+"px",this._textarea.style.lineHeight=P.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=S=u([d(2,p.IBufferService),d(3,p.IOptionsService),d(4,p.ICoreService),d(5,f.IRenderService)],S)},9806:(a,o)=>{function l(u,d,f){const p=f.getBoundingClientRect(),v=u.getComputedStyle(f),S=parseInt(v.getPropertyValue("padding-left")),x=parseInt(v.getPropertyValue("padding-top"));return[d.clientX-p.left-S,d.clientY-p.top-x]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(u,d,f,p,v,S,x,m,y){if(!S)return;const b=l(u,d,f);return b?(b[0]=Math.ceil((b[0]+(y?x/2:0))/x),b[1]=Math.ceil(b[1]/m),b[0]=Math.min(Math.max(b[0],1),p+(y?1:0)),b[1]=Math.min(Math.max(b[1],1),v),b):void 0}},9504:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const u=l(2584);function d(m,y,b,_){const P=m-f(m,b),T=y-f(y,b),C=Math.abs(P-T)-function(R,k,E){let $=0;const D=R-f(R,E),A=k-f(k,E);for(let N=0;N<Math.abs(D-A);N++){const q=p(R,k)==="A"?-1:1,V=E.buffer.lines.get(D+q*N);V?.isWrapped&&$++}return $}(m,y,b);return x(C,S(p(m,y),_))}function f(m,y){let b=0,_=y.buffer.lines.get(m),P=_?.isWrapped;for(;P&&m>=0&&m<y.rows;)b++,_=y.buffer.lines.get(--m),P=_?.isWrapped;return b}function p(m,y){return m>y?"A":"B"}function v(m,y,b,_,P,T){let C=m,R=y,k="";for(;C!==b||R!==_;)C+=P?1:-1,P&&C>T.cols-1?(k+=T.buffer.translateBufferLineToString(R,!1,m,C),C=0,m=0,R++):!P&&C<0&&(k+=T.buffer.translateBufferLineToString(R,!1,0,m+1),C=T.cols-1,m=C,R--);return k+T.buffer.translateBufferLineToString(R,!1,m,C)}function S(m,y){const b=y?"O":"[";return u.C0.ESC+b+m}function x(m,y){m=Math.floor(m);let b="";for(let _=0;_<m;_++)b+=y;return b}o.moveToCellSequence=function(m,y,b,_){const P=b.buffer.x,T=b.buffer.y;if(!b.buffer.hasScrollback)return function(k,E,$,D,A,N){return d(E,D,A,N).length===0?"":x(v(k,E,k,E-f(E,A),!1,A).length,S("D",N))}(P,T,0,y,b,_)+d(T,y,b,_)+function(k,E,$,D,A,N){let q;q=d(E,D,A,N).length>0?D-f(D,A):E;const V=D,K=function(Y,L,z,M,I,U){let W;return W=d(z,M,I,U).length>0?M-f(M,I):L,Y<z&&W<=M||Y>=z&&W<M?"C":"D"}(k,E,$,D,A,N);return x(v(k,q,$,V,K==="C",A).length,S(K,N))}(P,T,m,y,b,_);let C;if(T===y)return C=P>m?"D":"C",x(Math.abs(P-m),S(C,_));C=T>y?"D":"C";const R=Math.abs(T-y);return x(function(k,E){return E.cols-k}(T>y?m:P,b)+(R-1)*b.cols+1+((T>y?P:m)-1),S(C,_))}},1296:function(a,o,l){var u=this&&this.__decorate||function(A,N,q,V){var K,Y=arguments.length,L=Y<3?N:V===null?V=Object.getOwnPropertyDescriptor(N,q):V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(A,N,q,V);else for(var z=A.length-1;z>=0;z--)(K=A[z])&&(L=(Y<3?K(L):Y>3?K(N,q,L):K(N,q))||L);return Y>3&&L&&Object.defineProperty(N,q,L),L},d=this&&this.__param||function(A,N){return function(q,V){N(q,V,A)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const f=l(3787),p=l(2550),v=l(2223),S=l(6171),x=l(4725),m=l(8055),y=l(8460),b=l(844),_=l(2585),P="xterm-dom-renderer-owner-",T="xterm-rows",C="xterm-fg-",R="xterm-bg-",k="xterm-focus",E="xterm-selection";let $=1,D=o.DomRenderer=class extends b.Disposable{constructor(A,N,q,V,K,Y,L,z,M,I){super(),this._element=A,this._screenElement=N,this._viewportElement=q,this._linkifier2=V,this._charSizeService=Y,this._optionsService=L,this._bufferService=z,this._coreBrowserService=M,this._themeService=I,this._terminalClass=$++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(T),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(P+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,b.toDisposable)(()=>{this._element.classList.remove(P+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new p.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const A=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*A,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*A),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/A),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/A),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const q of this._rowElements)q.style.width=`${this.dimensions.css.canvas.width}px`,q.style.height=`${this.dimensions.css.cell.height}px`,q.style.lineHeight=`${this.dimensions.css.cell.height}px`,q.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const N=`${this._terminalSelector} .${T} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=N,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(A){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let N=`${this._terminalSelector} .${T} { color: ${A.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;N+=`${this._terminalSelector} .${T} .xterm-dim { color: ${m.color.multiplyOpacity(A.foreground,.5).css};}`,N+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,N+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",N+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${A.cursor.css};  color: ${A.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${A.cursor.css}; }}`,N+=`${this._terminalSelector} .${T}.${k} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${T}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-block { background-color: ${A.cursor.css}; color: ${A.cursorAccent.css};}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${A.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${A.cursor.css} inset;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${A.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,N+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${A.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${A.selectionInactiveBackgroundOpaque.css};}`;for(const[q,V]of A.ansi.entries())N+=`${this._terminalSelector} .${C}${q} { color: ${V.css}; }${this._terminalSelector} .${C}${q}.xterm-dim { color: ${m.color.multiplyOpacity(V,.5).css}; }${this._terminalSelector} .${R}${q} { background-color: ${V.css}; }`;N+=`${this._terminalSelector} .${C}${v.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(A.background).css}; }${this._terminalSelector} .${C}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(A.background),.5).css}; }${this._terminalSelector} .${R}${v.INVERTED_DEFAULT_COLOR} { background-color: ${A.foreground.css}; }`,this._themeStyleElement.textContent=N}_setDefaultSpacing(){const A=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${A}px`,this._rowFactory.defaultSpacing=A}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(A,N){for(let q=this._rowElements.length;q<=N;q++){const V=document.createElement("div");this._rowContainer.appendChild(V),this._rowElements.push(V)}for(;this._rowElements.length>N;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(A,N){this._refreshRowElements(A,N),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(k)}handleFocus(){this._rowContainer.classList.add(k),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(A,N,q){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(A,N,q),this.renderRows(0,this._bufferService.rows-1),!A||!N)return;const V=A[1]-this._bufferService.buffer.ydisp,K=N[1]-this._bufferService.buffer.ydisp,Y=Math.max(V,0),L=Math.min(K,this._bufferService.rows-1);if(Y>=this._bufferService.rows||L<0)return;const z=document.createDocumentFragment();if(q){const M=A[0]>N[0];z.appendChild(this._createSelectionElement(Y,M?N[0]:A[0],M?A[0]:N[0],L-Y+1))}else{const M=V===Y?A[0]:0,I=Y===K?N[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(Y,M,I));const U=L-Y-1;if(z.appendChild(this._createSelectionElement(Y+1,0,this._bufferService.cols,U)),Y!==L){const W=K===L?N[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(L,0,W))}}this._selectionContainer.appendChild(z)}_createSelectionElement(A,N,q,V=1){const K=document.createElement("div");return K.style.height=V*this.dimensions.css.cell.height+"px",K.style.top=A*this.dimensions.css.cell.height+"px",K.style.left=N*this.dimensions.css.cell.width+"px",K.style.width=this.dimensions.css.cell.width*(q-N)+"px",K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const A of this._rowElements)A.replaceChildren()}renderRows(A,N){const q=this._bufferService.buffer,V=q.ybase+q.y,K=Math.min(q.x,this._bufferService.cols-1),Y=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,z=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=A;M<=N;M++){const I=M+q.ydisp,U=this._rowElements[M],W=q.lines.get(I);if(!U||!W)break;U.replaceChildren(...this._rowFactory.createRow(W,I,I===V,L,z,K,Y,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${P}${this._terminalClass}`}_handleLinkHover(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!0)}_handleLinkLeave(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!1)}_setCellUnderline(A,N,q,V,K,Y){q<0&&(A=0),V<0&&(N=0);const L=this._bufferService.rows-1;q=Math.max(Math.min(q,L),0),V=Math.max(Math.min(V,L),0),K=Math.min(K,this._bufferService.cols);const z=this._bufferService.buffer,M=z.ybase+z.y,I=Math.min(z.x,K-1),U=this._optionsService.rawOptions.cursorBlink,W=this._optionsService.rawOptions.cursorStyle,se=this._optionsService.rawOptions.cursorInactiveStyle;for(let le=q;le<=V;++le){const ae=le+z.ydisp,B=this._rowElements[le],ee=z.lines.get(ae);if(!B||!ee)break;B.replaceChildren(...this._rowFactory.createRow(ee,ae,ae===M,W,se,I,U,this.dimensions.css.cell.width,this._widthCache,Y?le===q?A:0:-1,Y?(le===V?N:K)-1:-1))}}};o.DomRenderer=D=u([d(4,_.IInstantiationService),d(5,x.ICharSizeService),d(6,_.IOptionsService),d(7,_.IBufferService),d(8,x.ICoreBrowserService),d(9,x.IThemeService)],D)},3787:function(a,o,l){var u=this&&this.__decorate||function(C,R,k,E){var $,D=arguments.length,A=D<3?R:E===null?E=Object.getOwnPropertyDescriptor(R,k):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,R,k,E);else for(var N=C.length-1;N>=0;N--)($=C[N])&&(A=(D<3?$(A):D>3?$(R,k,A):$(R,k))||A);return D>3&&A&&Object.defineProperty(R,k,A),A},d=this&&this.__param||function(C,R){return function(k,E){R(k,E,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const f=l(2223),p=l(643),v=l(511),S=l(2585),x=l(8055),m=l(4725),y=l(4269),b=l(6171),_=l(3734);let P=o.DomRendererRowFactory=class{constructor(C,R,k,E,$,D,A){this._document=C,this._characterJoinerService=R,this._optionsService=k,this._coreBrowserService=E,this._coreService=$,this._decorationService=D,this._themeService=A,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,R,k){this._selectionStart=C,this._selectionEnd=R,this._columnSelectMode=k}createRow(C,R,k,E,$,D,A,N,q,V,K){const Y=[],L=this._characterJoinerService.getJoinedCharacters(R),z=this._themeService.colors;let M,I=C.getNoBgTrimmedLength();k&&I<D+1&&(I=D+1);let U=0,W="",se=0,le=0,ae=0,B=!1,ee=0,ie=!1,G=0;const me=[],be=V!==-1&&K!==-1;for(let Ie=0;Ie<I;Ie++){C.loadCell(Ie,this._workCell);let qe=this._workCell.getWidth();if(qe===0)continue;let st=!1,_e=Ie,Se=this._workCell;if(L.length>0&&Ie===L[0][0]){st=!0;const Oe=L.shift();Se=new y.JoinedCellData(this._workCell,C.translateToString(!0,Oe[0],Oe[1]),Oe[1]-Oe[0]),_e=Oe[1]-1,qe=Se.getWidth()}const Ee=this._isCellInSelection(Ie,R),et=k&&Ie===D,Be=be&&Ie>=V&&Ie<=K;let Xe=!1;this._decorationService.forEachDecorationAtCell(Ie,R,void 0,Oe=>{Xe=!0});let $e=Se.getChars()||p.WHITESPACE_CELL_CHAR;if($e===" "&&(Se.isUnderline()||Se.isOverline())&&($e=""),G=qe*N-q.get($e,Se.isBold(),Se.isItalic()),M){if(U&&(Ee&&ie||!Ee&&!ie&&Se.bg===se)&&(Ee&&ie&&z.selectionForeground||Se.fg===le)&&Se.extended.ext===ae&&Be===B&&G===ee&&!et&&!st&&!Xe){W+=$e,U++;continue}U&&(M.textContent=W),M=this._document.createElement("span"),U=0,W=""}else M=this._document.createElement("span");if(se=Se.bg,le=Se.fg,ae=Se.extended.ext,B=Be,ee=G,ie=Ee,st&&D>=Ie&&D<=_e&&(D=Ie),!this._coreService.isCursorHidden&&et){if(me.push("xterm-cursor"),this._coreBrowserService.isFocused)A&&me.push("xterm-cursor-blink"),me.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if($)switch($){case"outline":me.push("xterm-cursor-outline");break;case"block":me.push("xterm-cursor-block");break;case"bar":me.push("xterm-cursor-bar");break;case"underline":me.push("xterm-cursor-underline")}}if(Se.isBold()&&me.push("xterm-bold"),Se.isItalic()&&me.push("xterm-italic"),Se.isDim()&&me.push("xterm-dim"),W=Se.isInvisible()?p.WHITESPACE_CELL_CHAR:Se.getChars()||p.WHITESPACE_CELL_CHAR,Se.isUnderline()&&(me.push(`xterm-underline-${Se.extended.underlineStyle}`),W===" "&&(W=""),!Se.isUnderlineColorDefault()))if(Se.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(Se.getUnderlineColor()).join(",")})`;else{let Oe=Se.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Se.isBold()&&Oe<8&&(Oe+=8),M.style.textDecorationColor=z.ansi[Oe].css}Se.isOverline()&&(me.push("xterm-overline"),W===" "&&(W="")),Se.isStrikethrough()&&me.push("xterm-strikethrough"),Be&&(M.style.textDecoration="underline");let Qe=Se.getFgColor(),ve=Se.getFgColorMode(),Pe=Se.getBgColor(),oe=Se.getBgColorMode();const xe=!!Se.isInverse();if(xe){const Oe=Qe;Qe=Pe,Pe=Oe;const pe=ve;ve=oe,oe=pe}let je,te,H,de=!1;switch(this._decorationService.forEachDecorationAtCell(Ie,R,void 0,Oe=>{Oe.options.layer!=="top"&&de||(Oe.backgroundColorRGB&&(oe=50331648,Pe=Oe.backgroundColorRGB.rgba>>8&16777215,je=Oe.backgroundColorRGB),Oe.foregroundColorRGB&&(ve=50331648,Qe=Oe.foregroundColorRGB.rgba>>8&16777215,te=Oe.foregroundColorRGB),de=Oe.options.layer==="top")}),!de&&Ee&&(je=this._coreBrowserService.isFocused?z.selectionBackgroundOpaque:z.selectionInactiveBackgroundOpaque,Pe=je.rgba>>8&16777215,oe=50331648,de=!0,z.selectionForeground&&(ve=50331648,Qe=z.selectionForeground.rgba>>8&16777215,te=z.selectionForeground)),de&&me.push("xterm-decoration-top"),oe){case 16777216:case 33554432:H=z.ansi[Pe],me.push(`xterm-bg-${Pe}`);break;case 50331648:H=x.rgba.toColor(Pe>>16,Pe>>8&255,255&Pe),this._addStyle(M,`background-color:#${T((Pe>>>0).toString(16),"0",6)}`);break;default:xe?(H=z.foreground,me.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):H=z.background}switch(je||Se.isDim()&&(je=x.color.multiplyOpacity(H,.5)),ve){case 16777216:case 33554432:Se.isBold()&&Qe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Qe+=8),this._applyMinimumContrast(M,H,z.ansi[Qe],Se,je,void 0)||me.push(`xterm-fg-${Qe}`);break;case 50331648:const Oe=x.rgba.toColor(Qe>>16&255,Qe>>8&255,255&Qe);this._applyMinimumContrast(M,H,Oe,Se,je,te)||this._addStyle(M,`color:#${T(Qe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,H,z.foreground,Se,je,void 0)||xe&&me.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}me.length&&(M.className=me.join(" "),me.length=0),et||st||Xe?M.textContent=W:U++,G!==this.defaultSpacing&&(M.style.letterSpacing=`${G}px`),Y.push(M),Ie=_e}return M&&U&&(M.textContent=W),Y}_applyMinimumContrast(C,R,k,E,$,D){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,b.excludeFromContrastRatioDemands)(E.getCode()))return!1;const A=this._getContrastCache(E);let N;if($||D||(N=A.getColor(R.rgba,k.rgba)),N===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);N=x.color.ensureContrastRatio($||R,D||k,q),A.setColor(($||R).rgba,(D||k).rgba,N??null)}return!!N&&(this._addStyle(C,`color:${N.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,R){C.setAttribute("style",`${C.getAttribute("style")||""}${R};`)}_isCellInSelection(C,R){const k=this._selectionStart,E=this._selectionEnd;return!(!k||!E)&&(this._columnSelectMode?k[0]<=E[0]?C>=k[0]&&R>=k[1]&&C<E[0]&&R<=E[1]:C<k[0]&&R>=k[1]&&C>=E[0]&&R<=E[1]:R>k[1]&&R<E[1]||k[1]===E[1]&&R===k[1]&&C>=k[0]&&C<E[0]||k[1]<E[1]&&R===E[1]&&C<E[0]||k[1]<E[1]&&R===k[1]&&C>=k[0])}};function T(C,R,k){for(;C.length<k;)C=R+C;return C}o.DomRendererRowFactory=P=u([d(1,m.ICharacterJoinerService),d(2,S.IOptionsService),d(3,m.ICoreBrowserService),d(4,S.ICoreService),d(5,S.IDecorationService),d(6,m.IThemeService)],P)},2550:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=l.createElement("span"),d=l.createElement("span");d.style.fontWeight="bold";const f=l.createElement("span");f.style.fontStyle="italic";const p=l.createElement("span");p.style.fontWeight="bold",p.style.fontStyle="italic",this._measureElements=[u,d,f,p],this._container.appendChild(u),this._container.appendChild(d),this._container.appendChild(f),this._container.appendChild(p),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,u,d,f){l===this._font&&u===this._fontSize&&d===this._weight&&f===this._weightBold||(this._font=l,this._fontSize=u,this._weight=d,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(l,u,d){let f=0;if(!u&&!d&&l.length===1&&(f=l.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(l,0);let p=l;u&&(p+="B"),d&&(p+="I");let v=this._holey.get(p);if(v===void 0){let S=0;u&&(S|=1),d&&(S|=2),v=this._measure(l,S),this._holey.set(p,v)}return v}_measure(l,u){const d=this._measureElements[u];return d.textContent=l.repeat(32),d.offsetWidth/32}}},2223:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const u=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(a,o)=>{function l(u){return 57508<=u&&u<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},o.excludeFromContrastRatioDemands=function(u){return l(u)||function(d){return 9472<=d&&d<=9631}(u)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,u=this.selectionEnd;return!(!l||!u)&&(l[1]>u[1]||l[1]===u[1]&&l[0]>u[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const f=l(2585),p=l(8460),v=l(844);let S=o.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,y,b){super(),this._optionsService=b,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(m,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};o.CharSizeService=S=u([d(2,f.IOptionsService)],S);class x{constructor(y,b,_){this._document=y,this._parentElement=b,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return y.width!==0&&y.height!==0&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(a,o,l){var u=this&&this.__decorate||function(y,b,_,P){var T,C=arguments.length,R=C<3?b:P===null?P=Object.getOwnPropertyDescriptor(b,_):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,b,_,P);else for(var k=y.length-1;k>=0;k--)(T=y[k])&&(R=(C<3?T(R):C>3?T(b,_,R):T(b,_))||R);return C>3&&R&&Object.defineProperty(b,_,R),R},d=this&&this.__param||function(y,b){return function(_,P){b(_,P,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const f=l(3734),p=l(643),v=l(511),S=l(2585);class x extends f.AttributeData{constructor(b,_,P){super(),this.content=0,this.combinedData="",this.fg=b.fg,this.bg=b.bg,this.combinedData=_,this._width=P}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(b){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=x;let m=o.CharacterJoinerService=class oT{constructor(b){this._bufferService=b,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(b){const _={id:this._nextCharacterJoinerId++,handler:b};return this._characterJoiners.push(_),_.id}deregister(b){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===b)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(b){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(b);if(!_||_.length===0)return[];const P=[],T=_.translateToString(!0);let C=0,R=0,k=0,E=_.getFg(0),$=_.getBg(0);for(let D=0;D<_.getTrimmedLength();D++)if(_.loadCell(D,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==$){if(D-C>1){const A=this._getJoinedRanges(T,k,R,_,C);for(let N=0;N<A.length;N++)P.push(A[N])}C=D,k=R,E=this._workCell.fg,$=this._workCell.bg}R+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const D=this._getJoinedRanges(T,k,R,_,C);for(let A=0;A<D.length;A++)P.push(D[A])}return P}_getJoinedRanges(b,_,P,T,C){const R=b.substring(_,P);let k=[];try{k=this._characterJoiners[0].handler(R)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const $=this._characterJoiners[E].handler(R);for(let D=0;D<$.length;D++)oT._mergeRanges(k,$[D])}catch($){console.error($)}return this._stringRangesToCellRanges(k,T,C),k}_stringRangesToCellRanges(b,_,P){let T=0,C=!1,R=0,k=b[T];if(k){for(let E=P;E<this._bufferService.cols;E++){const $=_.getWidth(E),D=_.getString(E).length||p.WHITESPACE_CELL_CHAR.length;if($!==0){if(!C&&k[0]<=R&&(k[0]=E,C=!0),k[1]<=R){if(k[1]=E,k=b[++T],!k)break;k[0]<=R?(k[0]=E,C=!0):C=!1}R+=D}}k&&(k[1]=this._bufferService.cols)}}static _mergeRanges(b,_){let P=!1;for(let T=0;T<b.length;T++){const C=b[T];if(P){if(_[1]<=C[0])return b[T-1][1]=_[1],b;if(_[1]<=C[1])return b[T-1][1]=Math.max(_[1],C[1]),b.splice(T,1),b;b.splice(T,1),T--}else{if(_[1]<=C[0])return b.splice(T,0,_),b;if(_[1]<=C[1])return C[0]=Math.min(_[0],C[0]),b;_[0]<C[1]&&(C[0]=Math.min(_[0],C[0]),P=!0)}}return P?b[b.length-1][1]=_[1]:b.push(_),b}};o.CharacterJoinerService=m=u([d(0,S.IBufferService)],m)},5114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(l,u){this._textarea=l,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(a,o,l){var u=this&&this.__decorate||function(S,x,m,y){var b,_=arguments.length,P=_<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,m):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(S,x,m,y);else for(var T=S.length-1;T>=0;T--)(b=S[T])&&(P=(_<3?b(P):_>3?b(x,m,P):b(x,m))||P);return _>3&&P&&Object.defineProperty(x,m,P),P},d=this&&this.__param||function(S,x){return function(m,y){x(m,y,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const f=l(4725),p=l(9806);let v=o.MouseService=class{constructor(S,x){this._renderService=S,this._charSizeService=x}getCoords(S,x,m,y,b){return(0,p.getCoords)(window,S,x,m,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,b)}getMouseReportCoords(S,x){const m=(0,p.getCoordsRelativeToElement)(window,S,x);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};o.MouseService=v=u([d(0,f.IRenderService),d(1,f.ICharSizeService)],v)},3230:function(a,o,l){var u=this&&this.__decorate||function(P,T,C,R){var k,E=arguments.length,$=E<3?T:R===null?R=Object.getOwnPropertyDescriptor(T,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(P,T,C,R);else for(var D=P.length-1;D>=0;D--)(k=P[D])&&($=(E<3?k($):E>3?k(T,C,$):k(T,C))||$);return E>3&&$&&Object.defineProperty(T,C,$),$},d=this&&this.__param||function(P,T){return function(C,R){T(C,R,P)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const f=l(3656),p=l(6193),v=l(5596),S=l(4725),x=l(8460),m=l(844),y=l(7226),b=l(2585);let _=o.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(P,T,C,R,k,E,$,D){if(super(),this._rowCount=P,this._charSizeService=R,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new p.RenderDebouncer($.window,(A,N)=>this._renderRows(A,N)),this.register(this._renderDebouncer),this._screenDprMonitor=new v.ScreenDprMonitor($.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var A;return(A=this._renderer.value)===null||A===void 0?void 0:A.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(k.onDecorationRegistered(()=>this._fullRefresh())),this.register(k.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,f.addDisposableDomListener)($.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(D.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in $.window){const A=new $.window.IntersectionObserver(N=>this._handleIntersectionChange(N[N.length-1]),{threshold:0});A.observe(T),this.register({dispose:()=>A.disconnect()})}}_handleIntersectionChange(P){this._isPaused=P.isIntersecting===void 0?P.intersectionRatio===0:!P.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(P,T,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(P,T,this._rowCount))}_renderRows(P,T){this._renderer.value&&(P=Math.min(P,this._rowCount-1),T=Math.min(T,this._rowCount-1),this._renderer.value.renderRows(P,T),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:P,end:T}),this._onRender.fire({start:P,end:T}),this._isNextRenderRedrawOnly=!0)}resize(P,T){this._rowCount=T,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(P){this._renderer.value=P,this._renderer.value.onRequestRedraw(T=>this.refreshRows(T.start,T.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(P){return this._renderDebouncer.addRefreshCallback(P)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var P,T;this._renderer.value&&((T=(P=this._renderer.value).clearTextureAtlas)===null||T===void 0||T.call(P),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(P,T){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(P,T)):this._renderer.value.handleResize(P,T),this._fullRefresh())}handleCharSizeChanged(){var P;(P=this._renderer.value)===null||P===void 0||P.handleCharSizeChanged()}handleBlur(){var P;(P=this._renderer.value)===null||P===void 0||P.handleBlur()}handleFocus(){var P;(P=this._renderer.value)===null||P===void 0||P.handleFocus()}handleSelectionChanged(P,T,C){var R;this._selectionState.start=P,this._selectionState.end=T,this._selectionState.columnSelectMode=C,(R=this._renderer.value)===null||R===void 0||R.handleSelectionChanged(P,T,C)}handleCursorMove(){var P;(P=this._renderer.value)===null||P===void 0||P.handleCursorMove()}clear(){var P;(P=this._renderer.value)===null||P===void 0||P.clear()}};o.RenderService=_=u([d(2,b.IOptionsService),d(3,S.ICharSizeService),d(4,b.IDecorationService),d(5,b.IBufferService),d(6,S.ICoreBrowserService),d(7,S.IThemeService)],_)},9312:function(a,o,l){var u=this&&this.__decorate||function(k,E,$,D){var A,N=arguments.length,q=N<3?E:D===null?D=Object.getOwnPropertyDescriptor(E,$):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(k,E,$,D);else for(var V=k.length-1;V>=0;V--)(A=k[V])&&(q=(N<3?A(q):N>3?A(E,$,q):A(E,$))||q);return N>3&&q&&Object.defineProperty(E,$,q),q},d=this&&this.__param||function(k,E){return function($,D){E($,D,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const f=l(9806),p=l(9504),v=l(456),S=l(4725),x=l(8460),m=l(844),y=l(6114),b=l(4841),_=l(511),P=l(2585),T="",C=new RegExp(T,"g");let R=o.SelectionService=class extends m.Disposable{constructor(k,E,$,D,A,N,q,V,K){super(),this._element=k,this._screenElement=E,this._linkifier=$,this._bufferService=D,this._coreService=A,this._mouseService=N,this._optionsService=q,this._renderService=V,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Y=>this._handleMouseMove(Y),this._mouseUpListener=Y=>this._handleMouseUp(Y),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Y=>this._handleTrim(Y)),this.register(this._bufferService.buffers.onBufferActivate(Y=>this._handleBufferActivate(Y))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const k=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!k||!E||k[0]===E[0]&&k[1]===E[1])}get selectionText(){const k=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!k||!E)return"";const $=this._bufferService.buffer,D=[];if(this._activeSelectionMode===3){if(k[0]===E[0])return"";const A=k[0]<E[0]?k[0]:E[0],N=k[0]<E[0]?E[0]:k[0];for(let q=k[1];q<=E[1];q++){const V=$.translateBufferLineToString(q,!0,A,N);D.push(V)}}else{const A=k[1]===E[1]?E[0]:void 0;D.push($.translateBufferLineToString(k[1],!0,k[0],A));for(let N=k[1]+1;N<=E[1]-1;N++){const q=$.lines.get(N),V=$.translateBufferLineToString(N,!0);q?.isWrapped?D[D.length-1]+=V:D.push(V)}if(k[1]!==E[1]){const N=$.lines.get(E[1]),q=$.translateBufferLineToString(E[1],!0,0,E[0]);N&&N.isWrapped?D[D.length-1]+=q:D.push(q)}}return D.map(A=>A.replace(C," ")).join(y.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(k){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&k&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(k){const E=this._getMouseBufferCoords(k),$=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!!($&&D&&E)&&this._areCoordsInSelection(E,$,D)}isCellInSelection(k,E){const $=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!$||!D)&&this._areCoordsInSelection([k,E],$,D)}_areCoordsInSelection(k,E,$){return k[1]>E[1]&&k[1]<$[1]||E[1]===$[1]&&k[1]===E[1]&&k[0]>=E[0]&&k[0]<$[0]||E[1]<$[1]&&k[1]===$[1]&&k[0]<$[0]||E[1]<$[1]&&k[1]===E[1]&&k[0]>=E[0]}_selectWordAtCursor(k,E){var $,D;const A=(D=($=this._linkifier.currentLink)===null||$===void 0?void 0:$.link)===null||D===void 0?void 0:D.range;if(A)return this._model.selectionStart=[A.start.x-1,A.start.y-1],this._model.selectionStartLength=(0,b.getRangeLength)(A,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const N=this._getMouseBufferCoords(k);return!!N&&(this._selectWordAt(N,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(k,E){this._model.clearSelection(),k=Math.max(k,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,k],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(k){this._model.handleTrim(k)&&this.refresh()}_getMouseBufferCoords(k){const E=this._mouseService.getCoords(k,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(k){let E=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,k,this._screenElement)[1];const $=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=$?0:(E>$&&(E-=$),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(k){return y.isMac?k.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:k.shiftKey}handleMouseDown(k){if(this._mouseDownTimeStamp=k.timeStamp,(k.button!==2||!this.hasSelection)&&k.button===0){if(!this._enabled){if(!this.shouldForceSelection(k))return;k.stopPropagation()}k.preventDefault(),this._dragScrollAmount=0,this._enabled&&k.shiftKey?this._handleIncrementalClick(k):k.detail===1?this._handleSingleClick(k):k.detail===2?this._handleDoubleClick(k):k.detail===3&&this._handleTripleClick(k),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(k){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(k))}_handleSingleClick(k){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(k)?3:0,this._model.selectionStart=this._getMouseBufferCoords(k),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(k){this._selectWordAtCursor(k,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(k){const E=this._getMouseBufferCoords(k);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(k){return k.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(k){if(k.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(k),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(k),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const $=this._bufferService.buffer;if(this._model.selectionEnd[1]<$.lines.length){const D=$.lines.get(this._model.selectionEnd[1]);D&&D.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const k=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(k.ydisp+this._bufferService.rows,k.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=k.ydisp),this.refresh()}}_handleMouseUp(k){const E=k.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&k.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const $=this._mouseService.getCoords(k,this._element,this._bufferService.cols,this._bufferService.rows,!1);if($&&$[0]!==void 0&&$[1]!==void 0){const D=(0,p.moveToCellSequence)($[0]-1,$[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(D,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const k=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,$=!(!k||!E||k[0]===E[0]&&k[1]===E[1]);$?k&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&k[0]===this._oldSelectionStart[0]&&k[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(k,E,$)):this._oldHasSelection&&this._fireOnSelectionChange(k,E,$)}_fireOnSelectionChange(k,E,$){this._oldSelectionStart=k,this._oldSelectionEnd=E,this._oldHasSelection=$,this._onSelectionChange.fire()}_handleBufferActivate(k){this.clearSelection(),this._trimListener.dispose(),this._trimListener=k.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(k,E){let $=E;for(let D=0;E>=D;D++){const A=k.loadCell(D,this._workCell).getChars().length;this._workCell.getWidth()===0?$--:A>1&&E!==D&&($+=A-1)}return $}setSelection(k,E,$){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[k,E],this._model.selectionStartLength=$,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(k){this._isClickInSelection(k)||(this._selectWordAtCursor(k,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(k,E,$=!0,D=!0){if(k[0]>=this._bufferService.cols)return;const A=this._bufferService.buffer,N=A.lines.get(k[1]);if(!N)return;const q=A.translateBufferLineToString(k[1],!1);let V=this._convertViewportColToCharacterIndex(N,k[0]),K=V;const Y=k[0]-V;let L=0,z=0,M=0,I=0;if(q.charAt(V)===" "){for(;V>0&&q.charAt(V-1)===" ";)V--;for(;K<q.length&&q.charAt(K+1)===" ";)K++}else{let se=k[0],le=k[0];N.getWidth(se)===0&&(L++,se--),N.getWidth(le)===2&&(z++,le++);const ae=N.getString(le).length;for(ae>1&&(I+=ae-1,K+=ae-1);se>0&&V>0&&!this._isCharWordSeparator(N.loadCell(se-1,this._workCell));){N.loadCell(se-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(L++,se--):B>1&&(M+=B-1,V-=B-1),V--,se--}for(;le<N.length&&K+1<q.length&&!this._isCharWordSeparator(N.loadCell(le+1,this._workCell));){N.loadCell(le+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(z++,le++):B>1&&(I+=B-1,K+=B-1),K++,le++}}K++;let U=V+Y-L+M,W=Math.min(this._bufferService.cols,K-V+L+z-M-I);if(E||q.slice(V,K).trim()!==""){if($&&U===0&&N.getCodePoint(0)!==32){const se=A.lines.get(k[1]-1);if(se&&N.isWrapped&&se.getCodePoint(this._bufferService.cols-1)!==32){const le=this._getWordAt([this._bufferService.cols-1,k[1]-1],!1,!0,!1);if(le){const ae=this._bufferService.cols-le.start;U-=ae,W+=ae}}}if(D&&U+W===this._bufferService.cols&&N.getCodePoint(this._bufferService.cols-1)!==32){const se=A.lines.get(k[1]+1);if(se?.isWrapped&&se.getCodePoint(0)!==32){const le=this._getWordAt([0,k[1]+1],!1,!1,!0);le&&(W+=le.length)}}return{start:U,length:W}}}_selectWordAt(k,E){const $=this._getWordAt(k,E);if($){for(;$.start<0;)$.start+=this._bufferService.cols,k[1]--;this._model.selectionStart=[$.start,k[1]],this._model.selectionStartLength=$.length}}_selectToWordAt(k){const E=this._getWordAt(k,!0);if(E){let $=k[1];for(;E.start<0;)E.start+=this._bufferService.cols,$--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,$++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,$]}}_isCharWordSeparator(k){return k.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(k.getChars())>=0}_selectLineAt(k){const E=this._bufferService.buffer.getWrappedRangeForLine(k),$={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,b.getRangeLength)($,this._bufferService.cols)}};o.SelectionService=R=u([d(3,P.IBufferService),d(4,P.ICoreService),d(5,S.IMouseService),d(6,P.IOptionsService),d(7,S.IRenderService),d(8,S.ICoreBrowserService)],R)},4725:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const u=l(8343);o.ICharSizeService=(0,u.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),o.IMouseService=(0,u.createDecorator)("MouseService"),o.IRenderService=(0,u.createDecorator)("RenderService"),o.ISelectionService=(0,u.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(a,o,l){var u=this&&this.__decorate||function(R,k,E,$){var D,A=arguments.length,N=A<3?k:$===null?$=Object.getOwnPropertyDescriptor(k,E):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(R,k,E,$);else for(var q=R.length-1;q>=0;q--)(D=R[q])&&(N=(A<3?D(N):A>3?D(k,E,N):D(k,E))||N);return A>3&&N&&Object.defineProperty(k,E,N),N},d=this&&this.__param||function(R,k){return function(E,$){k(E,$,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const f=l(7239),p=l(8055),v=l(8460),S=l(844),x=l(2585),m=p.css.toColor("#ffffff"),y=p.css.toColor("#000000"),b=p.css.toColor("#ffffff"),_=p.css.toColor("#000000"),P={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const R=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],k=[0,95,135,175,215,255];for(let E=0;E<216;E++){const $=k[E/36%6|0],D=k[E/6%6|0],A=k[E%6];R.push({css:p.channels.toCss($,D,A),rgba:p.channels.toRgba($,D,A)})}for(let E=0;E<24;E++){const $=8+10*E;R.push({css:p.channels.toCss($,$,$),rgba:p.channels.toRgba($,$,$)})}return R})());let T=o.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(R){super(),this._optionsService=R,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:y,cursor:b,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:P,selectionBackgroundOpaque:p.color.blend(y,P),selectionInactiveBackgroundTransparent:P,selectionInactiveBackgroundOpaque:p.color.blend(y,P),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(R={}){const k=this._colors;if(k.foreground=C(R.foreground,m),k.background=C(R.background,y),k.cursor=C(R.cursor,b),k.cursorAccent=C(R.cursorAccent,_),k.selectionBackgroundTransparent=C(R.selectionBackground,P),k.selectionBackgroundOpaque=p.color.blend(k.background,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundTransparent=C(R.selectionInactiveBackground,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundOpaque=p.color.blend(k.background,k.selectionInactiveBackgroundTransparent),k.selectionForeground=R.selectionForeground?C(R.selectionForeground,p.NULL_COLOR):void 0,k.selectionForeground===p.NULL_COLOR&&(k.selectionForeground=void 0),p.color.isOpaque(k.selectionBackgroundTransparent)&&(k.selectionBackgroundTransparent=p.color.opacity(k.selectionBackgroundTransparent,.3)),p.color.isOpaque(k.selectionInactiveBackgroundTransparent)&&(k.selectionInactiveBackgroundTransparent=p.color.opacity(k.selectionInactiveBackgroundTransparent,.3)),k.ansi=o.DEFAULT_ANSI_COLORS.slice(),k.ansi[0]=C(R.black,o.DEFAULT_ANSI_COLORS[0]),k.ansi[1]=C(R.red,o.DEFAULT_ANSI_COLORS[1]),k.ansi[2]=C(R.green,o.DEFAULT_ANSI_COLORS[2]),k.ansi[3]=C(R.yellow,o.DEFAULT_ANSI_COLORS[3]),k.ansi[4]=C(R.blue,o.DEFAULT_ANSI_COLORS[4]),k.ansi[5]=C(R.magenta,o.DEFAULT_ANSI_COLORS[5]),k.ansi[6]=C(R.cyan,o.DEFAULT_ANSI_COLORS[6]),k.ansi[7]=C(R.white,o.DEFAULT_ANSI_COLORS[7]),k.ansi[8]=C(R.brightBlack,o.DEFAULT_ANSI_COLORS[8]),k.ansi[9]=C(R.brightRed,o.DEFAULT_ANSI_COLORS[9]),k.ansi[10]=C(R.brightGreen,o.DEFAULT_ANSI_COLORS[10]),k.ansi[11]=C(R.brightYellow,o.DEFAULT_ANSI_COLORS[11]),k.ansi[12]=C(R.brightBlue,o.DEFAULT_ANSI_COLORS[12]),k.ansi[13]=C(R.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),k.ansi[14]=C(R.brightCyan,o.DEFAULT_ANSI_COLORS[14]),k.ansi[15]=C(R.brightWhite,o.DEFAULT_ANSI_COLORS[15]),R.extendedAnsi){const E=Math.min(k.ansi.length-16,R.extendedAnsi.length);for(let $=0;$<E;$++)k.ansi[$+16]=C(R.extendedAnsi[$],o.DEFAULT_ANSI_COLORS[$+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(R){this._restoreColor(R),this._onChangeColors.fire(this.colors)}_restoreColor(R){if(R!==void 0)switch(R){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[R]=this._restoreColors.ansi[R]}else for(let k=0;k<this._restoreColors.ansi.length;++k)this._colors.ansi[k]=this._restoreColors.ansi[k]}modifyColors(R){R(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(R,k){if(R!==void 0)try{return p.css.toColor(R)}catch{}return k}o.ThemeService=T=u([d(0,x.IOptionsService)],T)},6349:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const u=l(8460),d=l(844);class f extends d.Disposable{constructor(v){super(),this._maxLength=v,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(v){if(this._maxLength===v)return;const S=new Array(v);for(let x=0;x<Math.min(v,this.length);x++)S[x]=this._array[this._getCyclicIndex(x)];this._array=S,this._maxLength=v,this._startIndex=0}get length(){return this._length}set length(v){if(v>this._length)for(let S=this._length;S<v;S++)this._array[S]=void 0;this._length=v}get(v){return this._array[this._getCyclicIndex(v)]}set(v,S){this._array[this._getCyclicIndex(v)]=S}push(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(v,S,...x){if(S){for(let m=v;m<this._length-S;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+S)];this._length-=S,this.onDeleteEmitter.fire({index:v,amount:S})}for(let m=this._length-1;m>=v;m--)this._array[this._getCyclicIndex(m+x.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<x.length;m++)this._array[this._getCyclicIndex(v+m)]=x[m];if(x.length&&this.onInsertEmitter.fire({index:v,amount:x.length}),this._length+x.length>this._maxLength){const m=this._length+x.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=x.length}trimStart(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)}shiftElements(v,S,x){if(!(S<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let y=S-1;y>=0;y--)this.set(v+y+x,this.get(v+y));const m=v+S+x-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<S;m++)this.set(v+m+x,this.get(v+m))}}_getCyclicIndex(v){return(this._startIndex+v)%this._maxLength}}o.CircularList=f},1439:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(u,d=5){if(typeof u!="object")return u;const f=Array.isArray(u)?[]:{};for(const p in u)f[p]=d<=1?u[p]:u[p]&&l(u[p],d-1);return f}},8055:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const u=l(6114);let d=0,f=0,p=0,v=0;var S,x,m,y,b;function _(T){const C=T.toString(16);return C.length<2?"0"+C:C}function P(T,C){return T<C?(C+.05)/(T+.05):(T+.05)/(C+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(T){T.toCss=function(C,R,k,E){return E!==void 0?`#${_(C)}${_(R)}${_(k)}${_(E)}`:`#${_(C)}${_(R)}${_(k)}`},T.toRgba=function(C,R,k,E=255){return(C<<24|R<<16|k<<8|E)>>>0}}(S||(o.channels=S={})),function(T){function C(R,k){return v=Math.round(255*k),[d,f,p]=b.toChannels(R.rgba),{css:S.toCss(d,f,p,v),rgba:S.toRgba(d,f,p,v)}}T.blend=function(R,k){if(v=(255&k.rgba)/255,v===1)return{css:k.css,rgba:k.rgba};const E=k.rgba>>24&255,$=k.rgba>>16&255,D=k.rgba>>8&255,A=R.rgba>>24&255,N=R.rgba>>16&255,q=R.rgba>>8&255;return d=A+Math.round((E-A)*v),f=N+Math.round(($-N)*v),p=q+Math.round((D-q)*v),{css:S.toCss(d,f,p),rgba:S.toRgba(d,f,p)}},T.isOpaque=function(R){return(255&R.rgba)==255},T.ensureContrastRatio=function(R,k,E){const $=b.ensureContrastRatio(R.rgba,k.rgba,E);if($)return b.toColor($>>24&255,$>>16&255,$>>8&255)},T.opaque=function(R){const k=(255|R.rgba)>>>0;return[d,f,p]=b.toChannels(k),{css:S.toCss(d,f,p),rgba:k}},T.opacity=C,T.multiplyOpacity=function(R,k){return v=255&R.rgba,C(R,v*k/255)},T.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(x||(o.color=x={})),function(T){let C,R;if(!u.isNode){const k=document.createElement("canvas");k.width=1,k.height=1;const E=k.getContext("2d",{willReadFrequently:!0});E&&(C=E,C.globalCompositeOperation="copy",R=C.createLinearGradient(0,0,1,1))}T.toColor=function(k){if(k.match(/#[\da-f]{3,8}/i))switch(k.length){case 4:return d=parseInt(k.slice(1,2).repeat(2),16),f=parseInt(k.slice(2,3).repeat(2),16),p=parseInt(k.slice(3,4).repeat(2),16),b.toColor(d,f,p);case 5:return d=parseInt(k.slice(1,2).repeat(2),16),f=parseInt(k.slice(2,3).repeat(2),16),p=parseInt(k.slice(3,4).repeat(2),16),v=parseInt(k.slice(4,5).repeat(2),16),b.toColor(d,f,p,v);case 7:return{css:k,rgba:(parseInt(k.slice(1),16)<<8|255)>>>0};case 9:return{css:k,rgba:parseInt(k.slice(1),16)>>>0}}const E=k.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return d=parseInt(E[1]),f=parseInt(E[2]),p=parseInt(E[3]),v=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),b.toColor(d,f,p,v);if(!C||!R)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=R,C.fillStyle=k,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[d,f,p,v]=C.getImageData(0,0,1,1).data,v!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(d,f,p,v),css:k}}}(m||(o.css=m={})),function(T){function C(R,k,E){const $=R/255,D=k/255,A=E/255;return .2126*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))+.7152*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.0722*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))}T.relativeLuminance=function(R){return C(R>>16&255,R>>8&255,255&R)},T.relativeLuminance2=C}(y||(o.rgb=y={})),function(T){function C(k,E,$){const D=k>>24&255,A=k>>16&255,N=k>>8&255;let q=E>>24&255,V=E>>16&255,K=E>>8&255,Y=P(y.relativeLuminance2(q,V,K),y.relativeLuminance2(D,A,N));for(;Y<$&&(q>0||V>0||K>0);)q-=Math.max(0,Math.ceil(.1*q)),V-=Math.max(0,Math.ceil(.1*V)),K-=Math.max(0,Math.ceil(.1*K)),Y=P(y.relativeLuminance2(q,V,K),y.relativeLuminance2(D,A,N));return(q<<24|V<<16|K<<8|255)>>>0}function R(k,E,$){const D=k>>24&255,A=k>>16&255,N=k>>8&255;let q=E>>24&255,V=E>>16&255,K=E>>8&255,Y=P(y.relativeLuminance2(q,V,K),y.relativeLuminance2(D,A,N));for(;Y<$&&(q<255||V<255||K<255);)q=Math.min(255,q+Math.ceil(.1*(255-q))),V=Math.min(255,V+Math.ceil(.1*(255-V))),K=Math.min(255,K+Math.ceil(.1*(255-K))),Y=P(y.relativeLuminance2(q,V,K),y.relativeLuminance2(D,A,N));return(q<<24|V<<16|K<<8|255)>>>0}T.ensureContrastRatio=function(k,E,$){const D=y.relativeLuminance(k>>8),A=y.relativeLuminance(E>>8);if(P(D,A)<$){if(A<D){const V=C(k,E,$),K=P(D,y.relativeLuminance(V>>8));if(K<$){const Y=R(k,E,$);return K>P(D,y.relativeLuminance(Y>>8))?V:Y}return V}const N=R(k,E,$),q=P(D,y.relativeLuminance(N>>8));if(q<$){const V=C(k,E,$);return q>P(D,y.relativeLuminance(V>>8))?N:V}return N}},T.reduceLuminance=C,T.increaseLuminance=R,T.toChannels=function(k){return[k>>24&255,k>>16&255,k>>8&255,255&k]},T.toColor=function(k,E,$,D){return{css:S.toCss(k,E,$,D),rgba:S.toRgba(k,E,$,D)}}}(b||(o.rgba=b={})),o.toPaddedHex=_,o.contrastRatio=P},8969:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const u=l(844),d=l(2585),f=l(4348),p=l(7866),v=l(744),S=l(7302),x=l(6975),m=l(8460),y=l(1753),b=l(1480),_=l(7994),P=l(9282),T=l(5435),C=l(5981),R=l(2660);let k=!1;class E extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(D=>{var A;(A=this._onScrollApi)===null||A===void 0||A.fire(D.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(D){for(const A in D)this.optionsService.options[A]=D[A]}constructor(D){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new S.OptionsService(D)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(b.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(R.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new T.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(A=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(A=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((A,N)=>this._inputHandler.parse(A,N))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(D,A){this._writeBuffer.write(D,A)}writeSync(D,A){this._logService.logLevel<=d.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(D,A)}resize(D,A){isNaN(D)||isNaN(A)||(D=Math.max(D,v.MINIMUM_COLS),A=Math.max(A,v.MINIMUM_ROWS),this._bufferService.resize(D,A))}scroll(D,A=!1){this._bufferService.scroll(D,A)}scrollLines(D,A,N){this._bufferService.scrollLines(D,A,N)}scrollPages(D){this.scrollLines(D*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(D){const A=D-this._bufferService.buffer.ydisp;A!==0&&this.scrollLines(A)}registerEscHandler(D,A){return this._inputHandler.registerEscHandler(D,A)}registerDcsHandler(D,A){return this._inputHandler.registerDcsHandler(D,A)}registerCsiHandler(D,A){return this._inputHandler.registerCsiHandler(D,A)}registerOscHandler(D,A){return this._inputHandler.registerOscHandler(D,A)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let D=!1;const A=this.optionsService.rawOptions.windowsPty;A&&A.buildNumber!==void 0&&A.buildNumber!==void 0?D=A.backend==="conpty"&&A.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(D=!0),D?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const D=[];D.push(this.onLineFeed(P.updateWindowsModeWrappedState.bind(null,this._bufferService))),D.push(this.registerCsiHandler({final:"H"},()=>((0,P.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)(()=>{for(const A of D)A.dispose()})}}}o.CoreTerminal=E},8460:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===l)return void this._listeners.splice(u,1)}}})),this._event}fire(l,u){const d=[];for(let f=0;f<this._listeners.length;f++)d.push(this._listeners[f]);for(let f=0;f<d.length;f++)d[f].call(void 0,l,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,u){return l(d=>u.fire(d))}},5435:function(a,o,l){var u=this&&this.__decorate||function(Y,L,z,M){var I,U=arguments.length,W=U<3?L:M===null?M=Object.getOwnPropertyDescriptor(L,z):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(Y,L,z,M);else for(var se=Y.length-1;se>=0;se--)(I=Y[se])&&(W=(U<3?I(W):U>3?I(L,z,W):I(L,z))||W);return U>3&&W&&Object.defineProperty(L,z,W),W},d=this&&this.__param||function(Y,L){return function(z,M){L(z,M,Y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const f=l(2584),p=l(7116),v=l(2015),S=l(844),x=l(482),m=l(8437),y=l(8460),b=l(643),_=l(511),P=l(3734),T=l(2585),C=l(6242),R=l(6351),k=l(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},$=131072;function D(Y,L){if(Y>24)return L.setWinLines||!1;switch(Y){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var A;(function(Y){Y[Y.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Y[Y.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(A||(o.WindowsOptionsReportType=A={}));let N=0;class q extends S.Disposable{getAttrData(){return this._curAttrData}constructor(L,z,M,I,U,W,se,le,ae=new v.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=z,this._coreService=M,this._logService=I,this._optionsService=U,this._oscLinkService=W,this._coreMouseService=se,this._unicodeService=le,this._parser=ae,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new V(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._parser.setCsiHandlerFallback((B,ee)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:ee.toArray()})}),this._parser.setEscHandlerFallback(B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})}),this._parser.setExecuteHandlerFallback(B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})}),this._parser.setOscHandlerFallback((B,ee,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:ee,data:ie})}),this._parser.setDcsHandlerFallback((B,ee,ie)=>{ee==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:ee,payload:ie})}),this._parser.setPrintHandler((B,ee,ie)=>this.print(B,ee,ie)),this._parser.registerCsiHandler({final:"@"},B=>this.insertChars(B)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},B=>this.scrollLeft(B)),this._parser.registerCsiHandler({final:"A"},B=>this.cursorUp(B)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},B=>this.scrollRight(B)),this._parser.registerCsiHandler({final:"B"},B=>this.cursorDown(B)),this._parser.registerCsiHandler({final:"C"},B=>this.cursorForward(B)),this._parser.registerCsiHandler({final:"D"},B=>this.cursorBackward(B)),this._parser.registerCsiHandler({final:"E"},B=>this.cursorNextLine(B)),this._parser.registerCsiHandler({final:"F"},B=>this.cursorPrecedingLine(B)),this._parser.registerCsiHandler({final:"G"},B=>this.cursorCharAbsolute(B)),this._parser.registerCsiHandler({final:"H"},B=>this.cursorPosition(B)),this._parser.registerCsiHandler({final:"I"},B=>this.cursorForwardTab(B)),this._parser.registerCsiHandler({final:"J"},B=>this.eraseInDisplay(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},B=>this.eraseInDisplay(B,!0)),this._parser.registerCsiHandler({final:"K"},B=>this.eraseInLine(B,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},B=>this.eraseInLine(B,!0)),this._parser.registerCsiHandler({final:"L"},B=>this.insertLines(B)),this._parser.registerCsiHandler({final:"M"},B=>this.deleteLines(B)),this._parser.registerCsiHandler({final:"P"},B=>this.deleteChars(B)),this._parser.registerCsiHandler({final:"S"},B=>this.scrollUp(B)),this._parser.registerCsiHandler({final:"T"},B=>this.scrollDown(B)),this._parser.registerCsiHandler({final:"X"},B=>this.eraseChars(B)),this._parser.registerCsiHandler({final:"Z"},B=>this.cursorBackwardTab(B)),this._parser.registerCsiHandler({final:"`"},B=>this.charPosAbsolute(B)),this._parser.registerCsiHandler({final:"a"},B=>this.hPositionRelative(B)),this._parser.registerCsiHandler({final:"b"},B=>this.repeatPrecedingCharacter(B)),this._parser.registerCsiHandler({final:"c"},B=>this.sendDeviceAttributesPrimary(B)),this._parser.registerCsiHandler({prefix:">",final:"c"},B=>this.sendDeviceAttributesSecondary(B)),this._parser.registerCsiHandler({final:"d"},B=>this.linePosAbsolute(B)),this._parser.registerCsiHandler({final:"e"},B=>this.vPositionRelative(B)),this._parser.registerCsiHandler({final:"f"},B=>this.hVPosition(B)),this._parser.registerCsiHandler({final:"g"},B=>this.tabClear(B)),this._parser.registerCsiHandler({final:"h"},B=>this.setMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"h"},B=>this.setModePrivate(B)),this._parser.registerCsiHandler({final:"l"},B=>this.resetMode(B)),this._parser.registerCsiHandler({prefix:"?",final:"l"},B=>this.resetModePrivate(B)),this._parser.registerCsiHandler({final:"m"},B=>this.charAttributes(B)),this._parser.registerCsiHandler({final:"n"},B=>this.deviceStatus(B)),this._parser.registerCsiHandler({prefix:"?",final:"n"},B=>this.deviceStatusPrivate(B)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},B=>this.softReset(B)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},B=>this.setCursorStyle(B)),this._parser.registerCsiHandler({final:"r"},B=>this.setScrollRegion(B)),this._parser.registerCsiHandler({final:"s"},B=>this.saveCursor(B)),this._parser.registerCsiHandler({final:"t"},B=>this.windowOptions(B)),this._parser.registerCsiHandler({final:"u"},B=>this.restoreCursor(B)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},B=>this.insertColumns(B)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},B=>this.deleteColumns(B)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},B=>this.selectProtected(B)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},B=>this.requestMode(B,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},B=>this.requestMode(B,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(B=>(this.setTitle(B),this.setIconName(B),!0))),this._parser.registerOscHandler(1,new C.OscHandler(B=>this.setIconName(B))),this._parser.registerOscHandler(2,new C.OscHandler(B=>this.setTitle(B))),this._parser.registerOscHandler(4,new C.OscHandler(B=>this.setOrReportIndexedColor(B))),this._parser.registerOscHandler(8,new C.OscHandler(B=>this.setHyperlink(B))),this._parser.registerOscHandler(10,new C.OscHandler(B=>this.setOrReportFgColor(B))),this._parser.registerOscHandler(11,new C.OscHandler(B=>this.setOrReportBgColor(B))),this._parser.registerOscHandler(12,new C.OscHandler(B=>this.setOrReportCursorColor(B))),this._parser.registerOscHandler(104,new C.OscHandler(B=>this.restoreIndexedColor(B))),this._parser.registerOscHandler(110,new C.OscHandler(B=>this.restoreFgColor(B))),this._parser.registerOscHandler(111,new C.OscHandler(B=>this.restoreBgColor(B))),this._parser.registerOscHandler(112,new C.OscHandler(B=>this.restoreCursorColor(B))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const B in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},()=>this.selectCharset("("+B)),this._parser.registerEscHandler({intermediates:")",final:B},()=>this.selectCharset(")"+B)),this._parser.registerEscHandler({intermediates:"*",final:B},()=>this.selectCharset("*"+B)),this._parser.registerEscHandler({intermediates:"+",final:B},()=>this.selectCharset("+"+B)),this._parser.registerEscHandler({intermediates:"-",final:B},()=>this.selectCharset("-"+B)),this._parser.registerEscHandler({intermediates:".",final:B},()=>this.selectCharset("."+B)),this._parser.registerEscHandler({intermediates:"/",final:B},()=>this.selectCharset("/"+B));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(B=>(this._logService.error("Parsing error: ",B),B)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new R.DcsHandler((B,ee)=>this.requestStatusString(B,ee)))}_preserveStack(L,z,M,I){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=z,this._parseStack.decodedLength=M,this._parseStack.position=I}_logSlowResolvingAsync(L){this._logService.logLevel<=T.LogLevelEnum.WARN&&Promise.race([L,new Promise((z,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(z=>{if(z!=="#SLOW_TIMEOUT")throw z;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,z){let M,I=this._activeBuffer.x,U=this._activeBuffer.y,W=0;const se=this._parseStack.paused;if(se){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,z))return this._logSlowResolvingAsync(M),M;I=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>$&&(W=this._parseStack.position+$)}if(this._logService.logLevel<=T.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,le=>String.fromCharCode(le)).join("")}"`),typeof L=="string"?L.split("").map(le=>le.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<$&&(this._parseBuffer=new Uint32Array(Math.min(L.length,$))),se||this._dirtyRowTracker.clearRange(),L.length>$)for(let le=W;le<L.length;le+=$){const ae=le+$<L.length?le+$:L.length,B=typeof L=="string"?this._stringDecoder.decode(L.substring(le,ae),this._parseBuffer):this._utf8Decoder.decode(L.subarray(le,ae),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,B))return this._preserveStack(I,U,B,le),this._logSlowResolvingAsync(M),M}else if(!se){const le=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,le))return this._preserveStack(I,U,le,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===I&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,z,M){let I,U;const W=this._charsetService.charset,se=this._optionsService.rawOptions.screenReaderMode,le=this._bufferService.cols,ae=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,ee=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-z>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodePoint(this._activeBuffer.x-1,0,1,ee.fg,ee.bg,ee.extended);for(let G=z;G<M;++G){if(I=L[G],U=this._unicodeService.wcwidth(I),I<127&&W){const me=W[String.fromCharCode(I)];me&&(I=me.charCodeAt(0))}if(se&&this._onA11yChar.fire((0,x.stringFromCodePoint)(I)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=le){if(ae){for(;this._activeBuffer.x<le;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,1,ee.fg,ee.bg,ee.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=le-1,U===2)continue}if(B&&(ie.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(ee),ee),ie.getWidth(le-1)===2&&ie.setCellFromCodePoint(le-1,b.NULL_CELL_CODE,b.NULL_CELL_WIDTH,ee.fg,ee.bg,ee.extended)),ie.setCellFromCodePoint(this._activeBuffer.x++,I,U,ee.fg,ee.bg,ee.extended),U>0)for(;--U;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,0,ee.fg,ee.bg,ee.extended)}else ie.getWidth(this._activeBuffer.x-1)?ie.addCodepointToCell(this._activeBuffer.x-1,I):ie.addCodepointToCell(this._activeBuffer.x-2,I)}M-z>0&&(ie.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<le&&M-z>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodePoint(this._activeBuffer.x,0,1,ee.fg,ee.bg,ee.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,z){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,z):this._parser.registerCsiHandler(L,M=>!D(M.params[0],this._optionsService.rawOptions.windowOptions)||z(M))}registerDcsHandler(L,z){return this._parser.registerDcsHandler(L,new R.DcsHandler(z))}registerEscHandler(L,z){return this._parser.registerEscHandler(L,z)}registerOscHandler(L,z){return this._parser.registerOscHandler(L,new C.OscHandler(z))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);z.hasWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,z){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+z):(this._activeBuffer.x=L,this._activeBuffer.y=z),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,z){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+z)}cursorUp(L){const z=this._activeBuffer.y-this._activeBuffer.scrollTop;return z>=0?this._moveCursor(0,-Math.min(z,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const z=this._activeBuffer.scrollBottom-this._activeBuffer.y;return z>=0?this._moveCursor(0,Math.min(z,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const z=L.params[0];return z===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:z===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=L.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=L.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const z=L.params[0];return z===1&&(this._curAttrData.bg|=536870912),z!==2&&z!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,z,M,I=!1,U=!1){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);W.replaceCells(z,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),I&&(W.isWrapped=!1)}_resetBufferLine(L,z=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),z),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),M.isWrapped=!1)}eraseInDisplay(L,z=!1){let M;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,z);M<this._bufferService.rows;M++)this._resetBufferLine(M,z);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,z),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,z);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,z);this._dirtyRowTracker.markDirty(0);break;case 3:const I=this._activeBuffer.lines.length-this._bufferService.rows;I>0&&(this._activeBuffer.lines.trimStart(I),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-I,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-I,0),this._onScroll.fire(0))}return!0}eraseInLine(L,z=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,z);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,z);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,z)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let z=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-I+1;for(;z--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let z=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let I;for(I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-I;z--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let z=L.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let z=L.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=L.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);I.deleteCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=L.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);I.insertCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=L.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);I.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=L.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);I.deleteCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const z=L.params[0]||1,M=new Uint32Array(z);for(let I=0;I<z;++I)M[I]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let z=0;z<L.length;z++)switch(L.params[z]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let z=0;z<L.length;z++)switch(L.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let z=0;z<L.length;z++)switch(L.params[z]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let z=0;z<L.length;z++)switch(L.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[z]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,z){const M=this._coreService.decPrivateModes,{activeProtocol:I,activeEncoding:U}=this._coreMouseService,W=this._coreService,{buffers:se,cols:le}=this._bufferService,{active:ae,alt:B}=se,ee=this._optionsService.rawOptions,ie=Ie=>Ie?1:2,G=L.params[0];return me=G,be=z?G===2?4:G===4?ie(W.modes.insertMode):G===12?3:G===20?ie(ee.convertEol):0:G===1?ie(M.applicationCursorKeys):G===3?ee.windowOptions.setWinLines?le===80?2:le===132?1:0:0:G===6?ie(M.origin):G===7?ie(M.wraparound):G===8?3:G===9?ie(I==="X10"):G===12?ie(ee.cursorBlink):G===25?ie(!W.isCursorHidden):G===45?ie(M.reverseWraparound):G===66?ie(M.applicationKeypad):G===67?4:G===1e3?ie(I==="VT200"):G===1002?ie(I==="DRAG"):G===1003?ie(I==="ANY"):G===1004?ie(M.sendFocus):G===1005?4:G===1006?ie(U==="SGR"):G===1015?4:G===1016?ie(U==="SGR_PIXELS"):G===1048?1:G===47||G===1047||G===1049?ie(ae===B):G===2004?ie(M.bracketedPasteMode):0,W.triggerDataEvent(`${f.C0.ESC}[${z?"":"?"}${me};${be}$y`),!0;var me,be}_updateAttrColor(L,z,M,I,U){return z===2?(L|=50331648,L&=-16777216,L|=P.AttributeData.fromColorRGB([M,I,U])):z===5&&(L&=-50331904,L|=33554432|255&M),L}_extractColor(L,z,M){const I=[0,0,-1,0,0,0];let U=0,W=0;do{if(I[W+U]=L.params[z+W],L.hasSubParams(z+W)){const se=L.getSubParams(z+W);let le=0;do I[1]===5&&(U=1),I[W+le+1+U]=se[le];while(++le<se.length&&le+W+1+U<I.length);break}if(I[1]===5&&W+U>=2||I[1]===2&&W+U>=5)break;I[1]&&(U=1)}while(++W+z<L.length&&W+U<I.length);for(let se=2;se<I.length;++se)I[se]===-1&&(I[se]=0);switch(I[0]){case 38:M.fg=this._updateAttrColor(M.fg,I[1],I[3],I[4],I[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,I[1],I[3],I[4],I[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,I[1],I[3],I[4],I[5])}return W}_processUnderline(L,z){z.extended=z.extended.clone(),(!~L||L>5)&&(L=1),z.extended.underlineStyle=L,z.fg|=268435456,L===0&&(z.fg&=-268435457),z.updateExtended()}_processSGR0(L){L.fg=m.DEFAULT_ATTR_DATA.fg,L.bg=m.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const z=L.length;let M;const I=this._curAttrData;for(let U=0;U<z;U++)M=L.params[U],M>=30&&M<=37?(I.fg&=-50331904,I.fg|=16777216|M-30):M>=40&&M<=47?(I.bg&=-50331904,I.bg|=16777216|M-40):M>=90&&M<=97?(I.fg&=-50331904,I.fg|=16777224|M-90):M>=100&&M<=107?(I.bg&=-50331904,I.bg|=16777224|M-100):M===0?this._processSGR0(I):M===1?I.fg|=134217728:M===3?I.bg|=67108864:M===4?(I.fg|=268435456,this._processUnderline(L.hasSubParams(U)?L.getSubParams(U)[0]:1,I)):M===5?I.fg|=536870912:M===7?I.fg|=67108864:M===8?I.fg|=1073741824:M===9?I.fg|=2147483648:M===2?I.bg|=134217728:M===21?this._processUnderline(2,I):M===22?(I.fg&=-134217729,I.bg&=-134217729):M===23?I.bg&=-67108865:M===24?(I.fg&=-268435457,this._processUnderline(0,I)):M===25?I.fg&=-536870913:M===27?I.fg&=-67108865:M===28?I.fg&=-1073741825:M===29?I.fg&=2147483647:M===39?(I.fg&=-67108864,I.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):M===49?(I.bg&=-67108864,I.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?U+=this._extractColor(L,U,I):M===53?I.bg|=1073741824:M===55?I.bg&=-1073741825:M===59?(I.extended=I.extended.clone(),I.extended.underlineColor=-1,I.updateExtended()):M===100?(I.fg&=-67108864,I.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,I.bg&=-67108864,I.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const z=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${z};${M}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const z=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${z};${M}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const z=L.params[0]||1;switch(z){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=z%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(L){const z=L.params[0]||1;let M;return(L.length<2||(M=L.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>z&&(this._activeBuffer.scrollTop=z-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(L){if(!D(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const z=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:z!==2&&this._onRequestWindowsOptionsReport.fire(A.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(A.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:z!==0&&z!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),z!==0&&z!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:z!==0&&z!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),z!==0&&z!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const z=[],M=L.split(";");for(;M.length>1;){const I=M.shift(),U=M.shift();if(/^\d+$/.exec(I)){const W=parseInt(I);if(K(W))if(U==="?")z.push({type:0,index:W});else{const se=(0,k.parseColor)(U);se&&z.push({type:1,index:W,color:se})}}}return z.length&&this._onColor.fire(z),!0}setHyperlink(L){const z=L.split(";");return!(z.length<2)&&(z[1]?this._createHyperlink(z[0],z[1]):!z[0]&&this._finishHyperlink())}_createHyperlink(L,z){this._getCurrentLinkId()&&this._finishHyperlink();const M=L.split(":");let I;const U=M.findIndex(W=>W.startsWith("id="));return U!==-1&&(I=M[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:I,uri:z}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,z){const M=L.split(";");for(let I=0;I<M.length&&!(z>=this._specialColors.length);++I,++z)if(M[I]==="?")this._onColor.fire([{type:0,index:this._specialColors[z]}]);else{const U=(0,k.parseColor)(M[I]);U&&this._onColor.fire([{type:1,index:this._specialColors[z],color:U}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const z=[],M=L.split(";");for(let I=0;I<M.length;++I)if(/^\d+$/.exec(M[I])){const U=parseInt(M[I]);K(U)&&z.push({type:2,index:U})}return z.length&&this._onColor.fire(z),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(E[L[0]],p.CHARSETS[L[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new _.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let z=0;z<this._bufferService.rows;++z){const M=this._activeBuffer.ybase+this._activeBuffer.y+z,I=this._activeBuffer.lines.get(M);I&&(I.fill(L),I.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,z){const M=this._bufferService.buffer,I=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${U}${f.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[I.cursorStyle]-(I.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,z){this._dirtyRowTracker.markRangeDirty(L,z)}}o.InputHandler=q;let V=class{constructor(Y){this._bufferService=Y,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Y){Y<this.start?this.start=Y:Y>this.end&&(this.end=Y)}markRangeDirty(Y,L){Y>L&&(N=Y,Y=L,L=N),Y<this.start&&(this.start=Y),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K(Y){return 0<=Y&&Y<256}V=u([d(0,T.IBufferService)],V)},844:(a,o)=>{function l(u){for(const d of u)d.dispose();u.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const d=this._disposables.indexOf(u);d!==-1&&this._disposables.splice(d,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var d;this._isDisposed||u===this._value||((d=this._value)===null||d===void 0||d.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},o.toDisposable=function(u){return{dispose:u}},o.disposeArray=l,o.getDisposeArrayDisposable=function(u){return{dispose:()=>l(u)}}},1505:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,f,p){this._data[d]||(this._data[d]={}),this._data[d][f]=p}get(d,f){return this._data[d]?this._data[d][f]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(u,d,f,p,v){this._data.get(u,d)||this._data.set(u,d,new l),this._data.get(u,d).set(f,p,v)}get(u,d,f,p){var v;return(v=this._data.get(u,d))===null||v===void 0?void 0:v.get(f,p)}clear(){this._data.clear()}}},6114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const l=o.isNode?"node":navigator.userAgent,u=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),o.isIpad=u==="iPad",o.isIphone=u==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),o.isLinux=u.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(l=this._search(this._getKey(u)),this._array.splice(l,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const d=this._getKey(u);if(d===void 0||(l=this._search(d),l===-1)||this._getKey(this._array[l])!==d)return!1;do if(this._array[l]===u)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===d);return!1}*getKeyIterator(u){if(this._array.length!==0&&(l=this._search(u),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===u))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===u)}forEachByKey(u,d){if(this._array.length!==0&&(l=this._search(u),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===u))do d(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===u)}values(){return[...this._array].values()}_search(u){let d=0,f=this._array.length-1;for(;f>=d;){let p=d+f>>1;const v=this._getKey(this._array[p]);if(v>u)f=p-1;else{if(!(v<u)){for(;p>0&&this._getKey(this._array[p-1])===u;)p--;return p}d=p+1}}return d}}},7226:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const u=l(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let S=0,x=0,m=v.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),x=Math.max(S,x),y=v.timeRemaining(),1.5*x>y)return m-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-S))}ms`),void this._start();m=y}this.clear()}}class f extends d{_requestCallback(v){return setTimeout(()=>v(this._createDeadline(16)))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const S=Date.now()+v;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}o.PriorityTaskQueue=f,o.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:f,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const u=l(643);o.updateWindowsModeWrappedState=function(d){const f=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),p=f?.get(d.cols-1),v=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);v&&p&&(v.isWrapped=p[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&p[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new l;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=l;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,p=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=p}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=u},9092:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const u=l(6349),d=l(7226),f=l(3734),p=l(8437),v=l(4634),S=l(511),x=l(643),m=l(4863),y=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(b,_,P){this._hasScrollback=b,this._optionsService=_,this._bufferService=P,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=p.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(b){return b?(this._nullCell.fg=b.fg,this._nullCell.bg=b.bg,this._nullCell.extended=b.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(b){return b?(this._whitespaceCell.fg=b.fg,this._whitespaceCell.bg=b.bg,this._whitespaceCell.extended=b.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(b,_){return new p.BufferLine(this._bufferService.cols,this.getNullCell(b),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const b=this.ybase+this.y-this.ydisp;return b>=0&&b<this._rows}_getCorrectBufferLength(b){if(!this._hasScrollback)return b;const _=b+this._optionsService.rawOptions.scrollback;return _>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:_}fillViewportRows(b){if(this.lines.length===0){b===void 0&&(b=p.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(b))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(b,_){const P=this.getNullCell(p.DEFAULT_ATTR_DATA);let T=0;const C=this._getCorrectBufferLength(_);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<b)for(let k=0;k<this.lines.length;k++)T+=+this.lines.get(k).resize(b,P);let R=0;if(this._rows<_)for(let k=this._rows;k<_;k++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new p.BufferLine(b,P)):this.ybase>0&&this.lines.length<=this.ybase+this.y+R+1?(this.ybase--,R++,this.ydisp>0&&this.ydisp--):this.lines.push(new p.BufferLine(b,P)));else for(let k=this._rows;k>_;k--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const k=this.lines.length-C;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=C}this.x=Math.min(this.x,b-1),this.y=Math.min(this.y,_-1),R&&(this.y+=R),this.savedX=Math.min(this.savedX,b-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(b,_),this._cols>b))for(let R=0;R<this.lines.length;R++)T+=+this.lines.get(R).resize(b,P);this._cols=b,this._rows=_,this._memoryCleanupQueue.clear(),T>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let b=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,b=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return b}get _isReflowEnabled(){const b=this._optionsService.rawOptions.windowsPty;return b&&b.buildNumber?this._hasScrollback&&b.backend==="conpty"&&b.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(b,_){this._cols!==b&&(b>this._cols?this._reflowLarger(b,_):this._reflowSmaller(b,_))}_reflowLarger(b,_){const P=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,b,this.ybase+this.y,this.getNullCell(p.DEFAULT_ATTR_DATA));if(P.length>0){const T=(0,v.reflowLargerCreateNewLayout)(this.lines,P);(0,v.reflowLargerApplyNewLayout)(this.lines,T.layout),this._reflowLargerAdjustViewport(b,_,T.countRemoved)}}_reflowLargerAdjustViewport(b,_,P){const T=this.getNullCell(p.DEFAULT_ATTR_DATA);let C=P;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new p.BufferLine(b,T))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-P,0)}_reflowSmaller(b,_){const P=this.getNullCell(p.DEFAULT_ATTR_DATA),T=[];let C=0;for(let R=this.lines.length-1;R>=0;R--){let k=this.lines.get(R);if(!k||!k.isWrapped&&k.getTrimmedLength()<=b)continue;const E=[k];for(;k.isWrapped&&R>0;)k=this.lines.get(--R),E.unshift(k);const $=this.ybase+this.y;if($>=R&&$<R+E.length)continue;const D=E[E.length-1].getTrimmedLength(),A=(0,v.reflowSmallerGetNewLineLengths)(E,this._cols,b),N=A.length-E.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+N):Math.max(0,this.lines.length-this.lines.maxLength+N);const V=[];for(let I=0;I<N;I++){const U=this.getBlankLine(p.DEFAULT_ATTR_DATA,!0);V.push(U)}V.length>0&&(T.push({start:R+E.length+C,newLines:V}),C+=V.length),E.push(...V);let K=A.length-1,Y=A[K];Y===0&&(K--,Y=A[K]);let L=E.length-N-1,z=D;for(;L>=0;){const I=Math.min(z,Y);if(E[K]===void 0)break;if(E[K].copyCellsFrom(E[L],z-I,Y-I,I,!0),Y-=I,Y===0&&(K--,Y=A[K]),z-=I,z===0){L--;const U=Math.max(L,0);z=(0,v.getWrappedLineTrimmedLength)(E,U,this._cols)}}for(let I=0;I<E.length;I++)A[I]<b&&E[I].setCell(A[I],P);let M=N-q;for(;M-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+N,this.ybase+_-1)}if(T.length>0){const R=[],k=[];for(let K=0;K<this.lines.length;K++)k.push(this.lines.get(K));const E=this.lines.length;let $=E-1,D=0,A=T[D];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let N=0;for(let K=Math.min(this.lines.maxLength-1,E+C-1);K>=0;K--)if(A&&A.start>$+N){for(let Y=A.newLines.length-1;Y>=0;Y--)this.lines.set(K--,A.newLines[Y]);K++,R.push({index:$+1,amount:A.newLines.length}),N+=A.newLines.length,A=T[++D]}else this.lines.set(K,k[$--]);let q=0;for(let K=R.length-1;K>=0;K--)R[K].index+=q,this.lines.onInsertEmitter.fire(R[K]),q+=R[K].amount;const V=Math.max(0,E+C-this.lines.maxLength);V>0&&this.lines.onTrimEmitter.fire(V)}}translateBufferLineToString(b,_,P=0,T){const C=this.lines.get(b);return C?C.translateToString(_,P,T):""}getWrappedRangeForLine(b){let _=b,P=b;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;P+1<this.lines.length&&this.lines.get(P+1).isWrapped;)P++;return{first:_,last:P}}setupTabStops(b){for(b!=null?this.tabs[b]||(b=this.prevStop(b)):(this.tabs={},b=0);b<this._cols;b+=this._optionsService.rawOptions.tabStopWidth)this.tabs[b]=!0}prevStop(b){for(b==null&&(b=this.x);!this.tabs[--b]&&b>0;);return b>=this._cols?this._cols-1:b<0?0:b}nextStop(b){for(b==null&&(b=this.x);!this.tabs[++b]&&b<this._cols;);return b>=this._cols?this._cols-1:b<0?0:b}clearMarkers(b){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===b&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let b=0;b<this.markers.length;b++)this.markers[b].dispose(),this.markers.splice(b--,1);this._isClearing=!1}addMarker(b){const _=new m.Marker(b);return this.markers.push(_),_.register(this.lines.onTrim(P=>{_.line-=P,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(P=>{_.line>=P.index&&(_.line+=P.amount)})),_.register(this.lines.onDelete(P=>{_.line>=P.index&&_.line<P.index+P.amount&&_.dispose(),_.line>P.index&&(_.line-=P.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(b){this._isClearing||this.markers.splice(this.markers.indexOf(b),1)}}},8437:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const u=l(3734),d=l(511),f=l(643),p=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let v=0;class S{constructor(m,y,b=!1){this.isWrapped=b,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=y||d.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let P=0;P<m;++P)this.setCell(P,_);this.length=m}get(m){const y=this._data[3*m+0],b=2097151&y;return[this._data[3*m+1],2097152&y?this._combined[m]:b?(0,p.stringFromCodePoint)(b):"",y>>22,2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):b]}set(m,y){this._data[3*m+1]=y[f.CHAR_DATA_ATTR_INDEX],y[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=y[1],this._data[3*m+0]=2097152|m|y[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=y[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&y}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const y=this._data[3*m+0];return 2097152&y?this._combined[m]:2097151&y?(0,p.stringFromCodePoint)(2097151&y):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,y){return v=3*m,y.content=this._data[v+0],y.fg=this._data[v+1],y.bg=this._data[v+2],2097152&y.content&&(y.combinedData=this._combined[m]),268435456&y.bg&&(y.extended=this._extendedAttrs[m]),y}setCell(m,y){2097152&y.content&&(this._combined[m]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[m]=y.extended),this._data[3*m+0]=y.content,this._data[3*m+1]=y.fg,this._data[3*m+2]=y.bg}setCellFromCodePoint(m,y,b,_,P,T){268435456&P&&(this._extendedAttrs[m]=T),this._data[3*m+0]=y|b<<22,this._data[3*m+1]=_,this._data[3*m+2]=P}addCodepointToCell(m,y){let b=this._data[3*m+0];2097152&b?this._combined[m]+=(0,p.stringFromCodePoint)(y):(2097151&b?(this._combined[m]=(0,p.stringFromCodePoint)(2097151&b)+(0,p.stringFromCodePoint)(y),b&=-2097152,b|=2097152):b=y|4194304,this._data[3*m+0]=b)}insertCells(m,y,b,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs),y<this.length-m){const P=new d.CellData;for(let T=this.length-m-y-1;T>=0;--T)this.setCell(m+y+T,this.loadCell(m+T,P));for(let T=0;T<y;++T)this.setCell(m+T,b)}else for(let P=m;P<this.length;++P)this.setCell(P,b);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs)}deleteCells(m,y,b,_){if(m%=this.length,y<this.length-m){const P=new d.CellData;for(let T=0;T<this.length-m-y;++T)this.setCell(m+T,this.loadCell(m+y+T,P));for(let T=this.length-y;T<this.length;++T)this.setCell(T,b)}else for(let P=m;P<this.length;++P)this.setCell(P,b);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs)}replaceCells(m,y,b,_,P=!1){if(P)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs);m<y&&m<this.length;)this.isProtected(m)||this.setCell(m,b),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs),y<this.length&&this.getWidth(y-1)===2&&this.setCellFromCodePoint(y,0,1,_?.fg||0,_?.bg||0,_?.extended||new u.ExtendedAttrs);m<y&&m<this.length;)this.setCell(m++,b)}resize(m,y){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const b=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*b)this._data=new Uint32Array(this._data.buffer,0,b);else{const _=new Uint32Array(b);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,y)}else{this._data=this._data.subarray(0,b);const _=Object.keys(this._combined);for(let T=0;T<_.length;T++){const C=parseInt(_[T],10);C>=m&&delete this._combined[C]}const P=Object.keys(this._extendedAttrs);for(let T=0;T<P.length;T++){const C=parseInt(P[T],10);C>=m&&delete this._extendedAttrs[C]}}return this.length=m,4*b*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,y=!1){if(y)for(let b=0;b<this.length;++b)this.isProtected(b)||this.setCell(b,m);else{this._combined={},this._extendedAttrs={};for(let b=0;b<this.length;++b)this.setCell(b,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const y in m._combined)this._combined[y]=m._combined[y];this._extendedAttrs={};for(const y in m._extendedAttrs)this._extendedAttrs[y]=m._extendedAttrs[y];this.isWrapped=m.isWrapped}clone(){const m=new S(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const y in this._combined)m._combined[y]=this._combined[y];for(const y in this._extendedAttrs)m._extendedAttrs[y]=this._extendedAttrs[y];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,y,b,_,P){const T=m._data;if(P)for(let R=_-1;R>=0;R--){for(let k=0;k<3;k++)this._data[3*(b+R)+k]=T[3*(y+R)+k];268435456&T[3*(y+R)+2]&&(this._extendedAttrs[b+R]=m._extendedAttrs[y+R])}else for(let R=0;R<_;R++){for(let k=0;k<3;k++)this._data[3*(b+R)+k]=T[3*(y+R)+k];268435456&T[3*(y+R)+2]&&(this._extendedAttrs[b+R]=m._extendedAttrs[y+R])}const C=Object.keys(m._combined);for(let R=0;R<C.length;R++){const k=parseInt(C[R],10);k>=y&&(this._combined[k-y+b]=m._combined[k])}}translateToString(m=!1,y=0,b=this.length){m&&(b=Math.min(b,this.getTrimmedLength()));let _="";for(;y<b;){const P=this._data[3*y+0],T=2097151&P;_+=2097152&P?this._combined[y]:T?(0,p.stringFromCodePoint)(T):f.WHITESPACE_CELL_CHAR,y+=P>>22||1}return _}}o.BufferLine=S},4841:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,u){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return u*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,o)=>{function l(u,d,f){if(d===u.length-1)return u[d].getTrimmedLength();const p=!u[d].hasContent(f-1)&&u[d].getWidth(f-1)===1,v=u[d+1].getWidth(0)===2;return p&&v?f-1:f}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(u,d,f,p,v){const S=[];for(let x=0;x<u.length-1;x++){let m=x,y=u.get(++m);if(!y.isWrapped)continue;const b=[u.get(x)];for(;m<u.length&&y.isWrapped;)b.push(y),y=u.get(++m);if(p>=x&&p<m){x+=b.length-1;continue}let _=0,P=l(b,_,d),T=1,C=0;for(;T<b.length;){const k=l(b,T,d),E=k-C,$=f-P,D=Math.min(E,$);b[_].copyCellsFrom(b[T],C,P,D,!1),P+=D,P===f&&(_++,P=0),C+=D,C===k&&(T++,C=0),P===0&&_!==0&&b[_-1].getWidth(f-1)===2&&(b[_].copyCellsFrom(b[_-1],f-1,P++,1,!1),b[_-1].setCell(f-1,v))}b[_].replaceCells(P,f,v);let R=0;for(let k=b.length-1;k>0&&(k>_||b[k].getTrimmedLength()===0);k--)R++;R>0&&(S.push(x+b.length-R),S.push(R)),x+=b.length-1}return S},o.reflowLargerCreateNewLayout=function(u,d){const f=[];let p=0,v=d[p],S=0;for(let x=0;x<u.length;x++)if(v===x){const m=d[++p];u.onDeleteEmitter.fire({index:x-S,amount:m}),x+=m-1,S+=m,v=d[++p]}else f.push(x);return{layout:f,countRemoved:S}},o.reflowLargerApplyNewLayout=function(u,d){const f=[];for(let p=0;p<d.length;p++)f.push(u.get(d[p]));for(let p=0;p<f.length;p++)u.set(p,f[p]);u.length=d.length},o.reflowSmallerGetNewLineLengths=function(u,d,f){const p=[],v=u.map((y,b)=>l(u,b,d)).reduce((y,b)=>y+b);let S=0,x=0,m=0;for(;m<v;){if(v-m<f){p.push(v-m);break}S+=f;const y=l(u,x,d);S>y&&(S-=y,x++);const b=u[x].getWidth(S-1)===2;b&&S--;const _=b?f-1:f;p.push(_),m+=_}return p},o.getWrappedLineTrimmedLength=l},5295:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const u=l(8460),d=l(844),f=l(9092);class p extends d.Disposable{constructor(S,x){super(),this._optionsService=S,this._bufferService=x,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,x){this._normal.resize(S,x),this._alt.resize(S,x),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}o.BufferSet=p},511:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const u=l(482),d=l(643),f=l(3734);class p extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const x=new p;return x.setFromCharData(S),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(S[d.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(S[d.CHAR_DATA_CHAR_INDEX].length===2){const m=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const y=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(m-55296)+y-56320+65536|S[d.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[d.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=S[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=p},643:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const u=l(8460),d=l(844);class f{get id(){return this._id}constructor(v){this.line=v,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(v){return this._disposables.push(v),v}}o.Marker=f,f._nextId=1},7116:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(a,o)=>{var l,u,d;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(l||(o.C0=l={})),function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""}(u||(o.C1=u={})),function(f){f.ST=`${l.ESC}\\`}(d||(o.C1_ESCAPED=d={}))},7399:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const u=l(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(f,p,v,S){const x={type:0,cancel:!1,key:void 0},m=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?x.key=p?u.C0.ESC+"OA":u.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?x.key=p?u.C0.ESC+"OD":u.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?x.key=p?u.C0.ESC+"OC":u.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(x.key=p?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(f.altKey){x.key=u.C0.ESC+u.C0.DEL;break}x.key=u.C0.DEL;break;case 9:if(f.shiftKey){x.key=u.C0.ESC+"[Z";break}x.key=u.C0.HT,x.cancel=!0;break;case 13:x.key=f.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,x.cancel=!0;break;case 27:x.key=u.C0.ESC,f.altKey&&(x.key=u.C0.ESC+u.C0.ESC),x.cancel=!0;break;case 37:if(f.metaKey)break;m?(x.key=u.C0.ESC+"[1;"+(m+1)+"D",x.key===u.C0.ESC+"[1;3D"&&(x.key=u.C0.ESC+(v?"b":"[1;5D"))):x.key=p?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(f.metaKey)break;m?(x.key=u.C0.ESC+"[1;"+(m+1)+"C",x.key===u.C0.ESC+"[1;3C"&&(x.key=u.C0.ESC+(v?"f":"[1;5C"))):x.key=p?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(f.metaKey)break;m?(x.key=u.C0.ESC+"[1;"+(m+1)+"A",v||x.key!==u.C0.ESC+"[1;3A"||(x.key=u.C0.ESC+"[1;5A")):x.key=p?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(f.metaKey)break;m?(x.key=u.C0.ESC+"[1;"+(m+1)+"B",v||x.key!==u.C0.ESC+"[1;3B"||(x.key=u.C0.ESC+"[1;5B")):x.key=p?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(x.key=u.C0.ESC+"[2~");break;case 46:x.key=m?u.C0.ESC+"[3;"+(m+1)+"~":u.C0.ESC+"[3~";break;case 36:x.key=m?u.C0.ESC+"[1;"+(m+1)+"H":p?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:x.key=m?u.C0.ESC+"[1;"+(m+1)+"F":p?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:f.shiftKey?x.type=2:f.ctrlKey?x.key=u.C0.ESC+"[5;"+(m+1)+"~":x.key=u.C0.ESC+"[5~";break;case 34:f.shiftKey?x.type=3:f.ctrlKey?x.key=u.C0.ESC+"[6;"+(m+1)+"~":x.key=u.C0.ESC+"[6~";break;case 112:x.key=m?u.C0.ESC+"[1;"+(m+1)+"P":u.C0.ESC+"OP";break;case 113:x.key=m?u.C0.ESC+"[1;"+(m+1)+"Q":u.C0.ESC+"OQ";break;case 114:x.key=m?u.C0.ESC+"[1;"+(m+1)+"R":u.C0.ESC+"OR";break;case 115:x.key=m?u.C0.ESC+"[1;"+(m+1)+"S":u.C0.ESC+"OS";break;case 116:x.key=m?u.C0.ESC+"[15;"+(m+1)+"~":u.C0.ESC+"[15~";break;case 117:x.key=m?u.C0.ESC+"[17;"+(m+1)+"~":u.C0.ESC+"[17~";break;case 118:x.key=m?u.C0.ESC+"[18;"+(m+1)+"~":u.C0.ESC+"[18~";break;case 119:x.key=m?u.C0.ESC+"[19;"+(m+1)+"~":u.C0.ESC+"[19~";break;case 120:x.key=m?u.C0.ESC+"[20;"+(m+1)+"~":u.C0.ESC+"[20~";break;case 121:x.key=m?u.C0.ESC+"[21;"+(m+1)+"~":u.C0.ESC+"[21~";break;case 122:x.key=m?u.C0.ESC+"[23;"+(m+1)+"~":u.C0.ESC+"[23~";break;case 123:x.key=m?u.C0.ESC+"[24;"+(m+1)+"~":u.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(v&&!S||!f.altKey||f.metaKey)!v||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?x.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(x.key=u.C0.US),f.key==="@"&&(x.key=u.C0.NUL)):f.keyCode===65&&(x.type=1);else{const y=d[f.keyCode],b=y?.[f.shiftKey?1:0];if(b)x.key=u.C0.ESC+b;else if(f.keyCode>=65&&f.keyCode<=90){const _=f.ctrlKey?f.keyCode-64:f.keyCode+32;let P=String.fromCharCode(_);f.shiftKey&&(P=P.toUpperCase()),x.key=u.C0.ESC+P}else if(f.keyCode===32)x.key=u.C0.ESC+(f.ctrlKey?u.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let _=f.code.slice(3,4);f.shiftKey||(_=_.toLowerCase()),x.key=u.C0.ESC+_,x.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?x.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?x.key=u.C0.NUL:f.keyCode>=51&&f.keyCode<=55?x.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?x.key=u.C0.DEL:f.keyCode===219?x.key=u.C0.ESC:f.keyCode===220?x.key=u.C0.FS:f.keyCode===221&&(x.key=u.C0.GS)}return x}},482:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,u=0,d=l.length){let f="";for(let p=u;p<d;++p){let v=l[p];v>65535?(v-=65536,f+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):f+=String.fromCharCode(v)}return f},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,u){const d=l.length;if(!d)return 0;let f=0,p=0;if(this._interim){const v=l.charCodeAt(p++);56320<=v&&v<=57343?u[f++]=1024*(this._interim-55296)+v-56320+65536:(u[f++]=this._interim,u[f++]=v),this._interim=0}for(let v=p;v<d;++v){const S=l.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=d)return this._interim=S,f;const x=l.charCodeAt(v);56320<=x&&x<=57343?u[f++]=1024*(S-55296)+x-56320+65536:(u[f++]=S,u[f++]=x)}else S!==65279&&(u[f++]=S)}return f}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,u){const d=l.length;if(!d)return 0;let f,p,v,S,x=0,m=0,y=0;if(this.interim[0]){let P=!1,T=this.interim[0];T&=(224&T)==192?31:(240&T)==224?15:7;let C,R=0;for(;(C=63&this.interim[++R])&&R<4;)T<<=6,T|=C;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=k-R;for(;y<E;){if(y>=d)return 0;if(C=l[y++],(192&C)!=128){y--,P=!0;break}this.interim[R++]=C,T<<=6,T|=63&C}P||(k===2?T<128?y--:u[x++]=T:k===3?T<2048||T>=55296&&T<=57343||T===65279||(u[x++]=T):T<65536||T>1114111||(u[x++]=T)),this.interim.fill(0)}const b=d-4;let _=y;for(;_<d;){for(;!(!(_<b)||128&(f=l[_])||128&(p=l[_+1])||128&(v=l[_+2])||128&(S=l[_+3]));)u[x++]=f,u[x++]=p,u[x++]=v,u[x++]=S,_+=4;if(f=l[_++],f<128)u[x++]=f;else if((224&f)==192){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(m=(31&f)<<6|63&p,m<128){_--;continue}u[x++]=m}else if((240&f)==224){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,x;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(15&f)<<12|(63&p)<<6|63&v,m<2048||m>=55296&&m<=57343||m===65279)continue;u[x++]=m}else if((248&f)==240){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,x;if(v=l[_++],(192&v)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,this.interim[2]=v,x;if(S=l[_++],(192&S)!=128){_--;continue}if(m=(7&f)<<18|(63&p)<<12|(63&v)<<6|63&S,m<65536||m>1114111)continue;u[x++]=m}}return x}}},225:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let d;o.UnicodeV6=class{constructor(){if(this.version="6",!d){d=new Uint8Array(65536),d.fill(1),d[0]=0,d.fill(0,1,32),d.fill(0,127,160),d.fill(2,4352,4448),d[9001]=2,d[9002]=2,d.fill(2,11904,42192),d[12351]=1,d.fill(2,44032,55204),d.fill(2,63744,64256),d.fill(2,65040,65050),d.fill(2,65072,65136),d.fill(2,65280,65377),d.fill(2,65504,65511);for(let f=0;f<l.length;++f)d.fill(0,l[f][0],l[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?d[f]:function(p,v){let S,x=0,m=v.length-1;if(p<v[0][0]||p>v[m][1])return!1;for(;m>=x;)if(S=x+m>>1,p>v[S][1])x=S+1;else{if(!(p<v[S][0]))return!0;m=S-1}return!1}(f,u)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const u=l(8460),d=l(844);class f extends d.Disposable{constructor(v){super(),this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(v,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(v,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(S)}_innerWrite(v=0,S=!0){const x=v||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],y=this._action(m,S);if(y){const _=P=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,P)):this._innerWrite(x,P);return void y.catch(P=>(queueMicrotask(()=>{throw P}),Promise.resolve(!1))).then(_)}const b=this._callbacks[this._bufferOffset];if(b&&b(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=f},5941:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function d(f,p){const v=f.toString(16),S=v.length<2?"0"+v:v;switch(p){case 4:return v[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}o.parseColor=function(f){if(!f)return;let p=f.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const v=l.exec(p);if(v){const S=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/S*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/S*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/S*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),u.exec(p)&&[3,6,9,12].includes(p.length))){const v=p.length/3,S=[0,0,0];for(let x=0;x<3;++x){const m=parseInt(p.slice(v*x,v*x+v),16);S[x]=v===1?m<<4:v===2?m:v===3?m>>4:m>>8}return S}},o.toRgbString=function(f,p=16){const[v,S,x]=f;return`rgb:${d(v,p)}/${d(S,p)}/${d(x,p)}`}},5770:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const u=l(482),d=l(8742),f=l(5770),p=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(S,x){this._handlers[S]===void 0&&(this._handlers[S]=[]);const m=this._handlers[S];return m.push(x),{dispose:()=>{const y=m.indexOf(x);y!==-1&&m.splice(y,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(S,x){if(this.reset(),this._ident=S,this._active=this._handlers[S]||p,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(S,x,m){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(S,x,m);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(S,x,m))}unhook(S,x=!0){if(this._active.length){let m=!1,y=this._active.length-1,b=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,m=x,b=this._stack.fallThrough,this._stack.paused=!1),!b&&m===!1){for(;y>=0&&(m=this._active[y].unhook(S),m!==!0);y--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,m;y--}for(;y>=0;y--)if(m=this._active[y].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",S);this._active=p,this._ident=0}};const v=new d.Params;v.addParam(0),o.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=v,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():v,this._data="",this._hitLimit=!1}put(S,x,m){this._hitLimit||(this._data+=(0,u.utf32ToString)(S,x,m),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(m=>(this._params=v,this._data="",this._hitLimit=!1,m));return this._params=v,this._data="",this._hitLimit=!1,x}}},2015:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const u=l(844),d=l(8742),f=l(6242),p=l(6351);class v{constructor(y){this.table=new Uint8Array(y)}setDefault(y,b){this.table.fill(y<<4|b)}add(y,b,_,P){this.table[b<<8|y]=_<<4|P}addMany(y,b,_,P){for(let T=0;T<y.length;T++)this.table[b<<8|y[T]]=_<<4|P}}o.TransitionTable=v;const S=160;o.VT500_TRANSITION_TABLE=function(){const m=new v(4095),y=Array.apply(null,Array(256)).map((R,k)=>k),b=(R,k)=>y.slice(R,k),_=b(32,127),P=b(0,24);P.push(25),P.push.apply(P,b(28,32));const T=b(0,14);let C;for(C in m.setDefault(1,0),m.addMany(_,0,2,0),T)m.addMany([24,26,153,154],C,3,0),m.addMany(b(128,144),C,3,0),m.addMany(b(144,152),C,3,0),m.add(156,C,0,0),m.add(27,C,11,1),m.add(157,C,4,8),m.addMany([152,158,159],C,0,7),m.add(155,C,11,3),m.add(144,C,11,9);return m.addMany(P,0,3,0),m.addMany(P,1,3,1),m.add(127,1,0,1),m.addMany(P,8,0,8),m.addMany(P,3,3,3),m.add(127,3,0,3),m.addMany(P,4,3,4),m.add(127,4,0,4),m.addMany(P,6,3,6),m.addMany(P,5,3,5),m.add(127,5,0,5),m.addMany(P,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(b(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(P,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(b(64,127),3,7,0),m.addMany(b(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(b(48,60),4,8,4),m.addMany(b(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(b(32,64),6,0,6),m.add(127,6,0,6),m.addMany(b(64,127),6,0,0),m.addMany(b(32,48),3,9,5),m.addMany(b(32,48),5,9,5),m.addMany(b(48,64),5,0,6),m.addMany(b(64,127),5,7,0),m.addMany(b(32,48),4,9,5),m.addMany(b(32,48),1,9,2),m.addMany(b(32,48),2,9,2),m.addMany(b(48,127),2,10,0),m.addMany(b(48,80),1,10,0),m.addMany(b(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(b(96,127),1,10,0),m.add(80,1,11,9),m.addMany(P,9,0,9),m.add(127,9,0,9),m.addMany(b(28,32),9,0,9),m.addMany(b(32,48),9,9,12),m.addMany(b(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(P,11,0,11),m.addMany(b(32,128),11,0,11),m.addMany(b(28,32),11,0,11),m.addMany(P,10,0,10),m.add(127,10,0,10),m.addMany(b(28,32),10,0,10),m.addMany(b(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(b(32,48),10,9,12),m.addMany(P,12,0,12),m.add(127,12,0,12),m.addMany(b(28,32),12,0,12),m.addMany(b(32,48),12,9,12),m.addMany(b(48,64),12,0,11),m.addMany(b(64,127),12,12,13),m.addMany(b(64,127),10,12,13),m.addMany(b(64,127),9,12,13),m.addMany(P,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(S,0,2,0),m.add(S,8,5,8),m.add(S,6,0,6),m.add(S,11,0,11),m.add(S,13,13,13),m}();class x extends u.Disposable{constructor(y=o.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(b,_,P)=>{},this._executeHandlerFb=b=>{},this._csiHandlerFb=(b,_)=>{},this._escHandlerFb=b=>{},this._errorHandlerFb=b=>b,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,b=[64,126]){let _=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=y.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let T=0;T<y.intermediates.length;++T){const C=y.intermediates.charCodeAt(T);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=C}}if(y.final.length!==1)throw new Error("final must be a single byte");const P=y.final.charCodeAt(0);if(b[0]>P||P>b[1])throw new Error(`final must be in range ${b[0]} .. ${b[1]}`);return _<<=8,_|=P,_}identToString(y){const b=[];for(;y;)b.push(String.fromCharCode(255&y)),y>>=8;return b.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,b){const _=this._identifier(y,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const P=this._escHandlers[_];return P.push(b),{dispose:()=>{const T=P.indexOf(b);T!==-1&&P.splice(T,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,b){this._executeHandlers[y.charCodeAt(0)]=b}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,b){const _=this._identifier(y);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const P=this._csiHandlers[_];return P.push(b),{dispose:()=>{const T=P.indexOf(b);T!==-1&&P.splice(T,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,b){return this._dcsParser.registerHandler(this._identifier(y),b)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,b){return this._oscParser.registerHandler(y,b)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,b,_,P,T){this._parseStack.state=y,this._parseStack.handlers=b,this._parseStack.handlerPos=_,this._parseStack.transition=P,this._parseStack.chunkPos=T}parse(y,b,_){let P,T=0,C=0,R=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,R=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const k=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&E>-1){for(;E>=0&&(P=k[E](this._params),P!==!0);E--)if(P instanceof Promise)return this._parseStack.handlerPos=E,P}this._parseStack.handlers=[];break;case 4:if(_===!1&&E>-1){for(;E>=0&&(P=k[E](),P!==!0);E--)if(P instanceof Promise)return this._parseStack.handlerPos=E,P}this._parseStack.handlers=[];break;case 6:if(T=y[this._parseStack.chunkPos],P=this._dcsParser.unhook(T!==24&&T!==26,_),P)return P;T===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(T=y[this._parseStack.chunkPos],P=this._oscParser.end(T!==24&&T!==26,_),P)return P;T===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,R=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let k=R;k<b;++k){switch(T=y[k],C=this._transitions.table[this.currentState<<8|(T<160?T:S)],C>>4){case 2:for(let N=k+1;;++N){if(N>=b||(T=y[N])<32||T>126&&T<S){this._printHandler(y,k,N),k=N-1;break}if(++N>=b||(T=y[N])<32||T>126&&T<S){this._printHandler(y,k,N),k=N-1;break}if(++N>=b||(T=y[N])<32||T>126&&T<S){this._printHandler(y,k,N),k=N-1;break}if(++N>=b||(T=y[N])<32||T>126&&T<S){this._printHandler(y,k,N),k=N-1;break}}break;case 3:this._executeHandlers[T]?this._executeHandlers[T]():this._executeHandlerFb(T),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:T,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|T];let $=E?E.length-1:-1;for(;$>=0&&(P=E[$](this._params),P!==!0);$--)if(P instanceof Promise)return this._preserveStack(3,E,$,C,k),P;$<0&&this._csiHandlerFb(this._collect<<8|T,this._params),this.precedingCodepoint=0;break;case 8:do switch(T){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(T-48)}while(++k<b&&(T=y[k])>47&&T<60);k--;break;case 9:this._collect<<=8,this._collect|=T;break;case 10:const D=this._escHandlers[this._collect<<8|T];let A=D?D.length-1:-1;for(;A>=0&&(P=D[A](),P!==!0);A--)if(P instanceof Promise)return this._preserveStack(4,D,A,C,k),P;A<0&&this._escHandlerFb(this._collect<<8|T),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|T,this._params);break;case 13:for(let N=k+1;;++N)if(N>=b||(T=y[N])===24||T===26||T===27||T>127&&T<S){this._dcsParser.put(y,k,N),k=N-1;break}break;case 14:if(P=this._dcsParser.unhook(T!==24&&T!==26),P)return this._preserveStack(6,[],0,C,k),P;T===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let N=k+1;;N++)if(N>=b||(T=y[N])<32||T>127&&T<S){this._oscParser.put(y,k,N),k=N-1;break}break;case 6:if(P=this._oscParser.end(T!==24&&T!==26),P)return this._preserveStack(5,[],0,C,k),P;T===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}o.EscapeSequenceParser=x},6242:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const u=l(5770),d=l(482),f=[];o.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,v){this._handlers[p]===void 0&&(this._handlers[p]=[]);const S=this._handlers[p];return S.push(v),{dispose:()=>{const x=S.indexOf(v);x!==-1&&S.splice(x,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,v,S){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(p,v,S);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(p,v,S))}start(){this.reset(),this._state=1}put(p,v,S){if(this._state!==3){if(this._state===1)for(;v<S;){const x=p[v++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&S-v>0&&this._put(p,v,S)}}end(p,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,x=this._active.length-1,m=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,S=v,m=this._stack.fallThrough,this._stack.paused=!1),!m&&S===!1){for(;x>=0&&(S=this._active[x].end(p),S!==!0);x--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,S;x--}for(;x>=0;x--)if(S=this._active[x].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",p);this._active=f,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,v,S){this._hitLimit||(this._data+=(0,d.utf32ToString)(p,v,S),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let v=!1;if(this._hitLimit)v=!1;else if(p&&(v=this._handler(this._data),v instanceof Promise))return v.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,v}}},8742:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class u{static fromArray(f){const p=new u;if(!f.length)return p;for(let v=Array.isArray(f[0])?1:0;v<f.length;++v){const S=f[v];if(Array.isArray(S))for(let x=0;x<S.length;++x)p.addSubParam(S[x]);else p.addParam(S)}return p}constructor(f=32,p=32){if(this.maxLength=f,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new u(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let p=0;p<this.length;++p){f.push(this.params[p]);const v=this._subParamsIdx[p]>>8,S=255&this._subParamsIdx[p];S-v>0&&f.push(Array.prototype.slice.call(this._subParams,v,S))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>l?l:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>l?l:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const p=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];return v-p>0?this._subParams.subarray(p,v):null}getSubParamsAll(){const f={};for(let p=0;p<this.length;++p){const v=this._subParamsIdx[p]>>8,S=255&this._subParamsIdx[p];S-v>0&&(f[p]=this._subParams.slice(v,S))}return f}addDigit(f){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,S=v[p-1];v[p-1]=~S?Math.min(10*S+f,l):f}}o.Params=u},5741:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,u){const d={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(d),u.dispose=()=>this._wrappedAddonDispose(d),u.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let u=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===l){u=d;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(u,1)}}},8771:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const u=l(3785),d=l(511);o.BufferApiView=class{constructor(f,p){this._buffer=f,this.type=p}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const p=this._buffer.lines.get(f);if(p)return new u.BufferLineApiView(p)}getNullCell(){return new d.CellData}}},3785:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const u=l(511);o.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,f){if(!(d<0||d>=this._line.length))return f?(this._line.loadCell(d,f),f):this._line.loadCell(d,new u.CellData)}translateToString(d,f,p){return this._line.translateToString(d,f,p)}}},8285:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const u=l(8771),d=l(8460),f=l(844);class p extends f.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=p},7975:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,u){return this._core.registerCsiHandler(l,d=>u(d.toArray()))}addCsiHandler(l,u){return this.registerCsiHandler(l,u)}registerDcsHandler(l,u){return this._core.registerDcsHandler(l,(d,f)=>u(d,f.toArray()))}addDcsHandler(l,u){return this.registerDcsHandler(l,u)}registerEscHandler(l,u){return this._core.registerEscHandler(l,u)}addEscHandler(l,u){return this.registerEscHandler(l,u)}registerOscHandler(l,u){return this._core.registerOscHandler(l,u)}addOscHandler(l,u){return this.registerOscHandler(l,u)}}},7090:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const f=l(8460),p=l(844),v=l(5295),S=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let x=o.BufferService=class extends p.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(m,this))}resize(m,y){this.cols=m,this.rows=y,this.buffers.resize(m,y),this._onResize.fire({cols:m,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,y=!1){const b=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=b.getBlankLine(m,y),this._cachedBlankLine=_),_.isWrapped=y;const P=b.ybase+b.scrollTop,T=b.ybase+b.scrollBottom;if(b.scrollTop===0){const C=b.lines.isFull;T===b.lines.length-1?C?b.lines.recycle().copyFrom(_):b.lines.push(_.clone()):b.lines.splice(T+1,0,_.clone()),C?this.isUserScrolling&&(b.ydisp=Math.max(b.ydisp-1,0)):(b.ybase++,this.isUserScrolling||b.ydisp++)}else{const C=T-P+1;b.lines.shiftElements(P+1,C-1,-1),b.lines.set(T,_.clone())}this.isUserScrolling||(b.ydisp=b.ybase),this._onScroll.fire(b.ydisp)}scrollLines(m,y,b){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const P=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),P!==_.ydisp&&(y||this._onScroll.fire(_.ydisp))}};o.BufferService=x=u([d(0,S.IOptionsService)],x)},7994:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,u){this._charsets[l]=u,this.glevel===l&&(this.charset=u)}}},1753:function(a,o,l){var u=this&&this.__decorate||function(_,P,T,C){var R,k=arguments.length,E=k<3?P:C===null?C=Object.getOwnPropertyDescriptor(P,T):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(_,P,T,C);else for(var $=_.length-1;$>=0;$--)(R=_[$])&&(E=(k<3?R(E):k>3?R(P,T,E):R(P,T))||E);return k>3&&E&&Object.defineProperty(P,T,E),E},d=this&&this.__param||function(_,P){return function(T,C){P(T,C,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const f=l(2585),p=l(8460),v=l(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function x(_,P){let T=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(T|=64,T|=_.action):(T|=3&_.button,4&_.button&&(T|=64),8&_.button&&(T|=128),_.action===32?T|=32:_.action!==0||P||(T|=3)),T}const m=String.fromCharCode,y={DEFAULT:_=>{const P=[x(_,!1)+32,_.col+32,_.row+32];return P[0]>255||P[1]>255||P[2]>255?"":`\x1B[M${m(P[0])}${m(P[1])}${m(P[2])}`},SGR:_=>{const P=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.col};${_.row}${P}`},SGR_PIXELS:_=>{const P=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.x};${_.y}${P}`}};let b=o.CoreMouseService=class extends v.Disposable{constructor(_,P){super(),this._bufferService=_,this._coreService=P,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const T of Object.keys(S))this.addProtocol(T,S[T]);for(const T of Object.keys(y))this.addEncoding(T,y[T]);this.reset()}addProtocol(_,P){this._protocols[_]=P}addEncoding(_,P){this._encodings[_]=P}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const P=this._encodings[this._activeEncoding](_);return P&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(P):this._coreService.triggerDataEvent(P,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,P,T){if(T){if(_.x!==P.x||_.y!==P.y)return!1}else if(_.col!==P.col||_.row!==P.row)return!1;return _.button===P.button&&_.action===P.action&&_.ctrl===P.ctrl&&_.alt===P.alt&&_.shift===P.shift}};o.CoreMouseService=b=u([d(0,f.IBufferService),d(1,f.ICoreService)],b)},6975:function(a,o,l){var u=this&&this.__decorate||function(b,_,P,T){var C,R=arguments.length,k=R<3?_:T===null?T=Object.getOwnPropertyDescriptor(_,P):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(b,_,P,T);else for(var E=b.length-1;E>=0;E--)(C=b[E])&&(k=(R<3?C(k):R>3?C(_,P,k):C(_,P))||k);return R>3&&k&&Object.defineProperty(_,P,k),k},d=this&&this.__param||function(b,_){return function(P,T){_(P,T,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const f=l(1439),p=l(8460),v=l(844),S=l(2585),x=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=o.CoreService=class extends v.Disposable{constructor(b,_,P){super(),this._bufferService=b,this._logService=_,this._optionsService=P,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(x),this.decPrivateModes=(0,f.clone)(m)}reset(){this.modes=(0,f.clone)(x),this.decPrivateModes=(0,f.clone)(m)}triggerDataEvent(b,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const P=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&P.ybase!==P.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${b}"`,()=>b.split("").map(T=>T.charCodeAt(0))),this._onData.fire(b)}triggerBinaryEvent(b){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${b}"`,()=>b.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(b))}};o.CoreService=y=u([d(0,S.IBufferService),d(1,S.ILogService),d(2,S.IOptionsService)],y)},9074:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const u=l(8055),d=l(8460),f=l(844),p=l(6106);let v=0,S=0;class x extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new p.SortedList(b=>b?.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(b){if(b.marker.isDisposed)return;const _=new m(b);if(_){const P=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),P.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const b of this._decorations.values())b.dispose();this._decorations.clear()}*getDecorationsAtCell(b,_,P){var T,C,R;let k=0,E=0;for(const $ of this._decorations.getKeyIterator(_))k=(T=$.options.x)!==null&&T!==void 0?T:0,E=k+((C=$.options.width)!==null&&C!==void 0?C:1),b>=k&&b<E&&(!P||((R=$.options.layer)!==null&&R!==void 0?R:"bottom")===P)&&(yield $)}forEachDecorationAtCell(b,_,P,T){this._decorations.forEachByKey(_,C=>{var R,k,E;v=(R=C.options.x)!==null&&R!==void 0?R:0,S=v+((k=C.options.width)!==null&&k!==void 0?k:1),b>=v&&b<S&&(!P||((E=C.options.layer)!==null&&E!==void 0?E:"bottom")===P)&&T(C)})}}o.DecorationService=x;class m extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(b){super(),this.options=b,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=b.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const u=l(2585),d=l(8343);class f{constructor(...v){this._entries=new Map;for(const[S,x]of v)this.set(S,x)}set(v,S){const x=this._entries.get(v);return this._entries.set(v,S),x}forEach(v){for(const[S,x]of this._entries.entries())v(S,x)}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}o.ServiceCollection=f,o.InstantiationService=class{constructor(){this._services=new f,this._services.set(u.IInstantiationService,this)}setService(p,v){this._services.set(p,v)}getService(p){return this._services.get(p)}createInstance(p,...v){const S=(0,d.getServiceDependencies)(p).sort((y,b)=>y.index-b.index),x=[];for(const y of S){const b=this._services.get(y.id);if(!b)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${y.id}.`);x.push(b)}const m=S.length>0?S[0].index:v.length;if(v.length!==m)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${m+1} conflicts with ${v.length} static arguments`);return new p(...v,...x)}}},7866:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const f=l(844),p=l(2585),v={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let S,x=o.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let y=0;y<m.length;y++)typeof m[y]=="function"&&(m[y]=m[y]())}_log(m,y,b){this._evalLazyOptionalParams(b),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...b)}trace(m,...y){var b,_;this._logLevel<=p.LogLevelEnum.TRACE&&this._log((_=(b=this._optionsService.options.logger)===null||b===void 0?void 0:b.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}debug(m,...y){var b,_;this._logLevel<=p.LogLevelEnum.DEBUG&&this._log((_=(b=this._optionsService.options.logger)===null||b===void 0?void 0:b.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,y)}info(m,...y){var b,_;this._logLevel<=p.LogLevelEnum.INFO&&this._log((_=(b=this._optionsService.options.logger)===null||b===void 0?void 0:b.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,y)}warn(m,...y){var b,_;this._logLevel<=p.LogLevelEnum.WARN&&this._log((_=(b=this._optionsService.options.logger)===null||b===void 0?void 0:b.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,y)}error(m,...y){var b,_;this._logLevel<=p.LogLevelEnum.ERROR&&this._log((_=(b=this._optionsService.options.logger)===null||b===void 0?void 0:b.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,y)}};o.LogService=x=u([d(0,p.IOptionsService)],x),o.setTraceLogger=function(m){S=m},o.traceCall=function(m,y,b){if(typeof b.value!="function")throw new Error("not supported");const _=b.value;b.value=function(...P){if(S.logLevel!==p.LogLevelEnum.TRACE)return _.apply(this,P);S.trace(`GlyphRenderer#${_.name}(${P.map(C=>JSON.stringify(C)).join(", ")})`);const T=_.apply(this,P);return S.trace(`GlyphRenderer#${_.name} return`,T),T}}},7302:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const u=l(8460),d=l(844),f=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends d.Disposable{constructor(x){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},o.DEFAULT_OPTIONS);for(const y in x)if(y in m)try{const b=x[y];m[y]=this._sanitizeAndValidateOption(y,b)}catch(b){console.error(b)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(x,m){return this.onOptionChange(y=>{y===x&&m(this.rawOptions[x])})}onMultipleOptionChange(x,m){return this.onOptionChange(y=>{x.indexOf(y)!==-1&&m()})}_setupOptions(){const x=y=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},m=(y,b)=>{if(!(y in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);b=this._sanitizeAndValidateOption(y,b),this.rawOptions[y]!==b&&(this.rawOptions[y]=b,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const b={get:x.bind(this,y),set:m.bind(this,y)};Object.defineProperty(this.options,y,b)}}_sanitizeAndValidateOption(x,m){switch(x){case"cursorStyle":if(m||(m=o.DEFAULT_OPTIONS[x]),!function(y){return y==="block"||y==="underline"||y==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${x}`);break;case"wordSeparator":m||(m=o.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=p.includes(m)?m:o.DEFAULT_OPTIONS[x];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${x} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${x} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}o.OptionsService=v},2660:function(a,o,l){var u=this&&this.__decorate||function(v,S,x,m){var y,b=arguments.length,_=b<3?S:m===null?m=Object.getOwnPropertyDescriptor(S,x):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(v,S,x,m);else for(var P=v.length-1;P>=0;P--)(y=v[P])&&(_=(b<3?y(_):b>3?y(S,x,_):y(S,x))||_);return b>3&&_&&Object.defineProperty(S,x,_),_},d=this&&this.__param||function(v,S){return function(x,m){S(x,m,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const f=l(2585);let p=o.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const S=this._bufferService.buffer;if(v.id===void 0){const P=S.addMarker(S.ybase+S.y),T={data:v,id:this._nextId++,lines:[P]};return P.onDispose(()=>this._removeMarkerFromLink(T,P)),this._dataByLinkId.set(T.id,T),T.id}const x=v,m=this._getEntryIdKey(x),y=this._entriesWithId.get(m);if(y)return this.addLineToLink(y.id,S.ybase+S.y),y.id;const b=S.addMarker(S.ybase+S.y),_={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(_,b)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(v,S){const x=this._dataByLinkId.get(v);if(x&&x.lines.every(m=>m.line!==S)){const m=this._bufferService.buffer.addMarker(S);x.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(x,m))}}getLinkData(v){var S;return(S=this._dataByLinkId.get(v))===null||S===void 0?void 0:S.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,S){const x=v.lines.indexOf(S);x!==-1&&(v.lines.splice(x,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};o.OscLinkService=p=u([d(0,f.IBufferService)],p)},8343:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",u="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(d){return d[u]||[]},o.createDecorator=function(d){if(o.serviceRegistry.has(d))return o.serviceRegistry.get(d);const f=function(p,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,m,y){m[l]===m?m[u].push({id:x,index:y}):(m[u]=[{id:x,index:y}],m[l]=m)})(f,p,S)};return f.toString=()=>d,o.serviceRegistry.set(d,f),f}},2585:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const u=l(8343);var d;o.IBufferService=(0,u.createDecorator)("BufferService"),o.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),o.ICoreService=(0,u.createDecorator)("CoreService"),o.ICharsetService=(0,u.createDecorator)("CharsetService"),o.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(d||(o.LogLevelEnum=d={})),o.ILogService=(0,u.createDecorator)("LogService"),o.IOptionsService=(0,u.createDecorator)("OptionsService"),o.IOscLinkService=(0,u.createDecorator)("OscLinkService"),o.IUnicodeService=(0,u.createDecorator)("UnicodeService"),o.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const u=l(8460),d=l(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const f=new d.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let p=0;const v=f.length;for(let S=0;S<v;++S){let x=f.charCodeAt(S);if(55296<=x&&x<=56319){if(++S>=v)return p+this.wcwidth(x);const m=f.charCodeAt(S);56320<=m&&m<=57343?x=1024*(x-55296)+m-56320+65536:p+=this.wcwidth(m)}p+=this.wcwidth(x)}return p}}}},i={};function n(a){var o=i[a];if(o!==void 0)return o.exports;var l=i[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const o=n(9042),l=n(3236),u=n(844),d=n(5741),f=n(8285),p=n(7975),v=n(7090),S=["cols","rows"];class x extends u.Disposable{constructor(y){super(),this._core=this.register(new l.Terminal(y)),this._addonManager=this.register(new d.AddonManager),this._publicOptions=Object.assign({},this._core.options);const b=P=>this._core.options[P],_=(P,T)=>{this._checkReadonlyOptions(P),this._core.options[P]=T};for(const P in this._core.options){const T={get:b.bind(this,P),set:_.bind(this,P)};Object.defineProperty(this._publicOptions,P,T)}}_checkReadonlyOptions(y){if(S.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new p.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let b="none";switch(this._core.coreMouseService.activeProtocol){case"X10":b="x10";break;case"VT200":b="vt200";break;case"DRAG":b="drag";break;case"ANY":b="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:b,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const b in y)this._publicOptions[b]=y[b]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,b){this._verifyIntegers(y,b),this._core.resize(y,b)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var b,_,P;return this._checkProposedApi(),this._verifyPositiveIntegers((b=y.x)!==null&&b!==void 0?b:0,(_=y.width)!==null&&_!==void 0?_:0,(P=y.height)!==null&&P!==void 0?P:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,b,_){this._verifyIntegers(y,b,_),this._core.select(y,b,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,b){this._verifyIntegers(y,b),this._core.selectLines(y,b)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,b){this._core.write(y,b)}writeln(y,b){this._core.write(y),this._core.write(`\r
`,b)}paste(y){this._core.paste(y)}refresh(y,b){this._verifyIntegers(y,b),this._core.refresh(y,b)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return o}_verifyIntegers(...y){for(const b of y)if(b===1/0||isNaN(b)||b%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const b of y)if(b&&(b===1/0||isNaN(b)||b%1!=0||b<0))throw new Error("This API only accepts positive integers")}}a.Terminal=x})(),s})())}(ig)),ig.exports}var bW=yW(),ng={exports:{}},ow;function _W(){return ow||(ow=1,function(r,e){(function(t,i){r.exports=i()})(self,()=>(()=>{var t={};return(()=>{var i=t;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const s=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(s._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,s=n._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),u=Math.max(0,parseInt(o.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),f=l-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),p=u-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(p/s.css.cell.width)),rows:Math.max(1,Math.floor(f/s.css.cell.height))}}}})(),t})())}(ng)),ng.exports}var SW=_W(),sg={exports:{}},aw;function wW(){return aw||(aw=1,function(r,e){(function(t,i){r.exports=i()})(self,()=>(()=>{var t={575:function(a,o,l){typeof self<"u"||typeof window<"u"||l.g!==void 0&&l.g,a.exports=function(){var u,d="3.7.7",f=d,p=typeof Buffer=="function",v=typeof TextDecoder=="function"?new TextDecoder:void 0,S=typeof TextEncoder=="function"?new TextEncoder:void 0,x=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),m=(u={},x.forEach(function(G,me){return u[G]=me}),u),y=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,b=String.fromCharCode.bind(String),_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(G){return new Uint8Array(Array.prototype.slice.call(G,0))},P=function(G){return G.replace(/=/g,"").replace(/[+\/]/g,function(me){return me=="+"?"-":"_"})},T=function(G){return G.replace(/[^A-Za-z0-9\+\/]/g,"")},C=function(G){for(var me,be,Ie,qe,st="",_e=G.length%3,Se=0;Se<G.length;){if((be=G.charCodeAt(Se++))>255||(Ie=G.charCodeAt(Se++))>255||(qe=G.charCodeAt(Se++))>255)throw new TypeError("invalid character found");st+=x[(me=be<<16|Ie<<8|qe)>>18&63]+x[me>>12&63]+x[me>>6&63]+x[63&me]}return _e?st.slice(0,_e-3)+"===".substring(_e):st},R=typeof btoa=="function"?function(G){return btoa(G)}:p?function(G){return Buffer.from(G,"binary").toString("base64")}:C,k=p?function(G){return Buffer.from(G).toString("base64")}:function(G){for(var me=[],be=0,Ie=G.length;be<Ie;be+=4096)me.push(b.apply(null,G.subarray(be,be+4096)));return R(me.join(""))},E=function(G,me){return me===void 0&&(me=!1),me?P(k(G)):k(G)},$=function(G){if(G.length<2)return(me=G.charCodeAt(0))<128?G:me<2048?b(192|me>>>6)+b(128|63&me):b(224|me>>>12&15)+b(128|me>>>6&63)+b(128|63&me);var me=65536+1024*(G.charCodeAt(0)-55296)+(G.charCodeAt(1)-56320);return b(240|me>>>18&7)+b(128|me>>>12&63)+b(128|me>>>6&63)+b(128|63&me)},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,A=function(G){return G.replace(D,$)},N=p?function(G){return Buffer.from(G,"utf8").toString("base64")}:S?function(G){return k(S.encode(G))}:function(G){return R(A(G))},q=function(G,me){return me===void 0&&(me=!1),me?P(N(G)):N(G)},V=function(G){return q(G,!0)},K=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Y=function(G){switch(G.length){case 4:var me=((7&G.charCodeAt(0))<<18|(63&G.charCodeAt(1))<<12|(63&G.charCodeAt(2))<<6|63&G.charCodeAt(3))-65536;return b(55296+(me>>>10))+b(56320+(1023&me));case 3:return b((15&G.charCodeAt(0))<<12|(63&G.charCodeAt(1))<<6|63&G.charCodeAt(2));default:return b((31&G.charCodeAt(0))<<6|63&G.charCodeAt(1))}},L=function(G){return G.replace(K,Y)},z=function(G){if(G=G.replace(/\s+/g,""),!y.test(G))throw new TypeError("malformed base64.");G+="==".slice(2-(3&G.length));for(var me,be,Ie,qe="",st=0;st<G.length;)me=m[G.charAt(st++)]<<18|m[G.charAt(st++)]<<12|(be=m[G.charAt(st++)])<<6|(Ie=m[G.charAt(st++)]),qe+=be===64?b(me>>16&255):Ie===64?b(me>>16&255,me>>8&255):b(me>>16&255,me>>8&255,255&me);return qe},M=typeof atob=="function"?function(G){return atob(T(G))}:p?function(G){return Buffer.from(G,"base64").toString("binary")}:z,I=p?function(G){return _(Buffer.from(G,"base64"))}:function(G){return _(M(G).split("").map(function(me){return me.charCodeAt(0)}))},U=function(G){return I(se(G))},W=p?function(G){return Buffer.from(G,"base64").toString("utf8")}:v?function(G){return v.decode(I(G))}:function(G){return L(M(G))},se=function(G){return T(G.replace(/[-_]/g,function(me){return me=="-"?"+":"/"}))},le=function(G){return W(se(G))},ae=function(G){return{value:G,enumerable:!1,writable:!0,configurable:!0}},B=function(){var G=function(me,be){return Object.defineProperty(String.prototype,me,ae(be))};G("fromBase64",function(){return le(this)}),G("toBase64",function(me){return q(this,me)}),G("toBase64URI",function(){return q(this,!0)}),G("toBase64URL",function(){return q(this,!0)}),G("toUint8Array",function(){return U(this)})},ee=function(){var G=function(me,be){return Object.defineProperty(Uint8Array.prototype,me,ae(be))};G("toBase64",function(me){return E(this,me)}),G("toBase64URI",function(){return E(this,!0)}),G("toBase64URL",function(){return E(this,!0)})},ie={version:d,VERSION:f,atob:M,atobPolyfill:z,btoa:R,btoaPolyfill:C,fromBase64:le,toBase64:q,encode:q,encodeURI:V,encodeURL:V,utob:A,btou:L,decode:le,isValid:function(G){if(typeof G!="string")return!1;var me=G.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(me)||!/[^\s0-9a-zA-Z\-_]/.test(me)},fromUint8Array:E,toUint8Array:U,extendString:B,extendUint8Array:ee,extendBuiltins:function(){B(),ee()},Base64:{}};return Object.keys(ie).forEach(function(G){return ie.Base64[G]=ie[G]}),ie}()}},i={};function n(a){var o=i[a];if(o!==void 0)return o.exports;var l=i[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Base64=a.BrowserClipboardProvider=a.ClipboardAddon=void 0;const o=n(575);a.ClipboardAddon=class{constructor(d=new u,f=new l){this._base64=d,this._provider=f}activate(d){this._terminal=d,this._disposable=d.parser.registerOscHandler(52,f=>this._setOrReportClipboard(f))}dispose(){return this._disposable?.dispose()}_readText(d,f){const p=this._base64.encodeText(f);this._terminal?.input(`\x1B]52;${d};${p}\x07`,!1)}_setOrReportClipboard(d){const f=d.split(";");if(f.length<2)return!0;const p=f[0],v=f[1];if(v==="?"){const m=this._provider.readText(p);return m instanceof Promise?m.then(y=>(this._readText(p,y),!0)):(this._readText(p,m),!0)}let S="";try{S=this._base64.decodeText(v)}catch{}const x=this._provider.writeText(p,S);return!(x instanceof Promise)||x.then(()=>!0)}};class l{async readText(f){return f!=="c"?Promise.resolve(""):navigator.clipboard.readText()}async writeText(f,p){return f!=="c"?Promise.resolve():navigator.clipboard.writeText(p)}}a.BrowserClipboardProvider=l;class u{encodeText(f){return o.Base64.encode(f)}decodeText(f){const p=o.Base64.decode(f);return o.Base64.isValid(f)&&o.Base64.encode(p)===f?p:""}}a.Base64=u})(),s})())}(sg)),sg.exports}var kW=wW(),og={exports:{}},lw;function CW(){return lw||(lw=1,function(r,e){(function(t,i){r.exports=i()})(self,()=>(()=>{var t={965:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlyphRenderer=void 0;const u=l(374),d=l(509),f=l(855),p=l(859),v=l(381),S=11,x=S*Float32Array.BYTES_PER_ELEMENT;let m,y=0,b=0,_=0;class P extends p.Disposable{constructor(C,R,k,E){super(),this._terminal=C,this._gl=R,this._dimensions=k,this._optionsService=E,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const $=this._gl;d.TextureAtlas.maxAtlasPages===void 0&&(d.TextureAtlas.maxAtlasPages=Math.min(32,(0,u.throwIfFalsy)($.getParameter($.MAX_TEXTURE_IMAGE_UNITS))),d.TextureAtlas.maxTextureSize=(0,u.throwIfFalsy)($.getParameter($.MAX_TEXTURE_SIZE))),this._program=(0,u.throwIfFalsy)((0,v.createProgram)($,`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`,function(K){let Y="";for(let L=1;L<K;L++)Y+=` else if (v_texpage == ${L}) { outColor = texture(u_texture[${L}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${K}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${Y}
}`}(d.TextureAtlas.maxAtlasPages))),this.register((0,p.toDisposable)(()=>$.deleteProgram(this._program))),this._projectionLocation=(0,u.throwIfFalsy)($.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,u.throwIfFalsy)($.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,u.throwIfFalsy)($.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=$.createVertexArray(),$.bindVertexArray(this._vertexArrayObject);const D=new Float32Array([0,0,1,0,0,1,1,1]),A=$.createBuffer();this.register((0,p.toDisposable)(()=>$.deleteBuffer(A))),$.bindBuffer($.ARRAY_BUFFER,A),$.bufferData($.ARRAY_BUFFER,D,$.STATIC_DRAW),$.enableVertexAttribArray(0),$.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const N=new Uint8Array([0,1,2,3]),q=$.createBuffer();this.register((0,p.toDisposable)(()=>$.deleteBuffer(q))),$.bindBuffer($.ELEMENT_ARRAY_BUFFER,q),$.bufferData($.ELEMENT_ARRAY_BUFFER,N,$.STATIC_DRAW),this._attributesBuffer=(0,u.throwIfFalsy)($.createBuffer()),this.register((0,p.toDisposable)(()=>$.deleteBuffer(this._attributesBuffer))),$.bindBuffer($.ARRAY_BUFFER,this._attributesBuffer),$.enableVertexAttribArray(2),$.vertexAttribPointer(2,2,$.FLOAT,!1,x,0),$.vertexAttribDivisor(2,1),$.enableVertexAttribArray(3),$.vertexAttribPointer(3,2,$.FLOAT,!1,x,2*Float32Array.BYTES_PER_ELEMENT),$.vertexAttribDivisor(3,1),$.enableVertexAttribArray(4),$.vertexAttribPointer(4,1,$.FLOAT,!1,x,4*Float32Array.BYTES_PER_ELEMENT),$.vertexAttribDivisor(4,1),$.enableVertexAttribArray(5),$.vertexAttribPointer(5,2,$.FLOAT,!1,x,5*Float32Array.BYTES_PER_ELEMENT),$.vertexAttribDivisor(5,1),$.enableVertexAttribArray(6),$.vertexAttribPointer(6,2,$.FLOAT,!1,x,7*Float32Array.BYTES_PER_ELEMENT),$.vertexAttribDivisor(6,1),$.enableVertexAttribArray(1),$.vertexAttribPointer(1,2,$.FLOAT,!1,x,9*Float32Array.BYTES_PER_ELEMENT),$.vertexAttribDivisor(1,1),$.useProgram(this._program);const V=new Int32Array(d.TextureAtlas.maxAtlasPages);for(let K=0;K<d.TextureAtlas.maxAtlasPages;K++)V[K]=K;$.uniform1iv(this._textureLocation,V),$.uniformMatrix4fv(this._projectionLocation,!1,v.PROJECTION_MATRIX),this._atlasTextures=[];for(let K=0;K<d.TextureAtlas.maxAtlasPages;K++){const Y=new v.GLTexture((0,u.throwIfFalsy)($.createTexture()));this.register((0,p.toDisposable)(()=>$.deleteTexture(Y.texture))),$.activeTexture($.TEXTURE0+K),$.bindTexture($.TEXTURE_2D,Y.texture),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texImage2D($.TEXTURE_2D,0,$.RGBA,1,1,0,$.RGBA,$.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[K]=Y}$.enable($.BLEND),$.blendFunc($.SRC_ALPHA,$.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(C,R,k,E,$,D,A,N,q){this._updateCell(this._vertices.attributes,C,R,k,E,$,D,A,N,q)}_updateCell(C,R,k,E,$,D,A,N,q,V){y=(k*this._terminal.cols+R)*S,E!==f.NULL_CELL_CODE&&E!==void 0?this._atlas&&(m=N&&N.length>1?this._atlas.getRasterizedGlyphCombinedChar(N,$,D,A,!1):this._atlas.getRasterizedGlyph(E,$,D,A,!1),b=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),$!==V&&m.offset.x>b?(_=m.offset.x-b,C[y]=-(m.offset.x-_)+this._dimensions.device.char.left,C[y+1]=-m.offset.y+this._dimensions.device.char.top,C[y+2]=(m.size.x-_)/this._dimensions.device.canvas.width,C[y+3]=m.size.y/this._dimensions.device.canvas.height,C[y+4]=m.texturePage,C[y+5]=m.texturePositionClipSpace.x+_/this._atlas.pages[m.texturePage].canvas.width,C[y+6]=m.texturePositionClipSpace.y,C[y+7]=m.sizeClipSpace.x-_/this._atlas.pages[m.texturePage].canvas.width,C[y+8]=m.sizeClipSpace.y):(C[y]=-m.offset.x+this._dimensions.device.char.left,C[y+1]=-m.offset.y+this._dimensions.device.char.top,C[y+2]=m.size.x/this._dimensions.device.canvas.width,C[y+3]=m.size.y/this._dimensions.device.canvas.height,C[y+4]=m.texturePage,C[y+5]=m.texturePositionClipSpace.x,C[y+6]=m.texturePositionClipSpace.y,C[y+7]=m.sizeClipSpace.x,C[y+8]=m.sizeClipSpace.y),this._optionsService.rawOptions.rescaleOverlappingGlyphs&&(0,u.allowRescaling)(E,q,m.size.x,this._dimensions.device.cell.width)&&(C[y+2]=(this._dimensions.device.cell.width-1)/this._dimensions.device.canvas.width)):C.fill(0,y,y+S-1-2)}clear(){const C=this._terminal,R=C.cols*C.rows*S;this._vertices.count!==R?this._vertices.attributes=new Float32Array(R):this._vertices.attributes.fill(0);let k=0;for(;k<this._vertices.attributesBuffers.length;k++)this._vertices.count!==R?this._vertices.attributesBuffers[k]=new Float32Array(R):this._vertices.attributesBuffers[k].fill(0);this._vertices.count=R,k=0;for(let E=0;E<C.rows;E++)for(let $=0;$<C.cols;$++)this._vertices.attributes[k+9]=$/C.cols,this._vertices.attributes[k+10]=E/C.rows,k+=S}handleResize(){const C=this._gl;C.useProgram(this._program),C.viewport(0,0,C.canvas.width,C.canvas.height),C.uniform2f(this._resolutionLocation,C.canvas.width,C.canvas.height),this.clear()}render(C){if(!this._atlas)return;const R=this._gl;R.useProgram(this._program),R.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const k=this._vertices.attributesBuffers[this._activeBuffer];let E=0;for(let $=0;$<C.lineLengths.length;$++){const D=$*this._terminal.cols*S,A=this._vertices.attributes.subarray(D,D+C.lineLengths[$]*S);k.set(A,E),E+=A.length}R.bindBuffer(R.ARRAY_BUFFER,this._attributesBuffer),R.bufferData(R.ARRAY_BUFFER,k.subarray(0,E),R.STREAM_DRAW);for(let $=0;$<this._atlas.pages.length;$++)this._atlas.pages[$].version!==this._atlasTextures[$].version&&this._bindAtlasPageTexture(R,this._atlas,$);R.drawElementsInstanced(R.TRIANGLE_STRIP,4,R.UNSIGNED_BYTE,0,E/S)}setAtlas(C){this._atlas=C;for(const R of this._atlasTextures)R.version=-1}_bindAtlasPageTexture(C,R,k){C.activeTexture(C.TEXTURE0+k),C.bindTexture(C.TEXTURE_2D,this._atlasTextures[k].texture),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,R.pages[k].canvas),C.generateMipmap(C.TEXTURE_2D),this._atlasTextures[k].version=R.pages[k].version}setDimensions(C){this._dimensions=C}}o.GlyphRenderer=P},742:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RectangleRenderer=void 0;const u=l(374),d=l(859),f=l(310),p=l(381),v=8*Float32Array.BYTES_PER_ELEMENT;class S{constructor(){this.attributes=new Float32Array(160),this.count=0}}let x=0,m=0,y=0,b=0,_=0,P=0,T=0;class C extends d.Disposable{constructor(k,E,$,D){super(),this._terminal=k,this._gl=E,this._dimensions=$,this._themeService=D,this._vertices=new S,this._verticesCursor=new S;const A=this._gl;this._program=(0,u.throwIfFalsy)((0,p.createProgram)(A,`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`)),this.register((0,d.toDisposable)(()=>A.deleteProgram(this._program))),this._projectionLocation=(0,u.throwIfFalsy)(A.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=A.createVertexArray(),A.bindVertexArray(this._vertexArrayObject);const N=new Float32Array([0,0,1,0,0,1,1,1]),q=A.createBuffer();this.register((0,d.toDisposable)(()=>A.deleteBuffer(q))),A.bindBuffer(A.ARRAY_BUFFER,q),A.bufferData(A.ARRAY_BUFFER,N,A.STATIC_DRAW),A.enableVertexAttribArray(3),A.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const V=new Uint8Array([0,1,2,3]),K=A.createBuffer();this.register((0,d.toDisposable)(()=>A.deleteBuffer(K))),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,K),A.bufferData(A.ELEMENT_ARRAY_BUFFER,V,A.STATIC_DRAW),this._attributesBuffer=(0,u.throwIfFalsy)(A.createBuffer()),this.register((0,d.toDisposable)(()=>A.deleteBuffer(this._attributesBuffer))),A.bindBuffer(A.ARRAY_BUFFER,this._attributesBuffer),A.enableVertexAttribArray(0),A.vertexAttribPointer(0,2,A.FLOAT,!1,v,0),A.vertexAttribDivisor(0,1),A.enableVertexAttribArray(1),A.vertexAttribPointer(1,2,A.FLOAT,!1,v,2*Float32Array.BYTES_PER_ELEMENT),A.vertexAttribDivisor(1,1),A.enableVertexAttribArray(2),A.vertexAttribPointer(2,4,A.FLOAT,!1,v,4*Float32Array.BYTES_PER_ELEMENT),A.vertexAttribDivisor(2,1),this._updateCachedColors(D.colors),this.register(this._themeService.onChangeColors(Y=>{this._updateCachedColors(Y),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(k){const E=this._gl;E.useProgram(this._program),E.bindVertexArray(this._vertexArrayObject),E.uniformMatrix4fv(this._projectionLocation,!1,p.PROJECTION_MATRIX),E.bindBuffer(E.ARRAY_BUFFER,this._attributesBuffer),E.bufferData(E.ARRAY_BUFFER,k.attributes,E.DYNAMIC_DRAW),E.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,E.UNSIGNED_BYTE,0,k.count)}handleResize(){this._updateViewportRectangle()}setDimensions(k){this._dimensions=k}_updateCachedColors(k){this._bgFloat=this._colorToFloat32Array(k.background),this._cursorFloat=this._colorToFloat32Array(k.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(k){const E=this._terminal,$=this._vertices;let D,A,N,q,V,K,Y,L,z,M,I,U=1;for(D=0;D<E.rows;D++){for(N=-1,q=0,V=0,K=!1,A=0;A<E.cols;A++)Y=(D*E.cols+A)*f.RENDER_MODEL_INDICIES_PER_CELL,L=k.cells[Y+f.RENDER_MODEL_BG_OFFSET],z=k.cells[Y+f.RENDER_MODEL_FG_OFFSET],M=!!(67108864&z),(L!==q||z!==V&&(K||M))&&((q!==0||K&&V!==0)&&(I=8*U++,this._updateRectangle($,I,V,q,N,A,D)),N=A,q=L,V=z,K=M);(q!==0||K&&V!==0)&&(I=8*U++,this._updateRectangle($,I,V,q,N,E.cols,D))}$.count=U}updateCursor(k){const E=this._verticesCursor,$=k.cursor;if(!$||$.style==="block")return void(E.count=0);let D,A=0;$.style!=="bar"&&$.style!=="outline"||(D=8*A++,this._addRectangleFloat(E.attributes,D,$.x*this._dimensions.device.cell.width,$.y*this._dimensions.device.cell.height,$.style==="bar"?$.dpr*$.cursorWidth:$.dpr,this._dimensions.device.cell.height,this._cursorFloat)),$.style!=="underline"&&$.style!=="outline"||(D=8*A++,this._addRectangleFloat(E.attributes,D,$.x*this._dimensions.device.cell.width,($.y+1)*this._dimensions.device.cell.height-$.dpr,$.width*this._dimensions.device.cell.width,$.dpr,this._cursorFloat)),$.style==="outline"&&(D=8*A++,this._addRectangleFloat(E.attributes,D,$.x*this._dimensions.device.cell.width,$.y*this._dimensions.device.cell.height,$.width*this._dimensions.device.cell.width,$.dpr,this._cursorFloat),D=8*A++,this._addRectangleFloat(E.attributes,D,($.x+$.width)*this._dimensions.device.cell.width-$.dpr,$.y*this._dimensions.device.cell.height,$.dpr,this._dimensions.device.cell.height,this._cursorFloat)),E.count=A}_updateRectangle(k,E,$,D,A,N,q){if(67108864&$)switch(50331648&$){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&$].rgba;break;case 50331648:x=(16777215&$)<<8;break;default:x=this._themeService.colors.foreground.rgba}else switch(50331648&D){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&D].rgba;break;case 50331648:x=(16777215&D)<<8;break;default:x=this._themeService.colors.background.rgba}k.attributes.length<E+4&&(k.attributes=(0,p.expandFloat32Array)(k.attributes,this._terminal.rows*this._terminal.cols*8)),m=A*this._dimensions.device.cell.width,y=q*this._dimensions.device.cell.height,b=(x>>24&255)/255,_=(x>>16&255)/255,P=(x>>8&255)/255,T=1,this._addRectangle(k.attributes,E,m,y,(N-A)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,b,_,P,T)}_addRectangle(k,E,$,D,A,N,q,V,K,Y){k[E]=$/this._dimensions.device.canvas.width,k[E+1]=D/this._dimensions.device.canvas.height,k[E+2]=A/this._dimensions.device.canvas.width,k[E+3]=N/this._dimensions.device.canvas.height,k[E+4]=q,k[E+5]=V,k[E+6]=K,k[E+7]=Y}_addRectangleFloat(k,E,$,D,A,N,q){k[E]=$/this._dimensions.device.canvas.width,k[E+1]=D/this._dimensions.device.canvas.height,k[E+2]=A/this._dimensions.device.canvas.width,k[E+3]=N/this._dimensions.device.canvas.height,k[E+4]=q[0],k[E+5]=q[1],k[E+6]=q[2],k[E+7]=q[3]}_colorToFloat32Array(k){return new Float32Array([(k.rgba>>24&255)/255,(k.rgba>>16&255)/255,(k.rgba>>8&255)/255,(255&k.rgba)/255])}}o.RectangleRenderer=C},310:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderModel=o.COMBINED_CHAR_BIT_MASK=o.RENDER_MODEL_EXT_OFFSET=o.RENDER_MODEL_FG_OFFSET=o.RENDER_MODEL_BG_OFFSET=o.RENDER_MODEL_INDICIES_PER_CELL=void 0;const u=l(296);o.RENDER_MODEL_INDICIES_PER_CELL=4,o.RENDER_MODEL_BG_OFFSET=1,o.RENDER_MODEL_FG_OFFSET=2,o.RENDER_MODEL_EXT_OFFSET=3,o.COMBINED_CHAR_BIT_MASK=2147483648,o.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,u.createSelectionRenderModel)()}resize(d,f){const p=d*f*o.RENDER_MODEL_INDICIES_PER_CELL;p!==this.cells.length&&(this.cells=new Uint32Array(p),this.lineLengths=new Uint32Array(f))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JoinedCellData=o.WebglRenderer=void 0;const u=l(820),d=l(274),f=l(627),p=l(457),v=l(56),S=l(374),x=l(345),m=l(859),y=l(147),b=l(782),_=l(855),P=l(965),T=l(742),C=l(310),R=l(733);class k extends m.Disposable{constructor(A,N,q,V,K,Y,L,z,M){super(),this._terminal=A,this._characterJoinerService=N,this._charSizeService=q,this._coreBrowserService=V,this._coreService=K,this._decorationService=Y,this._optionsService=L,this._themeService=z,this._cursorBlinkStateManager=new m.MutableDisposable,this._charAtlasDisposable=this.register(new m.MutableDisposable),this._observerDisposable=this.register(new m.MutableDisposable),this._model=new C.RenderModel,this._workCell=new b.CellData,this._workCell2=new b.CellData,this._rectangleRenderer=this.register(new m.MutableDisposable),this._glyphRenderer=this.register(new m.MutableDisposable),this._onChangeTextureAtlas=this.register(new x.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new x.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new x.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new x.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new d.CellColorResolver(this._terminal,this._optionsService,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new R.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier,this._coreBrowserService,L,this._themeService)],this.dimensions=(0,S.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(L.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=this._coreBrowserService.mainDocument.createElement("canvas");const I={antialias:!1,depth:!1,preserveDrawingBuffer:M};if(this._gl=this._canvas.getContext("webgl2",I),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,u.addDisposableDomListener)(this._canvas,"webglcontextlost",U=>{console.log("webglcontextlost event received"),U.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(U)},3e3)})),this.register((0,u.addDisposableDomListener)(this._canvas,"webglcontextrestored",U=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,f.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this._observerDisposable.value=(0,v.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,(U,W)=>this._setCanvasDevicePixelDimensions(U,W)),this.register(this._coreBrowserService.onWindowChange(U=>{this._observerDisposable.value=(0,v.observeDevicePixelDimensions)(this._canvas,U,(W,se)=>this._setCanvasDevicePixelDimensions(W,se))})),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,m.toDisposable)(()=>{for(const U of this._renderLayers)U.dispose();this._canvas.parentElement?.removeChild(this._canvas),(0,f.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){return this._charAtlas?.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(A,N){this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const q of this._renderLayers)q.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,this._rectangleRenderer.value?.setDimensions(this.dimensions),this._rectangleRenderer.value?.handleResize(),this._glyphRenderer.value?.setDimensions(this.dimensions),this._glyphRenderer.value?.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){for(const A of this._renderLayers)A.handleBlur(this._terminal);this._cursorBlinkStateManager.value?.pause(),this._requestRedrawViewport()}handleFocus(){for(const A of this._renderLayers)A.handleFocus(this._terminal);this._cursorBlinkStateManager.value?.resume(),this._requestRedrawViewport()}handleSelectionChanged(A,N,q){for(const V of this._renderLayers)V.handleSelectionChanged(this._terminal,A,N,q);this._model.selection.update(this._core,A,N,q),this._requestRedrawViewport()}handleCursorMove(){for(const A of this._renderLayers)A.handleCursorMove(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new T.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new P.GlyphRenderer(this._terminal,this._gl,this.dimensions,this._optionsService),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const A=(0,f.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==A&&(this._onChangeTextureAtlas.fire(A.pages[0].canvas),this._charAtlasDisposable.value=(0,m.getDisposeArrayDisposable)([(0,x.forwardEvent)(A.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,x.forwardEvent)(A.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=A,this._charAtlas.warmUp(),this._glyphRenderer.value?.setAtlas(this._charAtlas)}_clearModel(A){this._model.clear(),A&&this._glyphRenderer.value?.clear()}clearTextureAtlas(){this._charAtlas?.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){this._clearModel(!0);for(const A of this._renderLayers)A.reset(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(A){return-1}deregisterCharacterJoiner(A){return!1}renderRows(A,N){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const q of this._renderLayers)q.handleGridChanged(this._terminal,A,N);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(A,N),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new p.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(A,N){const q=this._core;let V,K,Y,L,z,M,I,U,W,se,le,ae,B,ee,ie=this._workCell;A=$(A,q.rows-1,0),N=$(N,q.rows-1,0);const G=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,me=G-q.buffer.ydisp,be=Math.min(this._terminal.buffer.active.cursorX,q.cols-1);let Ie=-1;const qe=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let st=!1;for(K=A;K<=N;K++)for(Y=K+q.buffer.ydisp,L=q.buffer.lines.get(Y),this._model.lineLengths[K]=0,z=this._characterJoinerService.getJoinedCharacters(Y),B=0;B<q.cols;B++)if(V=this._cellColorResolver.result.bg,L.loadCell(B,ie),B===0&&(V=this._cellColorResolver.result.bg),M=!1,I=B,z.length>0&&B===z[0][0]&&(M=!0,U=z.shift(),ie=new E(ie,L.translateToString(!0,U[0],U[1]),U[1]-U[0]),I=U[1]-1),W=ie.getChars(),se=ie.getCode(),ae=(K*q.cols+B)*C.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(ie,B,Y,this.dimensions.device.cell.width),qe&&Y===G&&(B===be&&(this._model.cursor={x:be,y:me,width:ie.getWidth(),style:this._coreBrowserService.isFocused?q.options.cursorStyle||"block":q.options.cursorInactiveStyle,cursorWidth:q.options.cursorWidth,dpr:this._devicePixelRatio},Ie=be+ie.getWidth()-1),B>=be&&B<=Ie&&(this._coreBrowserService.isFocused&&(q.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&q.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),se!==_.NULL_CELL_CODE&&(this._model.lineLengths[K]=B+1),(this._model.cells[ae]!==se||this._model.cells[ae+C.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[ae+C.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[ae+C.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(st=!0,W.length>1&&(se|=C.COMBINED_CHAR_BIT_MASK),this._model.cells[ae]=se,this._model.cells[ae+C.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[ae+C.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[ae+C.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,le=ie.getWidth(),this._glyphRenderer.value.updateCell(B,K,se,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,W,le,V),M))for(ie=this._workCell,B++;B<I;B++)ee=(K*q.cols+B)*C.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(B,K,_.NULL_CELL_CODE,0,0,0,_.NULL_CELL_CHAR,0,0),this._model.cells[ee]=_.NULL_CELL_CODE,this._model.cells[ee+C.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[ee+C.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[ee+C.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;st&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(A,N){this._canvas.width===A&&this._canvas.height===N||(this._canvas.width=A,this._canvas.height=N,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const A=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:A,end:A})}}o.WebglRenderer=k;class E extends y.AttributeData{constructor(A,N,q){super(),this.content=0,this.combinedData="",this.fg=A.fg,this.bg=A.bg,this.combinedData=N,this._width=q}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(A){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function $(D,A,N=0){return Math.max(Math.min(D,A),N)}o.JoinedCellData=E},381:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GLTexture=o.expandFloat32Array=o.createShader=o.createProgram=o.PROJECTION_MATRIX=void 0;const u=l(374);function d(f,p,v){const S=(0,u.throwIfFalsy)(f.createShader(p));if(f.shaderSource(S,v),f.compileShader(S),f.getShaderParameter(S,f.COMPILE_STATUS))return S;console.error(f.getShaderInfoLog(S)),f.deleteShader(S)}o.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),o.createProgram=function(f,p,v){const S=(0,u.throwIfFalsy)(f.createProgram());if(f.attachShader(S,(0,u.throwIfFalsy)(d(f,f.VERTEX_SHADER,p))),f.attachShader(S,(0,u.throwIfFalsy)(d(f,f.FRAGMENT_SHADER,v))),f.linkProgram(S),f.getProgramParameter(S,f.LINK_STATUS))return S;console.error(f.getProgramInfoLog(S)),f.deleteProgram(S)},o.createShader=d,o.expandFloat32Array=function(f,p){const v=Math.min(2*f.length,p),S=new Float32Array(v);for(let x=0;x<f.length;x++)S[x]=f[x];return S},o.GLTexture=class{constructor(f){this.texture=f,this.version=-1}}},592:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseRenderLayer=void 0;const u=l(627),d=l(237),f=l(374),p=l(859);class v extends p.Disposable{constructor(x,m,y,b,_,P,T,C){super(),this._container=m,this._alpha=_,this._coreBrowserService=P,this._optionsService=T,this._themeService=C,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${y}-layer`),this._canvas.style.zIndex=b.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors(R=>{this._refreshCharAtlas(x,R),this.reset(x)})),this.register((0,p.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,f.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(x){}handleFocus(x){}handleCursorMove(x){}handleGridChanged(x,m,y){}handleSelectionChanged(x,m,y,b=!1){}_setTransparency(x,m){if(m===this._alpha)return;const y=this._canvas;this._alpha=m,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,y),this._refreshCharAtlas(x,this._themeService.colors),this.handleGridChanged(x,0,x.rows-1)}_refreshCharAtlas(x,m){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,u.acquireTextureAtlas)(x,this._optionsService.rawOptions,m,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(x,m){this._deviceCellWidth=m.device.cell.width,this._deviceCellHeight=m.device.cell.height,this._deviceCharWidth=m.device.char.width,this._deviceCharHeight=m.device.char.height,this._deviceCharLeft=m.device.char.left,this._deviceCharTop=m.device.char.top,this._canvas.width=m.device.canvas.width,this._canvas.height=m.device.canvas.height,this._canvas.style.width=`${m.css.canvas.width}px`,this._canvas.style.height=`${m.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(x,this._themeService.colors)}_fillBottomLineAtCells(x,m,y=1){this._ctx.fillRect(x*this._deviceCellWidth,(m+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,y*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(x,m,y,b){this._alpha?this._ctx.clearRect(x*this._deviceCellWidth,m*this._deviceCellHeight,y*this._deviceCellWidth,b*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(x*this._deviceCellWidth,m*this._deviceCellHeight,y*this._deviceCellWidth,b*this._deviceCellHeight))}_fillCharTrueColor(x,m,y,b){this._ctx.font=this._getFont(x,!1,!1),this._ctx.textBaseline=d.TEXT_BASELINE,this._clipCell(y,b,m.getWidth()),this._ctx.fillText(m.getChars(),y*this._deviceCellWidth+this._deviceCharLeft,b*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(x,m,y){this._ctx.beginPath(),this._ctx.rect(x*this._deviceCellWidth,m*this._deviceCellHeight,y*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(x,m,y){return`${y?"italic":""} ${m?x.options.fontWeightBold:x.options.fontWeight} ${x.options.fontSize*this._coreBrowserService.dpr}px ${x.options.fontFamily}`}}o.BaseRenderLayer=v},733:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkRenderLayer=void 0;const u=l(197),d=l(237),f=l(592);class p extends f.BaseRenderLayer{constructor(S,x,m,y,b,_,P){super(m,S,"link",x,!0,b,_,P),this.register(y.onShowLinkUnderline(T=>this._handleShowLinkUnderline(T))),this.register(y.onHideLinkUnderline(T=>this._handleHideLinkUnderline(T)))}resize(S,x){super.resize(S,x),this._state=void 0}reset(S){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const S=this._state.y2-this._state.y1-1;S>0&&this._clearCells(0,this._state.y1+1,this._state.cols,S),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(S){if(S.fg===d.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:S.fg!==void 0&&(0,u.is256Color)(S.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[S.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,S.y1===S.y2)this._fillBottomLineAtCells(S.x1,S.y1,S.x2-S.x1);else{this._fillBottomLineAtCells(S.x1,S.y1,S.cols-S.x1);for(let x=S.y1+1;x<S.y2;x++)this._fillBottomLineAtCells(0,x,S.cols);this._fillBottomLineAtCells(0,S.y2,S.x2)}this._state=S}_handleHideLinkUnderline(S){this._clearCurrentLink()}}o.LinkRenderLayer=p},820:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,u,d,f){l.addEventListener(u,d,f);let p=!1;return{dispose:()=>{p||(p=!0,l.removeEventListener(u,d,f))}}}},274:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellColorResolver=void 0;const u=l(855),d=l(160),f=l(374);let p,v=0,S=0,x=!1,m=!1,y=!1,b=0;o.CellColorResolver=class{constructor(_,P,T,C,R,k){this._terminal=_,this._optionService=P,this._selectionRenderModel=T,this._decorationService=C,this._coreBrowserService=R,this._themeService=k,this.result={fg:0,bg:0,ext:0}}resolve(_,P,T,C){if(this.result.bg=_.bg,this.result.fg=_.fg,this.result.ext=268435456&_.bg?_.extended.ext:0,S=0,v=0,m=!1,x=!1,y=!1,p=this._themeService.colors,b=0,_.getCode()!==u.NULL_CELL_CODE&&_.extended.underlineStyle===4){const R=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));b=P*C%(2*Math.round(R))}if(this._decorationService.forEachDecorationAtCell(P,T,"bottom",R=>{R.backgroundColorRGB&&(S=R.backgroundColorRGB.rgba>>8&16777215,m=!0),R.foregroundColorRGB&&(v=R.foregroundColorRGB.rgba>>8&16777215,x=!0)}),y=this._selectionRenderModel.isCellSelected(this._terminal,P,T),y){if(67108864&this.result.fg||(50331648&this.result.bg)!=0){if(67108864&this.result.fg)switch(50331648&this.result.fg){case 16777216:case 33554432:S=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:S=(16777215&this.result.fg)<<8|255;break;default:S=this._themeService.colors.foreground.rgba}else switch(50331648&this.result.bg){case 16777216:case 33554432:S=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:S=(16777215&this.result.bg)<<8|255}S=d.rgba.blend(S,4294967040&(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}else S=(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(m=!0,p.selectionForeground&&(v=p.selectionForeground.rgba>>8&16777215,x=!0),(0,f.treatGlyphAsBackgroundColor)(_.getCode())){if(67108864&this.result.fg&&(50331648&this.result.bg)==0)v=(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(67108864&this.result.fg)switch(50331648&this.result.bg){case 16777216:case 33554432:v=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:v=(16777215&this.result.bg)<<8|255}else switch(50331648&this.result.fg){case 16777216:case 33554432:v=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:v=(16777215&this.result.fg)<<8|255;break;default:v=this._themeService.colors.foreground.rgba}v=d.rgba.blend(v,4294967040&(this._coreBrowserService.isFocused?p.selectionBackgroundOpaque:p.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}x=!0}}this._decorationService.forEachDecorationAtCell(P,T,"top",R=>{R.backgroundColorRGB&&(S=R.backgroundColorRGB.rgba>>8&16777215,m=!0),R.foregroundColorRGB&&(v=R.foregroundColorRGB.rgba>>8&16777215,x=!0)}),m&&(S=y?-16777216&_.bg&-134217729|S|50331648:-16777216&_.bg|S|50331648),x&&(v=-16777216&_.fg&-67108865|v|50331648),67108864&this.result.fg&&(m&&!x&&(v=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&p.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,x=!0),!m&&x&&(S=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&p.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,m=!0)),p=void 0,this.result.bg=m?S:this.result.bg,this.result.fg=x?v:this.result.fg,this.result.ext&=536870911,this.result.ext|=b<<29&3758096384}}},627:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.removeTerminalFromCache=o.acquireTextureAtlas=void 0;const u=l(509),d=l(197),f=[];o.acquireTextureAtlas=function(p,v,S,x,m,y,b,_){const P=(0,d.generateConfig)(x,m,y,b,v,S,_);for(let R=0;R<f.length;R++){const k=f[R],E=k.ownedBy.indexOf(p);if(E>=0){if((0,d.configEquals)(k.config,P))return k.atlas;k.ownedBy.length===1?(k.atlas.dispose(),f.splice(R,1)):k.ownedBy.splice(E,1);break}}for(let R=0;R<f.length;R++){const k=f[R];if((0,d.configEquals)(k.config,P))return k.ownedBy.push(p),k.atlas}const T=p._core,C={atlas:new u.TextureAtlas(document,P,T.unicodeService),config:P,ownedBy:[p]};return f.push(C),C.atlas},o.removeTerminalFromCache=function(p){for(let v=0;v<f.length;v++){const S=f[v].ownedBy.indexOf(p);if(S!==-1){f[v].ownedBy.length===1?(f[v].atlas.dispose(),f.splice(v,1)):f[v].ownedBy.splice(S,1);break}}}},197:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.is256Color=o.configEquals=o.generateConfig=void 0;const u=l(160);o.generateConfig=function(d,f,p,v,S,x,m){const y={foreground:x.foreground,background:x.background,cursor:u.NULL_COLOR,cursorAccent:u.NULL_COLOR,selectionForeground:u.NULL_COLOR,selectionBackgroundTransparent:u.NULL_COLOR,selectionBackgroundOpaque:u.NULL_COLOR,selectionInactiveBackgroundTransparent:u.NULL_COLOR,selectionInactiveBackgroundOpaque:u.NULL_COLOR,ansi:x.ansi.slice(),contrastCache:x.contrastCache,halfContrastCache:x.halfContrastCache};return{customGlyphs:S.customGlyphs,devicePixelRatio:m,letterSpacing:S.letterSpacing,lineHeight:S.lineHeight,deviceCellWidth:d,deviceCellHeight:f,deviceCharWidth:p,deviceCharHeight:v,fontFamily:S.fontFamily,fontSize:S.fontSize,fontWeight:S.fontWeight,fontWeightBold:S.fontWeightBold,allowTransparency:S.allowTransparency,drawBoldTextInBrightColors:S.drawBoldTextInBrightColors,minimumContrastRatio:S.minimumContrastRatio,colors:y}},o.configEquals=function(d,f){for(let p=0;p<d.colors.ansi.length;p++)if(d.colors.ansi[p].rgba!==f.colors.ansi[p].rgba)return!1;return d.devicePixelRatio===f.devicePixelRatio&&d.customGlyphs===f.customGlyphs&&d.lineHeight===f.lineHeight&&d.letterSpacing===f.letterSpacing&&d.fontFamily===f.fontFamily&&d.fontSize===f.fontSize&&d.fontWeight===f.fontWeight&&d.fontWeightBold===f.fontWeightBold&&d.allowTransparency===f.allowTransparency&&d.deviceCharWidth===f.deviceCharWidth&&d.deviceCharHeight===f.deviceCharHeight&&d.drawBoldTextInBrightColors===f.drawBoldTextInBrightColors&&d.minimumContrastRatio===f.minimumContrastRatio&&d.colors.foreground.rgba===f.colors.foreground.rgba&&d.colors.background.rgba===f.colors.background.rgba},o.is256Color=function(d){return(50331648&d)==16777216||(50331648&d)==33554432}},237:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const u=l(399);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},457:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CursorBlinkStateManager=void 0,o.CursorBlinkStateManager=class{constructor(l,u){this._renderCallback=l,this._coreBrowserService=u,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(l=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const u=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,u>0)return void this._restartInterval(u)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const u=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(u)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},l)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tryDrawCustomChar=o.powerlineDefinitions=o.boxDrawingDefinitions=o.blockElementDefinitions=void 0;const u=l(374);o.blockElementDefinitions={"":[{x:0,y:0,w:8,h:4}],"":[{x:0,y:7,w:8,h:1}],"":[{x:0,y:6,w:8,h:2}],"":[{x:0,y:5,w:8,h:3}],"":[{x:0,y:4,w:8,h:4}],"":[{x:0,y:3,w:8,h:5}],"":[{x:0,y:2,w:8,h:6}],"":[{x:0,y:1,w:8,h:7}],"":[{x:0,y:0,w:8,h:8}],"":[{x:0,y:0,w:7,h:8}],"":[{x:0,y:0,w:6,h:8}],"":[{x:0,y:0,w:5,h:8}],"":[{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:3,h:8}],"":[{x:0,y:0,w:2,h:8}],"":[{x:0,y:0,w:1,h:8}],"":[{x:4,y:0,w:4,h:8}],"":[{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8}],"":[{x:0,y:4,w:4,h:4}],"":[{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"":[{x:4,y:0,w:4,h:4}],"":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:1,y:0,w:1,h:8}],"":[{x:2,y:0,w:1,h:8}],"":[{x:3,y:0,w:1,h:8}],"":[{x:4,y:0,w:1,h:8}],"":[{x:5,y:0,w:1,h:8}],"":[{x:6,y:0,w:1,h:8}],"":[{x:0,y:1,w:8,h:1}],"":[{x:0,y:2,w:8,h:1}],"":[{x:0,y:3,w:8,h:1}],"":[{x:0,y:4,w:8,h:1}],"":[{x:0,y:5,w:8,h:1}],"":[{x:0,y:6,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:2}],"":[{x:0,y:0,w:8,h:3}],"":[{x:0,y:0,w:8,h:5}],"":[{x:0,y:0,w:8,h:6}],"":[{x:0,y:0,w:8,h:7}],"":[{x:6,y:0,w:2,h:8}],"":[{x:5,y:0,w:3,h:8}],"":[{x:3,y:0,w:5,h:8}],"":[{x:2,y:0,w:6,h:8}],"":[{x:1,y:0,w:7,h:8}],"":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const d={"":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"":[[1,0],[0,0],[0,1],[0,0]],"":[[0,1],[1,1],[1,0],[1,1]]};o.boxDrawingDefinitions={"":{1:"M0,.5 L1,.5"},"":{3:"M0,.5 L1,.5"},"":{1:"M.5,0 L.5,1"},"":{3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5"},"":{3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M0,.5 L.5,.5 L.5,1"},"":{3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L1,.5"},"":{3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L0,.5"},"":{3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{1:"M.5,.5 L0,.5"},"":{3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0"},"":{3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5"},"":{3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1"},"":{3:"M.5,.5 L.5,1"},"":{1:(x,m)=>`M0,${.5-m} L1,${.5-m} M0,${.5+m} L1,${.5+m}`},"":{1:(x,m)=>`M${.5-x},0 L${.5-x},1 M${.5+x},0 L${.5+x},1`},"":{1:(x,m)=>`M.5,1 L.5,${.5-m} L1,${.5-m} M.5,${.5+m} L1,${.5+m}`},"":{1:(x,m)=>`M${.5-x},1 L${.5-x},.5 L1,.5 M${.5+x},.5 L${.5+x},1`},"":{1:(x,m)=>`M1,${.5-m} L${.5-x},${.5-m} L${.5-x},1 M1,${.5+m} L${.5+x},${.5+m} L${.5+x},1`},"":{1:(x,m)=>`M0,${.5-m} L.5,${.5-m} L.5,1 M0,${.5+m} L.5,${.5+m}`},"":{1:(x,m)=>`M${.5+x},1 L${.5+x},.5 L0,.5 M${.5-x},.5 L${.5-x},1`},"":{1:(x,m)=>`M0,${.5+m} L${.5-x},${.5+m} L${.5-x},1 M0,${.5-m} L${.5+x},${.5-m} L${.5+x},1`},"":{1:(x,m)=>`M.5,0 L.5,${.5+m} L1,${.5+m} M.5,${.5-m} L1,${.5-m}`},"":{1:(x,m)=>`M1,.5 L${.5-x},.5 L${.5-x},0 M${.5+x},.5 L${.5+x},0`},"":{1:(x,m)=>`M1,${.5-m} L${.5+x},${.5-m} L${.5+x},0 M1,${.5+m} L${.5-x},${.5+m} L${.5-x},0`},"":{1:(x,m)=>`M0,${.5+m} L.5,${.5+m} L.5,0 M0,${.5-m} L.5,${.5-m}`},"":{1:(x,m)=>`M0,.5 L${.5+x},.5 L${.5+x},0 M${.5-x},.5 L${.5-x},0`},"":{1:(x,m)=>`M0,${.5-m} L${.5-x},${.5-m} L${.5-x},0 M0,${.5+m} L${.5+x},${.5+m} L${.5+x},0`},"":{1:(x,m)=>`M.5,0 L.5,1 M.5,${.5-m} L1,${.5-m} M.5,${.5+m} L1,${.5+m}`},"":{1:(x,m)=>`M${.5-x},0 L${.5-x},1 M${.5+x},0 L${.5+x},1 M${.5+x},.5 L1,.5`},"":{1:(x,m)=>`M${.5-x},0 L${.5-x},1 M1,${.5+m} L${.5+x},${.5+m} L${.5+x},1 M1,${.5-m} L${.5+x},${.5-m} L${.5+x},0`},"":{1:(x,m)=>`M.5,0 L.5,1 M0,${.5-m} L.5,${.5-m} M0,${.5+m} L.5,${.5+m}`},"":{1:(x,m)=>`M0,.5 L${.5-x},.5 M${.5-x},0 L${.5-x},1 M${.5+x},0 L${.5+x},1`},"":{1:(x,m)=>`M${.5+x},0 L${.5+x},1 M0,${.5+m} L${.5-x},${.5+m} L${.5-x},1 M0,${.5-m} L${.5-x},${.5-m} L${.5-x},0`},"":{1:(x,m)=>`M0,${.5-m} L1,${.5-m} M0,${.5+m} L1,${.5+m} M.5,${.5+m} L.5,1`},"":{1:(x,m)=>`M0,.5 L1,.5 M${.5-x},.5 L${.5-x},1 M${.5+x},.5 L${.5+x},1`},"":{1:(x,m)=>`M0,${.5-m} L1,${.5-m} M0,${.5+m} L${.5-x},${.5+m} L${.5-x},1 M1,${.5+m} L${.5+x},${.5+m} L${.5+x},1`},"":{1:(x,m)=>`M.5,0 L.5,${.5-m} M0,${.5-m} L1,${.5-m} M0,${.5+m} L1,${.5+m}`},"":{1:(x,m)=>`M0,.5 L1,.5 M${.5-x},.5 L${.5-x},0 M${.5+x},.5 L${.5+x},0`},"":{1:(x,m)=>`M0,${.5+m} L1,${.5+m} M0,${.5-m} L${.5-x},${.5-m} L${.5-x},0 M1,${.5-m} L${.5+x},${.5-m} L${.5+x},0`},"":{1:(x,m)=>`M.5,0 L.5,1 M0,${.5-m} L1,${.5-m} M0,${.5+m} L1,${.5+m}`},"":{1:(x,m)=>`M0,.5 L1,.5 M${.5-x},0 L${.5-x},1 M${.5+x},0 L${.5+x},1`},"":{1:(x,m)=>`M0,${.5+m} L${.5-x},${.5+m} L${.5-x},1 M1,${.5+m} L${.5+x},${.5+m} L${.5+x},1 M0,${.5-m} L${.5-x},${.5-m} L${.5-x},0 M1,${.5-m} L${.5+x},${.5-m} L${.5+x},0`},"":{1:"M1,0 L0,1"},"":{1:"M0,0 L1,1"},"":{1:"M1,0 L0,1 M0,0 L1,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{1:(x,m)=>`M.5,1 L.5,${.5+m/.15*.5} C.5,${.5+m/.15*.5},.5,.5,1,.5`},"":{1:(x,m)=>`M.5,1 L.5,${.5+m/.15*.5} C.5,${.5+m/.15*.5},.5,.5,0,.5`},"":{1:(x,m)=>`M.5,0 L.5,${.5-m/.15*.5} C.5,${.5-m/.15*.5},.5,.5,0,.5`},"":{1:(x,m)=>`M.5,0 L.5,${.5-m/.15*.5} C.5,${.5-m/.15*.5},.5,.5,1,.5`}},o.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},o.powerlineDefinitions[""]=o.powerlineDefinitions[""],o.powerlineDefinitions[""]=o.powerlineDefinitions[""],o.tryDrawCustomChar=function(x,m,y,b,_,P,T,C){const R=o.blockElementDefinitions[m];if(R)return function(D,A,N,q,V,K){for(let Y=0;Y<A.length;Y++){const L=A[Y],z=V/8,M=K/8;D.fillRect(N+L.x*z,q+L.y*M,L.w*z,L.h*M)}}(x,R,y,b,_,P),!0;const k=d[m];if(k)return function(D,A,N,q,V,K){let Y=f.get(A);Y||(Y=new Map,f.set(A,Y));const L=D.fillStyle;if(typeof L!="string")throw new Error(`Unexpected fillStyle type "${L}"`);let z=Y.get(L);if(!z){const M=A[0].length,I=A.length,U=D.canvas.ownerDocument.createElement("canvas");U.width=M,U.height=I;const W=(0,u.throwIfFalsy)(U.getContext("2d")),se=new ImageData(M,I);let le,ae,B,ee;if(L.startsWith("#"))le=parseInt(L.slice(1,3),16),ae=parseInt(L.slice(3,5),16),B=parseInt(L.slice(5,7),16),ee=L.length>7&&parseInt(L.slice(7,9),16)||1;else{if(!L.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${L}" when drawing pattern glyph`);[le,ae,B,ee]=L.substring(5,L.length-1).split(",").map(ie=>parseFloat(ie))}for(let ie=0;ie<I;ie++)for(let G=0;G<M;G++)se.data[4*(ie*M+G)]=le,se.data[4*(ie*M+G)+1]=ae,se.data[4*(ie*M+G)+2]=B,se.data[4*(ie*M+G)+3]=A[ie][G]*(255*ee);W.putImageData(se,0,0),z=(0,u.throwIfFalsy)(D.createPattern(U,null)),Y.set(L,z)}D.fillStyle=z,D.fillRect(N,q,V,K)}(x,k,y,b,_,P),!0;const E=o.boxDrawingDefinitions[m];if(E)return function(D,A,N,q,V,K,Y){D.strokeStyle=D.fillStyle;for(const[L,z]of Object.entries(A)){let M;D.beginPath(),D.lineWidth=Y*Number.parseInt(L),M=typeof z=="function"?z(.15,.15/K*V):z;for(const I of M.split(" ")){const U=I[0],W=v[U];if(!W){console.error(`Could not find drawing instructions for "${U}"`);continue}const se=I.substring(1).split(",");se[0]&&se[1]&&W(D,S(se,V,K,N,q,!0,Y))}D.stroke(),D.closePath()}}(x,E,y,b,_,P,C),!0;const $=o.powerlineDefinitions[m];return!!$&&(function(D,A,N,q,V,K,Y,L){const z=new Path2D;z.rect(N,q,V,K),D.clip(z),D.beginPath();const M=Y/12;D.lineWidth=L*M;for(const I of A.d.split(" ")){const U=I[0],W=v[U];if(!W){console.error(`Could not find drawing instructions for "${U}"`);continue}const se=I.substring(1).split(",");se[0]&&se[1]&&W(D,S(se,V,K,N,q,!1,L,(A.leftPadding??0)*(M/2),(A.rightPadding??0)*(M/2)))}A.type===1?(D.strokeStyle=D.fillStyle,D.stroke()):D.fill(),D.closePath()}(x,$,y,b,_,P,T,C),!0)};const f=new Map;function p(x,m,y=0){return Math.max(Math.min(x,m),y)}const v={C:(x,m)=>x.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]),L:(x,m)=>x.lineTo(m[0],m[1]),M:(x,m)=>x.moveTo(m[0],m[1])};function S(x,m,y,b,_,P,T,C=0,R=0){const k=x.map(E=>parseFloat(E)||parseInt(E));if(k.length<2)throw new Error("Too few arguments for instruction");for(let E=0;E<k.length;E+=2)k[E]*=m-C*T-R*T,P&&k[E]!==0&&(k[E]=p(Math.round(k[E]+.5)-.5,m,0)),k[E]+=b+C*T;for(let E=1;E<k.length;E+=2)k[E]*=y,P&&k[E]!==0&&(k[E]=p(Math.round(k[E]+.5)-.5,y,0)),k[E]+=_;return k}},56:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.observeDevicePixelDimensions=void 0;const u=l(859);o.observeDevicePixelDimensions=function(d,f,p){let v=new f.ResizeObserver(S=>{const x=S.find(b=>b.target===d);if(!x)return;if(!("devicePixelContentBoxSize"in x))return v?.disconnect(),void(v=void 0);const m=x.devicePixelContentBoxSize[0].inlineSize,y=x.devicePixelContentBoxSize[0].blockSize;m>0&&y>0&&p(m,y)});try{v.observe(d,{box:["device-pixel-content-box"]})}catch{v.disconnect(),v=void 0}return(0,u.toDisposable)(()=>v?.disconnect())}},374:(a,o)=>{function l(d){return 57508<=d&&d<=57558}function u(d){return d>=128512&&d<=128591||d>=127744&&d<=128511||d>=128640&&d<=128767||d>=9728&&d<=9983||d>=9984&&d<=10175||d>=65024&&d<=65039||d>=129280&&d<=129535||d>=127462&&d<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},o.isEmoji=u,o.allowRescaling=function(d,f,p,v){return f===1&&p>Math.ceil(1.5*v)&&d!==void 0&&d>255&&!u(d)&&!l(d)&&!function(S){return 57344<=S&&S<=63743}(d)},o.treatGlyphAsBackgroundColor=function(d){return l(d)||function(f){return 9472<=f&&f<=9631}(d)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(d,f,p=0){return(d-(2*Math.round(f)-p))%(2*Math.round(f))}},296:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(d,f,p,v=!1){if(this.selectionStart=f,this.selectionEnd=p,!f||!p||f[0]===p[0]&&f[1]===p[1])return void this.clear();const S=d.buffers.active.ydisp,x=f[1]-S,m=p[1]-S,y=Math.max(x,0),b=Math.min(m,d.rows-1);y>=d.rows||b<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=v,this.viewportStartRow=x,this.viewportEndRow=m,this.viewportCappedStartRow=y,this.viewportCappedEndRow=b,this.startCol=f[0],this.endCol=p[0])}isCellSelected(d,f,p){return!!this.hasSelection&&(p-=d.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?f>=this.startCol&&p>=this.viewportCappedStartRow&&f<this.endCol&&p<=this.viewportCappedEndRow:f<this.startCol&&p>=this.viewportCappedStartRow&&f>=this.endCol&&p<=this.viewportCappedEndRow:p>this.viewportStartRow&&p<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&p===this.viewportStartRow&&f>=this.startCol&&f<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportEndRow&&f<this.endCol||this.viewportStartRow<this.viewportEndRow&&p===this.viewportStartRow&&f>=this.startCol)}}o.createSelectionRenderModel=function(){return new l}},509:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextureAtlas=void 0;const u=l(237),d=l(860),f=l(374),p=l(160),v=l(345),S=l(485),x=l(385),m=l(147),y=l(855),b={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let _;class P{get pages(){return this._pages}constructor(E,$,D){this._document=E,this._config=$,this._unicodeService=D,this._didWarmUp=!1,this._cacheMap=new S.FourKeyMap,this._cacheMapCombined=new S.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new m.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new v.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new v.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=R(E,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,f.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const E of this.pages)E.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const E=new x.IdleTaskQueue;for(let $=33;$<126;$++)E.enqueue(()=>{if(!this._cacheMap.get($,y.DEFAULT_COLOR,y.DEFAULT_COLOR,y.DEFAULT_EXT)){const D=this._drawToCache($,y.DEFAULT_COLOR,y.DEFAULT_COLOR,y.DEFAULT_EXT);this._cacheMap.set($,y.DEFAULT_COLOR,y.DEFAULT_COLOR,y.DEFAULT_EXT,D)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(const E of this._pages)E.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(P.maxAtlasPages&&this._pages.length>=Math.max(4,P.maxAtlasPages)){const $=this._pages.filter(Y=>2*Y.canvas.width<=(P.maxTextureSize||4096)).sort((Y,L)=>L.canvas.width!==Y.canvas.width?L.canvas.width-Y.canvas.width:L.percentageUsed-Y.percentageUsed);let D=-1,A=0;for(let Y=0;Y<$.length;Y++)if($[Y].canvas.width!==A)D=Y,A=$[Y].canvas.width;else if(Y-D==3)break;const N=$.slice(D,D+4),q=N.map(Y=>Y.glyphs[0].texturePage).sort((Y,L)=>Y>L?1:-1),V=this.pages.length-N.length,K=this._mergePages(N,V);K.version++;for(let Y=q.length-1;Y>=0;Y--)this._deletePage(q[Y]);this.pages.push(K),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(K.canvas)}const E=new T(this._document,this._textureSize);return this._pages.push(E),this._activePages.push(E),this._onAddTextureAtlasCanvas.fire(E.canvas),E}_mergePages(E,$){const D=2*E[0].canvas.width,A=new T(this._document,D,E);for(const[N,q]of E.entries()){const V=N*q.canvas.width%D,K=Math.floor(N/2)*q.canvas.height;A.ctx.drawImage(q.canvas,V,K);for(const L of q.glyphs)L.texturePage=$,L.sizeClipSpace.x=L.size.x/D,L.sizeClipSpace.y=L.size.y/D,L.texturePosition.x+=V,L.texturePosition.y+=K,L.texturePositionClipSpace.x=L.texturePosition.x/D,L.texturePositionClipSpace.y=L.texturePosition.y/D;this._onRemoveTextureAtlasCanvas.fire(q.canvas);const Y=this._activePages.indexOf(q);Y!==-1&&this._activePages.splice(Y,1)}return A}_deletePage(E){this._pages.splice(E,1);for(let $=E;$<this._pages.length;$++){const D=this._pages[$];for(const A of D.glyphs)A.texturePage--;D.version++}}getRasterizedGlyphCombinedChar(E,$,D,A,N){return this._getFromCacheMap(this._cacheMapCombined,E,$,D,A,N)}getRasterizedGlyph(E,$,D,A,N){return this._getFromCacheMap(this._cacheMap,E,$,D,A,N)}_getFromCacheMap(E,$,D,A,N,q=!1){return _=E.get($,D,A,N),_||(_=this._drawToCache($,D,A,N,q),E.set($,D,A,N,_)),_}_getColorFromAnsiIndex(E){if(E>=this._config.colors.ansi.length)throw new Error("No color found for idx "+E);return this._config.colors.ansi[E]}_getBackgroundColor(E,$,D,A){if(this._config.allowTransparency)return p.NULL_COLOR;let N;switch(E){case 16777216:case 33554432:N=this._getColorFromAnsiIndex($);break;case 50331648:const q=m.AttributeData.toColorRGB($);N=p.channels.toColor(q[0],q[1],q[2]);break;default:N=D?p.color.opaque(this._config.colors.foreground):this._config.colors.background}return N}_getForegroundColor(E,$,D,A,N,q,V,K,Y,L){const z=this._getMinimumContrastColor(E,$,D,A,N,q,V,Y,K,L);if(z)return z;let M;switch(N){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&Y&&q<8&&(q+=8),M=this._getColorFromAnsiIndex(q);break;case 50331648:const I=m.AttributeData.toColorRGB(q);M=p.channels.toColor(I[0],I[1],I[2]);break;default:M=V?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(M=p.color.opaque(M)),K&&(M=p.color.multiplyOpacity(M,u.DIM_OPACITY)),M}_resolveBackgroundRgba(E,$,D){switch(E){case 16777216:case 33554432:return this._getColorFromAnsiIndex($).rgba;case 50331648:return $<<8;default:return D?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(E,$,D,A){switch(E){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&A&&$<8&&($+=8),this._getColorFromAnsiIndex($).rgba;case 50331648:return $<<8;default:return D?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(E,$,D,A,N,q,V,K,Y,L){if(this._config.minimumContrastRatio===1||L)return;const z=this._getContrastCache(Y),M=z.getColor(E,A);if(M!==void 0)return M||void 0;const I=this._resolveBackgroundRgba($,D,V),U=this._resolveForegroundRgba(N,q,V,K),W=p.rgba.ensureContrastRatio(I,U,this._config.minimumContrastRatio/(Y?2:1));if(!W)return void z.setColor(E,A,null);const se=p.channels.toColor(W>>24&255,W>>16&255,W>>8&255);return z.setColor(E,A,se),se}_getContrastCache(E){return E?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(E,$,D,A,N=!1){const q=typeof E=="number"?String.fromCharCode(E):E,V=Math.min(this._config.deviceCellWidth*Math.max(q.length,2)+4,this._textureSize);this._tmpCanvas.width<V&&(this._tmpCanvas.width=V);const K=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<K&&(this._tmpCanvas.height=K),this._tmpCtx.save(),this._workAttributeData.fg=D,this._workAttributeData.bg=$,this._workAttributeData.extended.ext=A,this._workAttributeData.isInvisible())return b;const Y=!!this._workAttributeData.isBold(),L=!!this._workAttributeData.isInverse(),z=!!this._workAttributeData.isDim(),M=!!this._workAttributeData.isItalic(),I=!!this._workAttributeData.isUnderline(),U=!!this._workAttributeData.isStrikethrough(),W=!!this._workAttributeData.isOverline();let se=this._workAttributeData.getFgColor(),le=this._workAttributeData.getFgColorMode(),ae=this._workAttributeData.getBgColor(),B=this._workAttributeData.getBgColorMode();if(L){const Qe=se;se=ae,ae=Qe;const ve=le;le=B,B=ve}const ee=this._getBackgroundColor(B,ae,L,z);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=ee.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const ie=Y?this._config.fontWeightBold:this._config.fontWeight,G=M?"italic":"";this._tmpCtx.font=`${G} ${ie} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=u.TEXT_BASELINE;const me=q.length===1&&(0,f.isPowerlineGlyph)(q.charCodeAt(0)),be=q.length===1&&(0,f.isRestrictedPowerlineGlyph)(q.charCodeAt(0)),Ie=this._getForegroundColor($,B,ae,D,le,se,L,z,Y,(0,f.treatGlyphAsBackgroundColor)(q.charCodeAt(0)));this._tmpCtx.fillStyle=Ie.css;const qe=be?0:4;let st=!1;this._config.customGlyphs!==!1&&(st=(0,d.tryDrawCustomChar)(this._tmpCtx,q,qe,qe,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let _e,Se=!me;if(_e=typeof E=="number"?this._unicodeService.wcwidth(E):this._unicodeService.getStringCellWidth(E),I){this._tmpCtx.save();const Qe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ve=Qe%2==1?.5:0;if(this._tmpCtx.lineWidth=Qe,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())Se=!1,this._tmpCtx.strokeStyle=`rgb(${m.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{Se=!1;let H=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&H<8&&(H+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(H).css}this._tmpCtx.beginPath();const Pe=qe,oe=Math.ceil(qe+this._config.deviceCharHeight)-ve-(N?2*Qe:0),xe=oe+Qe,je=oe+2*Qe;let te=this._workAttributeData.getUnderlineVariantOffset();for(let H=0;H<_e;H++){this._tmpCtx.save();const de=Pe+H*this._config.deviceCellWidth,Oe=Pe+(H+1)*this._config.deviceCellWidth,pe=de+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(de,oe),this._tmpCtx.lineTo(Oe,oe),this._tmpCtx.moveTo(de,je),this._tmpCtx.lineTo(Oe,je);break;case 3:const ot=Qe<=1?je:Math.ceil(qe+this._config.deviceCharHeight-Qe/2)-ve,Pt=Qe<=1?oe:Math.ceil(qe+this._config.deviceCharHeight+Qe/2)-ve,Qt=new Path2D;Qt.rect(de,oe,this._config.deviceCellWidth,je-oe),this._tmpCtx.clip(Qt),this._tmpCtx.moveTo(de-this._config.deviceCellWidth/2,xe),this._tmpCtx.bezierCurveTo(de-this._config.deviceCellWidth/2,Pt,de,Pt,de,xe),this._tmpCtx.bezierCurveTo(de,ot,pe,ot,pe,xe),this._tmpCtx.bezierCurveTo(pe,Pt,Oe,Pt,Oe,xe),this._tmpCtx.bezierCurveTo(Oe,ot,Oe+this._config.deviceCellWidth/2,ot,Oe+this._config.deviceCellWidth/2,xe);break;case 4:const Ot=te===0?0:te>=Qe?2*Qe-te:Qe-te;te>=Qe||Ot===0?(this._tmpCtx.setLineDash([Math.round(Qe),Math.round(Qe)]),this._tmpCtx.moveTo(de+Ot,oe),this._tmpCtx.lineTo(Oe,oe)):(this._tmpCtx.setLineDash([Math.round(Qe),Math.round(Qe)]),this._tmpCtx.moveTo(de,oe),this._tmpCtx.lineTo(de+Ot,oe),this._tmpCtx.moveTo(de+Ot+Qe,oe),this._tmpCtx.lineTo(Oe,oe)),te=(0,f.computeNextVariantOffset)(Oe-de,Qe,te);break;case 5:const Lt=.6,ji=.3,Ni=Oe-de,Sr=Math.floor(Lt*Ni),Zr=Math.floor(ji*Ni),Yi=Ni-Sr-Zr;this._tmpCtx.setLineDash([Sr,Zr,Yi]),this._tmpCtx.moveTo(de,oe),this._tmpCtx.lineTo(Oe,oe);break;default:this._tmpCtx.moveTo(de,oe),this._tmpCtx.lineTo(Oe,oe)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!st&&this._config.fontSize>=12&&!this._config.allowTransparency&&q!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const H=this._tmpCtx.measureText(q);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in H&&H.actualBoundingBoxDescent>0){this._tmpCtx.save();const de=new Path2D;de.rect(Pe,oe-Math.ceil(Qe/2),this._config.deviceCellWidth*_e,je-oe+Math.ceil(Qe/2)),this._tmpCtx.clip(de),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=ee.css,this._tmpCtx.strokeText(q,qe,qe+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(W){const Qe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ve=Qe%2==1?.5:0;this._tmpCtx.lineWidth=Qe,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(qe,qe+ve),this._tmpCtx.lineTo(qe+this._config.deviceCharWidth*_e,qe+ve),this._tmpCtx.stroke()}if(st||this._tmpCtx.fillText(q,qe,qe+this._config.deviceCharHeight),q==="_"&&!this._config.allowTransparency){let Qe=C(this._tmpCtx.getImageData(qe,qe,this._config.deviceCellWidth,this._config.deviceCellHeight),ee,Ie,Se);if(Qe)for(let ve=1;ve<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=ee.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(q,qe,qe+this._config.deviceCharHeight-ve),Qe=C(this._tmpCtx.getImageData(qe,qe,this._config.deviceCellWidth,this._config.deviceCellHeight),ee,Ie,Se),Qe);ve++);}if(U){const Qe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ve=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=Qe,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(qe,qe+Math.floor(this._config.deviceCharHeight/2)-ve),this._tmpCtx.lineTo(qe+this._config.deviceCharWidth*_e,qe+Math.floor(this._config.deviceCharHeight/2)-ve),this._tmpCtx.stroke()}this._tmpCtx.restore();const Ee=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let et;if(et=this._config.allowTransparency?function(Qe){for(let ve=0;ve<Qe.data.length;ve+=4)if(Qe.data[ve+3]>0)return!1;return!0}(Ee):C(Ee,ee,Ie,Se),et)return b;const Be=this._findGlyphBoundingBox(Ee,this._workBoundingBox,V,be,st,qe);let Xe,$e;for(;;){if(this._activePages.length===0){const Qe=this._createNewPage();Xe=Qe,$e=Qe.currentRow,$e.height=Be.size.y;break}Xe=this._activePages[this._activePages.length-1],$e=Xe.currentRow;for(const Qe of this._activePages)Be.size.y<=Qe.currentRow.height&&(Xe=Qe,$e=Qe.currentRow);for(let Qe=this._activePages.length-1;Qe>=0;Qe--)for(const ve of this._activePages[Qe].fixedRows)ve.height<=$e.height&&Be.size.y<=ve.height&&(Xe=this._activePages[Qe],$e=ve);if($e.y+Be.size.y>=Xe.canvas.height||$e.height>Be.size.y+2){let Qe=!1;if(Xe.currentRow.y+Xe.currentRow.height+Be.size.y>=Xe.canvas.height){let ve;for(const Pe of this._activePages)if(Pe.currentRow.y+Pe.currentRow.height+Be.size.y<Pe.canvas.height){ve=Pe;break}if(ve)Xe=ve;else if(P.maxAtlasPages&&this._pages.length>=P.maxAtlasPages&&$e.y+Be.size.y<=Xe.canvas.height&&$e.height>=Be.size.y&&$e.x+Be.size.x<=Xe.canvas.width)Qe=!0;else{const Pe=this._createNewPage();Xe=Pe,$e=Pe.currentRow,$e.height=Be.size.y,Qe=!0}}Qe||(Xe.currentRow.height>0&&Xe.fixedRows.push(Xe.currentRow),$e={x:0,y:Xe.currentRow.y+Xe.currentRow.height,height:Be.size.y},Xe.fixedRows.push($e),Xe.currentRow={x:0,y:$e.y+$e.height,height:0})}if($e.x+Be.size.x<=Xe.canvas.width)break;$e===Xe.currentRow?($e.x=0,$e.y+=$e.height,$e.height=0):Xe.fixedRows.splice(Xe.fixedRows.indexOf($e),1)}return Be.texturePage=this._pages.indexOf(Xe),Be.texturePosition.x=$e.x,Be.texturePosition.y=$e.y,Be.texturePositionClipSpace.x=$e.x/Xe.canvas.width,Be.texturePositionClipSpace.y=$e.y/Xe.canvas.height,Be.sizeClipSpace.x/=Xe.canvas.width,Be.sizeClipSpace.y/=Xe.canvas.height,$e.height=Math.max($e.height,Be.size.y),$e.x+=Be.size.x,Xe.ctx.putImageData(Ee,Be.texturePosition.x-this._workBoundingBox.left,Be.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,Be.size.x,Be.size.y),Xe.addGlyph(Be),Xe.version++,Be}_findGlyphBoundingBox(E,$,D,A,N,q){$.top=0;const V=A?this._config.deviceCellHeight:this._tmpCanvas.height,K=A?this._config.deviceCellWidth:D;let Y=!1;for(let L=0;L<V;L++){for(let z=0;z<K;z++){const M=L*this._tmpCanvas.width*4+4*z+3;if(E.data[M]!==0){$.top=L,Y=!0;break}}if(Y)break}$.left=0,Y=!1;for(let L=0;L<q+K;L++){for(let z=0;z<V;z++){const M=z*this._tmpCanvas.width*4+4*L+3;if(E.data[M]!==0){$.left=L,Y=!0;break}}if(Y)break}$.right=K,Y=!1;for(let L=q+K-1;L>=q;L--){for(let z=0;z<V;z++){const M=z*this._tmpCanvas.width*4+4*L+3;if(E.data[M]!==0){$.right=L,Y=!0;break}}if(Y)break}$.bottom=V,Y=!1;for(let L=V-1;L>=0;L--){for(let z=0;z<K;z++){const M=L*this._tmpCanvas.width*4+4*z+3;if(E.data[M]!==0){$.bottom=L,Y=!0;break}}if(Y)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:$.right-$.left+1,y:$.bottom-$.top+1},sizeClipSpace:{x:$.right-$.left+1,y:$.bottom-$.top+1},offset:{x:-$.left+q+(A||N?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-$.top+q+(A||N?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}o.TextureAtlas=P;class T{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(E){this._glyphs.push(E),this._usedPixels+=E.size.x*E.size.y}constructor(E,$,D){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],D)for(const A of D)this._glyphs.push(...A.glyphs),this._usedPixels+=A._usedPixels;this.canvas=R(E,$,$),this.ctx=(0,f.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function C(k,E,$,D){const A=E.rgba>>>24,N=E.rgba>>>16&255,q=E.rgba>>>8&255,V=$.rgba>>>24,K=$.rgba>>>16&255,Y=$.rgba>>>8&255,L=Math.floor((Math.abs(A-V)+Math.abs(N-K)+Math.abs(q-Y))/12);let z=!0;for(let M=0;M<k.data.length;M+=4)k.data[M]===A&&k.data[M+1]===N&&k.data[M+2]===q||D&&Math.abs(k.data[M]-A)+Math.abs(k.data[M+1]-N)+Math.abs(k.data[M+2]-q)<L?k.data[M+3]=0:z=!1;return z}function R(k,E,$){const D=k.createElement("canvas");return D.width=E,D.height=$,D}},160:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let l=0,u=0,d=0,f=0;var p,v,S,x,m;function y(_){const P=_.toString(16);return P.length<2?"0"+P:P}function b(_,P){return _<P?(P+.05)/(_+.05):(_+.05)/(P+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(_){_.toCss=function(P,T,C,R){return R!==void 0?`#${y(P)}${y(T)}${y(C)}${y(R)}`:`#${y(P)}${y(T)}${y(C)}`},_.toRgba=function(P,T,C,R=255){return(P<<24|T<<16|C<<8|R)>>>0},_.toColor=function(P,T,C,R){return{css:_.toCss(P,T,C,R),rgba:_.toRgba(P,T,C,R)}}}(p||(o.channels=p={})),function(_){function P(T,C){return f=Math.round(255*C),[l,u,d]=m.toChannels(T.rgba),{css:p.toCss(l,u,d,f),rgba:p.toRgba(l,u,d,f)}}_.blend=function(T,C){if(f=(255&C.rgba)/255,f===1)return{css:C.css,rgba:C.rgba};const R=C.rgba>>24&255,k=C.rgba>>16&255,E=C.rgba>>8&255,$=T.rgba>>24&255,D=T.rgba>>16&255,A=T.rgba>>8&255;return l=$+Math.round((R-$)*f),u=D+Math.round((k-D)*f),d=A+Math.round((E-A)*f),{css:p.toCss(l,u,d),rgba:p.toRgba(l,u,d)}},_.isOpaque=function(T){return(255&T.rgba)==255},_.ensureContrastRatio=function(T,C,R){const k=m.ensureContrastRatio(T.rgba,C.rgba,R);if(k)return p.toColor(k>>24&255,k>>16&255,k>>8&255)},_.opaque=function(T){const C=(255|T.rgba)>>>0;return[l,u,d]=m.toChannels(C),{css:p.toCss(l,u,d),rgba:C}},_.opacity=P,_.multiplyOpacity=function(T,C){return f=255&T.rgba,P(T,f*C/255)},_.toColorRGB=function(T){return[T.rgba>>24&255,T.rgba>>16&255,T.rgba>>8&255]}}(v||(o.color=v={})),function(_){let P,T;try{const C=document.createElement("canvas");C.width=1,C.height=1;const R=C.getContext("2d",{willReadFrequently:!0});R&&(P=R,P.globalCompositeOperation="copy",T=P.createLinearGradient(0,0,1,1))}catch{}_.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return l=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),d=parseInt(C.slice(3,4).repeat(2),16),p.toColor(l,u,d);case 5:return l=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),d=parseInt(C.slice(3,4).repeat(2),16),f=parseInt(C.slice(4,5).repeat(2),16),p.toColor(l,u,d,f);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const R=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(R)return l=parseInt(R[1]),u=parseInt(R[2]),d=parseInt(R[3]),f=Math.round(255*(R[5]===void 0?1:parseFloat(R[5]))),p.toColor(l,u,d,f);if(!P||!T)throw new Error("css.toColor: Unsupported css format");if(P.fillStyle=T,P.fillStyle=C,typeof P.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(P.fillRect(0,0,1,1),[l,u,d,f]=P.getImageData(0,0,1,1).data,f!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:p.toRgba(l,u,d,f),css:C}}}(S||(o.css=S={})),function(_){function P(T,C,R){const k=T/255,E=C/255,$=R/255;return .2126*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.7152*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))}_.relativeLuminance=function(T){return P(T>>16&255,T>>8&255,255&T)},_.relativeLuminance2=P}(x||(o.rgb=x={})),function(_){function P(C,R,k){const E=C>>24&255,$=C>>16&255,D=C>>8&255;let A=R>>24&255,N=R>>16&255,q=R>>8&255,V=b(x.relativeLuminance2(A,N,q),x.relativeLuminance2(E,$,D));for(;V<k&&(A>0||N>0||q>0);)A-=Math.max(0,Math.ceil(.1*A)),N-=Math.max(0,Math.ceil(.1*N)),q-=Math.max(0,Math.ceil(.1*q)),V=b(x.relativeLuminance2(A,N,q),x.relativeLuminance2(E,$,D));return(A<<24|N<<16|q<<8|255)>>>0}function T(C,R,k){const E=C>>24&255,$=C>>16&255,D=C>>8&255;let A=R>>24&255,N=R>>16&255,q=R>>8&255,V=b(x.relativeLuminance2(A,N,q),x.relativeLuminance2(E,$,D));for(;V<k&&(A<255||N<255||q<255);)A=Math.min(255,A+Math.ceil(.1*(255-A))),N=Math.min(255,N+Math.ceil(.1*(255-N))),q=Math.min(255,q+Math.ceil(.1*(255-q))),V=b(x.relativeLuminance2(A,N,q),x.relativeLuminance2(E,$,D));return(A<<24|N<<16|q<<8|255)>>>0}_.blend=function(C,R){if(f=(255&R)/255,f===1)return R;const k=R>>24&255,E=R>>16&255,$=R>>8&255,D=C>>24&255,A=C>>16&255,N=C>>8&255;return l=D+Math.round((k-D)*f),u=A+Math.round((E-A)*f),d=N+Math.round(($-N)*f),p.toRgba(l,u,d)},_.ensureContrastRatio=function(C,R,k){const E=x.relativeLuminance(C>>8),$=x.relativeLuminance(R>>8);if(b(E,$)<k){if($<E){const N=P(C,R,k),q=b(E,x.relativeLuminance(N>>8));if(q<k){const V=T(C,R,k);return q>b(E,x.relativeLuminance(V>>8))?N:V}return N}const D=T(C,R,k),A=b(E,x.relativeLuminance(D>>8));if(A<k){const N=P(C,R,k);return A>b(E,x.relativeLuminance(N>>8))?D:N}return D}},_.reduceLuminance=P,_.increaseLuminance=T,_.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]}}(m||(o.rgba=m={})),o.toPaddedHex=y,o.contrastRatio=b},345:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===l)return void this._listeners.splice(u,1)}}})),this._event}fire(l,u){const d=[];for(let f=0;f<this._listeners.length;f++)d.push(this._listeners[f]);for(let f=0;f<d.length;f++)d[f].call(void 0,l,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,u){return l(d=>u.fire(d))},o.runAndSubscribe=function(l,u){return u(void 0),l(d=>u(d))}},859:(a,o)=>{function l(u){for(const d of u)d.dispose();u.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const d=this._disposables.indexOf(u);d!==-1&&this._disposables.splice(d,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){this._isDisposed||u===this._value||(this._value?.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},o.toDisposable=function(u){return{dispose:u}},o.disposeArray=l,o.getDisposeArrayDisposable=function(u){return{dispose:()=>l(u)}}},485:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,f,p){this._data[d]||(this._data[d]={}),this._data[d][f]=p}get(d,f){return this._data[d]?this._data[d][f]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(u,d,f,p,v){this._data.get(u,d)||this._data.set(u,d,new l),this._data.get(u,d).set(f,p,v)}get(u,d,f,p){return this._data.get(u,d)?.get(f,p)}clear(){this._data.clear()}}},399:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof process<"u"&&"title"in process;const l=o.isNode?"node":navigator.userAgent,u=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),o.isIpad=u==="iPad",o.isIphone=u==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),o.isLinux=u.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},385:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const u=l(399);class d{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let S=0,x=0,m=v.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),x=Math.max(S,x),y=v.timeRemaining(),1.5*x>y)return m-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-S))}ms`),void this._start();m=y}this.clear()}}class f extends d{_requestCallback(v){return setTimeout(()=>v(this._createDeadline(16)))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const S=Date.now()+v;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}o.PriorityTaskQueue=f,o.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:f,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},147:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new l;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=l;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}get underlineVariantOffset(){const f=(3758096384&this._ext)>>29;return f<0?4294967288^f:f}set underlineVariantOffset(f){this._ext&=536870911,this._ext|=f<<29&3758096384}constructor(f=0,p=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=p}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=u},782:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const u=l(133),d=l(855),f=l(147);class p extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const x=new p;return x.setFromCharData(S),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(S[d.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(S[d.CHAR_DATA_CHAR_INDEX].length===2){const m=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const y=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(m-55296)+y-56320+65536|S[d.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[d.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=S[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=p},855:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},133:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,u=0,d=l.length){let f="";for(let p=u;p<d;++p){let v=l[p];v>65535?(v-=65536,f+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):f+=String.fromCharCode(v)}return f},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,u){const d=l.length;if(!d)return 0;let f=0,p=0;if(this._interim){const v=l.charCodeAt(p++);56320<=v&&v<=57343?u[f++]=1024*(this._interim-55296)+v-56320+65536:(u[f++]=this._interim,u[f++]=v),this._interim=0}for(let v=p;v<d;++v){const S=l.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=d)return this._interim=S,f;const x=l.charCodeAt(v);56320<=x&&x<=57343?u[f++]=1024*(S-55296)+x-56320+65536:(u[f++]=S,u[f++]=x)}else S!==65279&&(u[f++]=S)}return f}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,u){const d=l.length;if(!d)return 0;let f,p,v,S,x=0,m=0,y=0;if(this.interim[0]){let P=!1,T=this.interim[0];T&=(224&T)==192?31:(240&T)==224?15:7;let C,R=0;for(;(C=63&this.interim[++R])&&R<4;)T<<=6,T|=C;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=k-R;for(;y<E;){if(y>=d)return 0;if(C=l[y++],(192&C)!=128){y--,P=!0;break}this.interim[R++]=C,T<<=6,T|=63&C}P||(k===2?T<128?y--:u[x++]=T:k===3?T<2048||T>=55296&&T<=57343||T===65279||(u[x++]=T):T<65536||T>1114111||(u[x++]=T)),this.interim.fill(0)}const b=d-4;let _=y;for(;_<d;){for(;!(!(_<b)||128&(f=l[_])||128&(p=l[_+1])||128&(v=l[_+2])||128&(S=l[_+3]));)u[x++]=f,u[x++]=p,u[x++]=v,u[x++]=S,_+=4;if(f=l[_++],f<128)u[x++]=f;else if((224&f)==192){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(m=(31&f)<<6|63&p,m<128){_--;continue}u[x++]=m}else if((240&f)==224){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,x;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(15&f)<<12|(63&p)<<6|63&v,m<2048||m>=55296&&m<=57343||m===65279)continue;u[x++]=m}else if((248&f)==240){if(_>=d)return this.interim[0]=f,x;if(p=l[_++],(192&p)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,x;if(v=l[_++],(192&v)!=128){_--;continue}if(_>=d)return this.interim[0]=f,this.interim[1]=p,this.interim[2]=v,x;if(S=l[_++],(192&S)!=128){_--;continue}if(m=(7&f)<<18|(63&p)<<12|(63&v)<<6|63&S,m<65536||m>1114111)continue;u[x++]=m}}return x}}},776:function(a,o,l){var u=this&&this.__decorate||function(m,y,b,_){var P,T=arguments.length,C=T<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,y,b,_);else for(var R=m.length-1;R>=0;R--)(P=m[R])&&(C=(T<3?P(C):T>3?P(y,b,C):P(y,b))||C);return T>3&&C&&Object.defineProperty(y,b,C),C},d=this&&this.__param||function(m,y){return function(b,_){y(b,_,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const f=l(859),p=l(97),v={trace:p.LogLevelEnum.TRACE,debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let S,x=o.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let y=0;y<m.length;y++)typeof m[y]=="function"&&(m[y]=m[y]())}_log(m,y,b){this._evalLazyOptionalParams(b),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...b)}trace(m,...y){this._logLevel<=p.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,m,y)}debug(m,...y){this._logLevel<=p.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,m,y)}info(m,...y){this._logLevel<=p.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,m,y)}warn(m,...y){this._logLevel<=p.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,m,y)}error(m,...y){this._logLevel<=p.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,m,y)}};o.LogService=x=u([d(0,p.IOptionsService)],x),o.setTraceLogger=function(m){S=m},o.traceCall=function(m,y,b){if(typeof b.value!="function")throw new Error("not supported");const _=b.value;b.value=function(...P){if(S.logLevel!==p.LogLevelEnum.TRACE)return _.apply(this,P);S.trace(`GlyphRenderer#${_.name}(${P.map(C=>JSON.stringify(C)).join(", ")})`);const T=_.apply(this,P);return S.trace(`GlyphRenderer#${_.name} return`,T),T}}},726:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",u="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(d){return d[u]||[]},o.createDecorator=function(d){if(o.serviceRegistry.has(d))return o.serviceRegistry.get(d);const f=function(p,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,m,y){m[l]===m?m[u].push({id:x,index:y}):(m[u]=[{id:x,index:y}],m[l]=m)})(f,p,S)};return f.toString=()=>d,o.serviceRegistry.set(d,f),f}},97:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const u=l(726);var d;o.IBufferService=(0,u.createDecorator)("BufferService"),o.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),o.ICoreService=(0,u.createDecorator)("CoreService"),o.ICharsetService=(0,u.createDecorator)("CharsetService"),o.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(d||(o.LogLevelEnum=d={})),o.ILogService=(0,u.createDecorator)("LogService"),o.IOptionsService=(0,u.createDecorator)("OptionsService"),o.IOscLinkService=(0,u.createDecorator)("OscLinkService"),o.IUnicodeService=(0,u.createDecorator)("UnicodeService"),o.IDecorationService=(0,u.createDecorator)("DecorationService")}},i={};function n(a){var o=i[a];if(o!==void 0)return o.exports;var l=i[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.WebglAddon=void 0;const o=n(345),l=n(859),u=n(399),d=n(666),f=n(776);class p extends l.Disposable{constructor(S){if(u.isSafari&&(0,u.getSafariVersion)()<16){const x={antialias:!1,depth:!1,preserveDrawingBuffer:!0};if(!document.createElement("canvas").getContext("webgl2",x))throw new Error("Webgl2 is only supported on Safari 16 and above")}super(),this._preserveDrawingBuffer=S,this._onChangeTextureAtlas=this.register(new o.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new o.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new o.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new o.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(S){const x=S._core;if(!S.element)return void this.register(x.onWillOpen(()=>this.activate(S)));this._terminal=S;const m=x.coreService,y=x.optionsService,b=x,_=b._renderService,P=b._characterJoinerService,T=b._charSizeService,C=b._coreBrowserService,R=b._decorationService,k=b._logService,E=b._themeService;(0,f.setTraceLogger)(k),this._renderer=this.register(new d.WebglRenderer(S,P,T,C,m,R,y,E,this._preserveDrawingBuffer)),this.register((0,o.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,o.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,o.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,o.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),_.setRenderer(this._renderer),this.register((0,l.toDisposable)(()=>{const $=this._terminal._core._renderService;$.setRenderer(this._terminal._core._createRenderer()),$.handleResize(S.cols,S.rows)}))}get textureAtlas(){return this._renderer?.textureAtlas}clearTextureAtlas(){this._renderer?.clearTextureAtlas()}}a.WebglAddon=p})(),s})())}(og)),og.exports}var PW=CW();const TW=`
  .xterm .xterm-screen {
    outline: none !important;
  }
  .xterm:focus .xterm-screen {
    outline: none !important;
  }
  .xterm-screen:focus {
    outline: none !important;
  }
`;if(typeof document<"u"){const r=document.createElement("style");r.type="text/css",r.innerText=TW,document.head.appendChild(r)}const so=new Map;function EW({selectedProject:r,selectedSession:e,isActive:t}){const i=F.useRef(null),n=F.useRef(null),s=F.useRef(null),a=F.useRef(null),[o,l]=F.useState(!1),[u,d]=F.useState(!1),[f,p]=F.useState(!1),[v,S]=F.useState(null),[x,m]=F.useState(!1),y=()=>{!u||o||x||(m(!0),P())},b=()=>{a.current&&(a.current.close(),a.current=null),n.current&&(n.current.clear(),n.current.write("\x1B[2J\x1B[H")),l(!1),m(!1)},_=()=>{p(!0),Array.from(so.keys()).filter(C=>C.includes(r.name)).forEach(C=>so.delete(C)),a.current&&(a.current.close(),a.current=null),n.current&&(n.current.dispose(),n.current=null,s.current=null),l(!1),d(!1),setTimeout(()=>{p(!1)},200)};F.useEffect(()=>{const T=e?.id||null;v!==null&&v!==T&&u&&(b(),Array.from(so.keys()).forEach(R=>{R.includes(r.name)&&so.delete(R)})),S(T)},[e?.id,u]),F.useEffect(()=>{if(!i.current||!r||f)return;const T=e?.id||`project-${r.name}`,C=so.get(T);if(C&&!n.current)try{n.current=C.terminal,s.current=C.fitAddon,a.current=C.ws,l(C.isConnected),n.current.element&&n.current.element.parentNode&&n.current.element.parentNode.removeChild(n.current.element),n.current.open(i.current),setTimeout(()=>{s.current&&(s.current.fit(),a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"resize",cols:n.current.cols,rows:n.current.rows})))},100),d(!0);return}catch{so.delete(T),n.current=null,s.current=null,a.current=null}if(n.current)return;n.current=new bW.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',allowProposedApi:!0,allowTransparency:!1,convertEol:!0,scrollback:1e4,tabStopWidth:4,windowsMode:!1,macOptionIsMeta:!0,macOptionClickForcesSelection:!1,theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#ffffff",cursorAccent:"#1e1e1e",selection:"#264f78",selectionForeground:"#ffffff",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff",extendedAnsi:["#000000","#800000","#008000","#808000","#000080","#800080","#008080","#c0c0c0","#808080","#ff0000","#00ff00","#ffff00","#0000ff","#ff00ff","#00ffff","#ffffff"]}}),s.current=new SW.FitAddon;const R=new kW.ClipboardAddon,k=new PW.WebglAddon;n.current.loadAddon(s.current),n.current.loadAddon(R);try{n.current.loadAddon(k)}catch{}n.current.open(i.current),setTimeout(()=>{s.current&&s.current.fit()},50),n.current.attachCustomKeyEventHandler($=>($.ctrlKey||$.metaKey)&&$.key==="c"&&n.current.hasSelection()?(document.execCommand("copy"),!1):($.ctrlKey||$.metaKey)&&$.key==="v"?(navigator.clipboard.readText().then(D=>{a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"input",data:D}))}).catch(D=>{}),!1):!0),setTimeout(()=>{s.current&&(s.current.fit(),n.current&&a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"resize",cols:n.current.cols,rows:n.current.rows})))},100),d(!0),n.current.onData($=>{a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"input",data:$}))});const E=new ResizeObserver(()=>{s.current&&n.current&&setTimeout(()=>{s.current.fit(),a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"resize",cols:n.current.cols,rows:n.current.rows}))},50)});return i.current&&E.observe(i.current),()=>{if(E.disconnect(),n.current&&r){const $=e?.id||`project-${r.name}`;try{so.set($,{terminal:n.current,fitAddon:s.current,ws:a.current,isConnected:o})}catch{}}}},[i.current,r,e,f]),F.useEffect(()=>{!t||!u||setTimeout(()=>{s.current&&(s.current.fit(),n.current&&a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"resize",cols:n.current.cols,rows:n.current.rows})))},100)},[t,u]);const P=async()=>{if(!(x||o))try{const T=localStorage.getItem("auth-token");if(!T){console.error("No authentication token found for Shell WebSocket connection");return}let C;try{if(C=(await(await fetch("/api/config",{headers:{Authorization:`Bearer ${T}`}})).json()).wsUrl,C.includes("localhost")&&!window.location.hostname.includes("localhost")){const $=window.location.protocol==="https:"?"wss:":"ws:",D=window.location.port==="3001"?"3002":window.location.port;C=`${$}//${window.location.hostname}:${D}`}}catch{const E=window.location.protocol==="https:"?"wss:":"ws:",$=window.location.port==="3001"?"3002":window.location.port;C=`${E}//${window.location.hostname}:${$}`}const R=`${C}/shell?token=${encodeURIComponent(T)}`;a.current=new WebSocket(R),a.current.onopen=()=>{l(!0),m(!1),setTimeout(()=>{s.current&&n.current&&(s.current.fit(),setTimeout(()=>{const k={type:"init",projectPath:r.fullPath||r.path,sessionId:e?.id,hasSession:!!e,cols:n.current.cols,rows:n.current.rows};a.current.send(JSON.stringify(k)),setTimeout(()=>{n.current&&a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({type:"resize",cols:n.current.cols,rows:n.current.rows}))},100)},50))},200)},a.current.onmessage=k=>{try{const E=JSON.parse(k.data);if(E.type==="output"){const $=/(https?:\/\/[^\s\x1b\x07]+)/g;let D=E.data;const A=[];let N;for(;(N=$.exec(D.replace(/\x1b\[[0-9;]*m/g,"")))!==null;)A.push(N[1]);n.current.write(D)}else E.type==="url_open"&&window.open(E.url,"_blank")}catch{}},a.current.onclose=k=>{l(!1),m(!1),n.current&&(n.current.clear(),n.current.write("\x1B[2J\x1B[H"))},a.current.onerror=k=>{l(!1),m(!1)}}catch{l(!1),m(!1)}};return r?g.jsxs("div",{className:"h-full flex flex-col bg-gray-900 w-full",children:[g.jsx("div",{className:"flex-shrink-0 bg-gray-800 border-b border-gray-700 px-4 py-2",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),e&&g.jsxs("span",{className:"text-xs text-blue-300",children:["(",e.summary.slice(0,30),"...)"]}),!e&&g.jsx("span",{className:"text-xs text-gray-400",children:"(New Session)"}),!u&&g.jsx("span",{className:"text-xs text-yellow-400",children:"(Initializing...)"}),f&&g.jsx("span",{className:"text-xs text-blue-400",children:"(Restarting...)"})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[o&&g.jsxs("button",{onClick:b,className:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 flex items-center space-x-1",title:"Disconnect from shell",children:[g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),g.jsx("span",{children:"Disconnect"})]}),g.jsxs("button",{onClick:_,disabled:f||o,className:"text-xs text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",title:"Restart Shell (disconnect first)",children:[g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Restart"})]})]})]})}),g.jsxs("div",{className:"flex-1 p-2 overflow-hidden relative",children:[g.jsx("div",{ref:i,className:"h-full w-full focus:outline-none",style:{outline:"none"}}),!u&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-90",children:g.jsx("div",{className:"text-white",children:"Loading terminal..."})}),u&&!o&&!x&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-90 p-4",children:g.jsxs("div",{className:"text-center max-w-sm w-full",children:[g.jsxs("button",{onClick:y,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2 text-base font-medium w-full sm:w-auto",title:"Connect to shell",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),g.jsx("span",{children:"Continue in Shell"})]}),g.jsx("p",{className:"text-gray-400 text-sm mt-3 px-2",children:e?`Resume session: ${e.summary.slice(0,50)}...`:"Start a new Claude session"})]})}),x&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-90 p-4",children:g.jsxs("div",{className:"text-center max-w-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 text-yellow-400",children:[g.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-yellow-400 border-t-transparent"}),g.jsx("span",{className:"text-base font-medium",children:"Connecting to shell..."})]}),g.jsxs("p",{className:"text-gray-400 text-sm mt-3 px-2",children:["Starting Claude CLI in ",r.displayName]})]})})]})]}):g.jsx("div",{className:"h-full flex items-center justify-center",children:g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[g.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:g.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Project"}),g.jsx("p",{children:"Choose a project to open an interactive shell in that directory"})]})})}function QW({selectedProject:r,isMobile:e}){const[t,i]=F.useState(null),[n,s]=F.useState({}),[a,o]=F.useState(!1),[l,u]=F.useState(""),[d,f]=F.useState(new Set),[p,v]=F.useState(new Set),[S,x]=F.useState(!1),[m,y]=F.useState(""),[b,_]=F.useState([]),[P,T]=F.useState(!0),[C,R]=F.useState(!1),[k,E]=F.useState(!1),[$,D]=F.useState(!1),[A,N]=F.useState(""),[q,V]=F.useState(!1),[K,Y]=F.useState("changes"),[L,z]=F.useState([]),[M,I]=F.useState(new Set),[U,W]=F.useState({}),[se,le]=F.useState(!1),[ae,B]=F.useState(null),[ee,ie]=F.useState(!1),[G,me]=F.useState(!1),[be,Ie]=F.useState(!1),[qe,st]=F.useState(!1),[_e,Se]=F.useState(e),[Ee,et]=F.useState(null),Be=F.useRef(null),Xe=F.useRef(null);F.useEffect(()=>{r&&($e(),Qe(),ve(),K==="history"&&Pt())},[r,K]),F.useEffect(()=>{const ge=we=>{Xe.current&&!Xe.current.contains(we.target)&&E(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]);const $e=async()=>{if(r){console.log("Fetching git status for project:",r.name,"path:",r.path),o(!0);try{const we=await(await Rt(`/api/git/status?project=${encodeURIComponent(r.name)}`)).json();if(console.log("Git status response:",we),we.error)console.error("Git status error:",we.error),i({error:we.error,details:we.details});else{i(we),y(we.branch||"main");const ht=new Set([...we.modified||[],...we.added||[],...we.deleted||[],...we.untracked||[]]);v(ht);for(const zt of we.modified||[])ot(zt);for(const zt of we.added||[])ot(zt)}}catch(ge){console.error("Error fetching git status:",ge)}finally{o(!1)}}},Qe=async()=>{try{const we=await(await Rt(`/api/git/branches?project=${encodeURIComponent(r.name)}`)).json();!we.error&&we.branches&&_(we.branches)}catch(ge){console.error("Error fetching branches:",ge)}},ve=async()=>{if(r)try{const we=await(await Rt(`/api/git/remote-status?project=${encodeURIComponent(r.name)}`)).json();we.error?B(null):B(we)}catch(ge){console.error("Error fetching remote status:",ge),B(null)}},Pe=async ge=>{try{const ht=await(await Rt("/api/git/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,branch:ge})})).json();ht.success?(y(ge),E(!1),$e()):console.error("Failed to switch branch:",ht.error)}catch(we){console.error("Error switching branch:",we)}},oe=async()=>{if(A.trim()){V(!0);try{const we=await(await Rt("/api/git/create-branch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,branch:A.trim()})})).json();we.success?(y(A.trim()),D(!1),E(!1),N(""),Qe(),$e()):console.error("Failed to create branch:",we.error)}catch(ge){console.error("Error creating branch:",ge)}finally{V(!1)}}},xe=async()=>{ie(!0);try{const we=await(await Rt("/api/git/fetch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name})})).json();we.success?($e(),ve()):console.error("Fetch failed:",we.error)}catch(ge){console.error("Error fetching from remote:",ge)}finally{ie(!1)}},je=async()=>{me(!0);try{const we=await(await Rt("/api/git/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name})})).json();we.success?($e(),ve()):console.error("Pull failed:",we.error)}catch(ge){console.error("Error pulling from remote:",ge)}finally{me(!1)}},te=async()=>{Ie(!0);try{const we=await(await Rt("/api/git/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name})})).json();we.success?($e(),ve()):console.error("Push failed:",we.error)}catch(ge){console.error("Error pushing to remote:",ge)}finally{Ie(!1)}},H=async()=>{st(!0);try{const we=await(await Rt("/api/git/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,branch:m})})).json();we.success?($e(),ve()):console.error("Publish failed:",we.error)}catch(ge){console.error("Error publishing branch:",ge)}finally{st(!1)}},de=async ge=>{try{const ht=await(await Rt("/api/git/discard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,file:ge})})).json();ht.success?(v(zt=>{const rr=new Set(zt);return rr.delete(ge),rr}),$e()):console.error("Discard failed:",ht.error)}catch(we){console.error("Error discarding changes:",we)}},Oe=async ge=>{try{const ht=await(await Rt("/api/git/delete-untracked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,file:ge})})).json();ht.success?(v(zt=>{const rr=new Set(zt);return rr.delete(ge),rr}),$e()):console.error("Delete failed:",ht.error)}catch(we){console.error("Error deleting untracked file:",we)}},pe=async()=>{if(!Ee)return;const{type:ge,file:we,message:ht}=Ee;et(null);try{switch(ge){case"discard":await de(we);break;case"delete":await Oe(we);break;case"commit":await Sr();break;case"pull":await je();break;case"push":await te();break;case"publish":await H();break}}catch(zt){console.error(`Error executing ${ge}:`,zt)}},ot=async ge=>{try{const ht=await(await Rt(`/api/git/diff?project=${encodeURIComponent(r.name)}&file=${encodeURIComponent(ge)}`)).json();!ht.error&&ht.diff&&s(zt=>({...zt,[ge]:ht.diff}))}catch(we){console.error("Error fetching file diff:",we)}},Pt=async()=>{try{const we=await(await Rt(`/api/git/commits?project=${encodeURIComponent(r.name)}&limit=10`)).json();!we.error&&we.commits&&z(we.commits)}catch(ge){console.error("Error fetching commits:",ge)}},Qt=async ge=>{try{const ht=await(await Rt(`/api/git/commit-diff?project=${encodeURIComponent(r.name)}&commit=${ge}`)).json();!ht.error&&ht.diff&&W(zt=>({...zt,[ge]:ht.diff}))}catch(we){console.error("Error fetching commit diff:",we)}},Ot=async()=>{le(!0);try{const we=await(await Rt("/api/git/generate-commit-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,files:Array.from(p)})})).json();we.message?u(we.message):console.error("Failed to generate commit message:",we.error)}catch(ge){console.error("Error generating commit message:",ge)}finally{le(!1)}},Lt=ge=>{f(we=>{const ht=new Set(we);return ht.has(ge)?ht.delete(ge):ht.add(ge),ht})},ji=ge=>{I(we=>{const ht=new Set(we);return ht.has(ge)?ht.delete(ge):(ht.add(ge),U[ge]||Qt(ge)),ht})},Ni=ge=>{v(we=>{const ht=new Set(we);return ht.has(ge)?ht.delete(ge):ht.add(ge),ht})},Sr=async()=>{if(!(!l.trim()||p.size===0)){x(!0);try{const we=await(await Rt("/api/git/commit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:r.name,message:l,files:Array.from(p)})})).json();we.success?(u(""),v(new Set),$e(),ve()):console.error("Commit failed:",we.error)}catch(ge){console.error("Error committing changes:",ge)}finally{x(!1)}}},Zr=(ge,we)=>{const ht=ge.startsWith("+")&&!ge.startsWith("+++"),zt=ge.startsWith("-")&&!ge.startsWith("---"),rr=ge.startsWith("@@");return g.jsx("div",{className:`font-mono text-xs ${e&&P?"whitespace-pre-wrap break-all":"whitespace-pre overflow-x-auto"} ${ht?"bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300":zt?"bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300":rr?"bg-blue-50 dark:bg-blue-950 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`,children:ge},we)},Yi=ge=>{switch(ge){case"M":return"Modified";case"A":return"Added";case"D":return"Deleted";case"U":return"Untracked";default:return ge}},To=ge=>{const we=M.has(ge.hash),ht=U[ge.hash];return g.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0",children:[g.jsxs("div",{className:"flex items-start p-3 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>ji(ge.hash),children:[g.jsx("div",{className:"mr-2 mt-1 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:we?g.jsx(ws,{className:"w-3 h-3"}):g.jsx(ha,{className:"w-3 h-3"})}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:ge.message}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[ge.author,"  ",ge.date]})]}),g.jsx("span",{className:"text-xs font-mono text-gray-400 dark:text-gray-500 flex-shrink-0",children:ge.hash.substring(0,7)})]})})]}),we&&ht&&g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"max-h-96 overflow-y-auto p-2",children:[g.jsx("div",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 mb-2",children:ge.stats}),ht.split(`
`).map((zt,rr)=>Zr(zt,rr))]})})]},ge.hash)},Pn=(ge,we)=>{const ht=d.has(ge),zt=p.has(ge),rr=n[ge];return g.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0",children:[g.jsxs("div",{className:`flex items-center hover:bg-gray-50 dark:hover:bg-gray-800 ${e?"px-2 py-1.5":"px-3 py-2"}`,children:[g.jsx("input",{type:"checkbox",checked:zt,onChange:()=>Ni(ge),onClick:Qr=>Qr.stopPropagation(),className:`rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600 ${e?"mr-1.5":"mr-2"}`}),g.jsxs("div",{className:"flex items-center flex-1 cursor-pointer",onClick:()=>Lt(ge),children:[g.jsx("div",{className:`p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ${e?"mr-1":"mr-2"}`,children:g.jsx(ha,{className:`w-3 h-3 transition-transform duration-200 ease-in-out ${ht?"rotate-90":"rotate-0"}`})}),g.jsx("span",{className:`flex-1 truncate ${e?"text-xs":"text-sm"}`,children:ge}),g.jsxs("div",{className:"flex items-center gap-1",children:[(we==="M"||we==="D")&&g.jsxs("button",{onClick:Qr=>{Qr.stopPropagation(),et({type:"discard",file:ge,message:`Discard all changes to "${ge}"? This action cannot be undone.`})},className:`${e?"px-2 py-1 text-xs":"p-1"} hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600 dark:text-red-400 font-medium flex items-center gap-1`,title:"Discard changes",children:[g.jsx(Zn,{className:"w-3 h-3"}),e&&g.jsx("span",{children:"Discard"})]}),we==="U"&&g.jsxs("button",{onClick:Qr=>{Qr.stopPropagation(),et({type:"delete",file:ge,message:`Delete untracked file "${ge}"? This action cannot be undone.`})},className:`${e?"px-2 py-1 text-xs":"p-1"} hover:bg-red-100 dark:hover:bg-red-900 rounded text-red-600 dark:text-red-400 font-medium flex items-center gap-1`,title:"Delete untracked file",children:[g.jsx(Zn,{className:"w-3 h-3"}),e&&g.jsx("span",{children:"Delete"})]}),g.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-bold border ${we==="M"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800":we==="A"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 border-green-200 dark:border-green-800":we==="D"?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 border-red-200 dark:border-red-800":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-600"}`,title:Yi(we),children:we})]})]})]}),g.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900 transition-all duration-400 ease-in-out overflow-hidden ${ht&&rr?"max-h-[600px] opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-1"}`,children:[g.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-bold border ${we==="M"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800":we==="A"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 border-green-200 dark:border-green-800":we==="D"?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 border-red-200 dark:border-red-800":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-600"}`,children:we}),g.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Yi(we)})]}),e&&g.jsx("button",{onClick:Qr=>{Qr.stopPropagation(),T(!P)},className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",title:P?"Switch to horizontal scroll":"Switch to text wrap",children:P?" Scroll":" Wrap"})]}),g.jsx("div",{className:"max-h-96 overflow-y-auto p-2",children:rr&&rr.split(`
`).map((Qr,Gi)=>Zr(Qr,Gi))})]})]},ge)};return r?g.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[g.jsxs("div",{className:`flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ${e?"px-3 py-2":"px-4 py-3"}`,children:[g.jsxs("div",{className:"relative",ref:Xe,children:[g.jsxs("button",{onClick:()=>E(!k),className:`flex items-center hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors ${e?"space-x-1 px-2 py-1":"space-x-2 px-3 py-1.5"}`,children:[g.jsx(mg,{className:`text-gray-600 dark:text-gray-400 ${e?"w-3 h-3":"w-4 h-4"}`}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("span",{className:`font-medium ${e?"text-xs":"text-sm"}`,children:m}),ae?.hasRemote&&g.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[ae.ahead>0&&g.jsxs("span",{className:"text-green-600 dark:text-green-400",title:`${ae.ahead} commit${ae.ahead!==1?"s":""} ahead`,children:["",ae.ahead]}),ae.behind>0&&g.jsxs("span",{className:"text-blue-600 dark:text-blue-400",title:`${ae.behind} commit${ae.behind!==1?"s":""} behind`,children:["",ae.behind]}),ae.isUpToDate&&g.jsx("span",{className:"text-gray-500 dark:text-gray-400",title:"Up to date with remote",children:""})]})]}),g.jsx(ws,{className:`w-3 h-3 text-gray-500 transition-transform ${k?"rotate-180":""}`})]}),k&&g.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[g.jsx("div",{className:"py-1 max-h-64 overflow-y-auto",children:b.map(ge=>g.jsx("button",{onClick:()=>Pe(ge),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${ge===m?"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300"}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[ge===m&&g.jsx(ca,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),g.jsx("span",{className:ge===m?"font-medium":"",children:ge})]})},ge))}),g.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 py-1",children:g.jsxs("button",{onClick:()=>{D(!0),E(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-2",children:[g.jsx(mo,{className:"w-3 h-3"}),g.jsx("span",{children:"Create new branch"})]})})]})]}),g.jsxs("div",{className:`flex items-center ${e?"gap-1":"gap-2"}`,children:[ae?.hasRemote&&g.jsxs(g.Fragment,{children:[!ae?.hasUpstream&&g.jsxs("button",{onClick:()=>et({type:"publish",message:`Publish branch "${m}" to ${ae.remoteName}?`}),disabled:qe,className:"px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 flex items-center gap-1",title:`Publish branch "${m}" to ${ae.remoteName}`,children:[g.jsx(eu,{className:`w-3 h-3 ${qe?"animate-pulse":""}`}),g.jsx("span",{children:qe?"Publishing...":"Publish"})]}),ae?.hasUpstream&&!ae?.isUpToDate&&g.jsxs(g.Fragment,{children:[ae.behind>0&&g.jsxs("button",{onClick:()=>et({type:"pull",message:`Pull ${ae.behind} commit${ae.behind!==1?"s":""} from ${ae.remoteName}?`}),disabled:G,className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 flex items-center gap-1",title:`Pull ${ae.behind} commit${ae.behind!==1?"s":""} from ${ae.remoteName}`,children:[g.jsx(pg,{className:`w-3 h-3 ${G?"animate-pulse":""}`}),g.jsx("span",{children:G?"Pulling...":`Pull ${ae.behind}`})]}),ae.ahead>0&&g.jsxs("button",{onClick:()=>et({type:"push",message:`Push ${ae.ahead} commit${ae.ahead!==1?"s":""} to ${ae.remoteName}?`}),disabled:be,className:"px-2 py-1 text-xs bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50 flex items-center gap-1",title:`Push ${ae.ahead} commit${ae.ahead!==1?"s":""} to ${ae.remoteName}`,children:[g.jsx(eu,{className:`w-3 h-3 ${be?"animate-pulse":""}`}),g.jsx("span",{children:be?"Pushing...":`Push ${ae.ahead}`})]}),(ae.ahead>0||ae.behind>0&&ae.ahead>0)&&g.jsxs("button",{onClick:xe,disabled:ee,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center gap-1",title:`Fetch from ${ae.remoteName}`,children:[g.jsx(bs,{className:`w-3 h-3 ${ee?"animate-spin":""}`}),g.jsx("span",{children:ee?"Fetching...":"Fetch"})]})]})]}),g.jsx("button",{onClick:()=>{$e(),Qe(),ve()},disabled:a,className:`hover:bg-gray-100 dark:hover:bg-gray-800 rounded ${e?"p-1":"p-1.5"}`,children:g.jsx(bs,{className:`${a?"animate-spin":""} ${e?"w-3 h-3":"w-4 h-4"}`})})]})]}),t?.error?g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 px-6 py-12",children:[g.jsx(mg,{className:"w-20 h-20 mb-6 opacity-30"}),g.jsx("h3",{className:"text-xl font-medium mb-3 text-center",children:t.error}),t.details&&g.jsx("p",{className:"text-sm text-center leading-relaxed mb-6 max-w-md",children:t.details}),g.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 max-w-md",children:g.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 text-center",children:[g.jsx("strong",{children:"Tip:"})," Run"," ",g.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded font-mono text-xs",children:"git init"})," ","in your project directory to initialize git source control."]})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`flex border-b border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out ${d.size===0?"max-h-16 opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-2 overflow-hidden"}`,children:[g.jsx("button",{onClick:()=>Y("changes"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${K==="changes"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(Z0,{className:"w-4 h-4"}),g.jsx("span",{children:"Changes"})]})}),g.jsx("button",{onClick:()=>Y("history"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${K==="history"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx(n1,{className:"w-4 h-4"}),g.jsx("span",{children:"History"})]})})]}),K==="changes"&&g.jsx(g.Fragment,{children:g.jsx("div",{className:`transition-all duration-300 ease-in-out ${d.size===0?"max-h-96 opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-2 overflow-hidden"}`,children:e&&_e?g.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:g.jsxs("button",{onClick:()=>Se(!1),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[g.jsx(i1,{className:"w-4 h-4"}),g.jsxs("span",{children:["Commit ",p.size," ","file",p.size!==1?"s":""]}),g.jsx(ws,{className:"w-3 h-3"})]})}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[e&&g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-sm font-medium",children:"Commit Changes"}),g.jsx("button",{onClick:()=>Se(!0),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:g.jsx(ws,{className:"w-4 h-4 rotate-180"})})]}),g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{ref:Be,value:l,onChange:ge=>u(ge.target.value),placeholder:"Message (Ctrl+Enter to commit)",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 resize-none pr-20",rows:"3",onKeyDown:ge=>{ge.key==="Enter"&&(ge.ctrlKey||ge.metaKey)&&Sr()}}),g.jsxs("div",{className:"absolute right-2 top-2 flex gap-1",children:[g.jsx("button",{onClick:Ot,disabled:p.size===0||se,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Generate commit message",children:se?g.jsx(bs,{className:"w-4 h-4 animate-spin"}):g.jsx(Bw,{className:"w-4 h-4"})}),g.jsx("div",{style:{display:"none"},children:g.jsx(jk,{onTranscript:ge=>u(ge),mode:"default",className:"p-1.5"})})]})]}),g.jsxs("div",{className:"flex items-center justify-between mt-2",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:[p.size," ","file",p.size!==1?"s":""," selected"]}),g.jsxs("button",{onClick:()=>et({type:"commit",message:`Commit ${p.size} file${p.size!==1?"s":""} with message: "${l.trim()}"?`}),disabled:!l.trim()||p.size===0||S,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[g.jsx(ca,{className:"w-3 h-3"}),g.jsx("span",{children:S?"Committing...":"Commit"})]})]})]})})})}),K==="changes"&&t&&!t.error&&g.jsxs("div",{className:`border-b border-gray-200 dark:border-gray-700 flex items-center justify-between transition-all duration-300 ease-in-out ${e?"px-3 py-1.5":"px-4 py-2"} ${d.size===0?"max-h-16 opacity-100 translate-y-0":"max-h-0 opacity-0 -translate-y-2 overflow-hidden"}`,children:[g.jsxs("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:[p.size," of ",(t?.modified?.length||0)+(t?.added?.length||0)+(t?.deleted?.length||0)+(t?.untracked?.length||0)," ",e?"":"files"," selected"]}),g.jsxs("div",{className:`flex ${e?"gap-1":"gap-2"}`,children:[g.jsx("button",{onClick:()=>{const ge=new Set([...t?.modified||[],...t?.added||[],...t?.deleted||[],...t?.untracked||[]]);v(ge)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-xs",children:e?"All":"Select All"}),g.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),g.jsx("button",{onClick:()=>v(new Set),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-xs",children:e?"None":"Deselect All"})]})]}),!t?.error&&!e&&g.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("button",{onClick:()=>R(!C),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-750 text-xs text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[g.jsx(y3,{className:"w-3 h-3"}),g.jsx("span",{children:"File Status Guide"}),C?g.jsx(ws,{className:"w-3 h-3"}):g.jsx(ha,{className:"w-3 h-3"})]}),C&&g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800 text-xs",children:g.jsxs("div",{className:`${e?"grid grid-cols-2 gap-3 justify-items-center":"flex justify-center gap-6"}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 rounded border border-yellow-200 dark:border-yellow-800 font-bold text-xs",children:"M"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400 italic",children:"Modified"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 rounded border border-green-200 dark:border-green-800 font-bold text-xs",children:"A"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400 italic",children:"Added"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 rounded border border-red-200 dark:border-red-800 font-bold text-xs",children:"D"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400 italic",children:"Deleted"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 rounded border border-gray-300 dark:border-gray-600 font-bold text-xs",children:"U"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400 italic",children:"Untracked"})]})]})})]})]}),K==="changes"&&!t?.error&&g.jsx("div",{className:`flex-1 overflow-y-auto ${e?"pb-20":""}`,children:a?g.jsx("div",{className:"flex items-center justify-center h-32",children:g.jsx(bs,{className:"w-6 h-6 animate-spin text-gray-400"})}):!t||!t.modified?.length&&!t.added?.length&&!t.deleted?.length&&!t.untracked?.length?g.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500 dark:text-gray-400",children:[g.jsx(i1,{className:"w-12 h-12 mb-2 opacity-50"}),g.jsx("p",{className:"text-sm",children:"No changes detected"})]}):g.jsxs("div",{className:e?"pb-4":"",children:[t.modified?.map(ge=>Pn(ge,"M")),t.added?.map(ge=>Pn(ge,"A")),t.deleted?.map(ge=>Pn(ge,"D")),t.untracked?.map(ge=>Pn(ge,"U"))]})}),K==="history"&&!t?.error&&g.jsx("div",{className:`flex-1 overflow-y-auto ${e?"pb-20":""}`,children:a?g.jsx("div",{className:"flex items-center justify-center h-32",children:g.jsx(bs,{className:"w-6 h-6 animate-spin text-gray-400"})}):L.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500 dark:text-gray-400",children:[g.jsx(n1,{className:"w-12 h-12 mb-2 opacity-50"}),g.jsx("p",{className:"text-sm",children:"No commits found"})]}):g.jsx("div",{className:e?"pb-4":"",children:L.map(ge=>To(ge))})}),$&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>D(!1)}),g.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Branch"}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Branch Name"}),g.jsx("input",{type:"text",value:A,onChange:ge=>N(ge.target.value),onKeyDown:ge=>{ge.key==="Enter"&&!q&&oe()},placeholder:"feature/new-feature",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),g.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:["This will create a new branch from the current branch (",m,")"]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>{D(!1),N("")},className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),g.jsx("button",{onClick:oe,disabled:!A.trim()||q,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:q?g.jsxs(g.Fragment,{children:[g.jsx(bs,{className:"w-3 h-3 animate-spin"}),g.jsx("span",{children:"Creating..."})]}):g.jsxs(g.Fragment,{children:[g.jsx(mo,{className:"w-3 h-3"}),g.jsx("span",{children:"Create Branch"})]})})]})]})})]}),Ee&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>et(null)}),g.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:`p-2 rounded-full mr-3 ${Ee.type==="discard"||Ee.type==="delete"?"bg-red-100 dark:bg-red-900":"bg-yellow-100 dark:bg-yellow-900"}`,children:g.jsx(Og,{className:`w-5 h-5 ${Ee.type==="discard"||Ee.type==="delete"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`})}),g.jsx("h3",{className:"text-lg font-semibold",children:Ee.type==="discard"?"Discard Changes":Ee.type==="delete"?"Delete File":Ee.type==="commit"?"Confirm Commit":Ee.type==="pull"?"Confirm Pull":Ee.type==="publish"?"Publish Branch":"Confirm Push"})]}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:Ee.message}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>et(null),className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),g.jsx("button",{onClick:pe,className:`px-4 py-2 text-sm text-white rounded-md ${Ee.type==="discard"||Ee.type==="delete"?"bg-red-600 hover:bg-red-700":Ee.type==="commit"?"bg-blue-600 hover:bg-blue-700":Ee.type==="pull"?"bg-green-600 hover:bg-green-700":Ee.type==="publish"?"bg-purple-600 hover:bg-purple-700":"bg-orange-600 hover:bg-orange-700"} flex items-center space-x-2`,children:Ee.type==="discard"?g.jsxs(g.Fragment,{children:[g.jsx(Zn,{className:"w-4 h-4"}),g.jsx("span",{children:"Discard"})]}):Ee.type==="delete"?g.jsxs(g.Fragment,{children:[g.jsx(Zn,{className:"w-4 h-4"}),g.jsx("span",{children:"Delete"})]}):Ee.type==="commit"?g.jsxs(g.Fragment,{children:[g.jsx(ca,{className:"w-4 h-4"}),g.jsx("span",{children:"Commit"})]}):Ee.type==="pull"?g.jsxs(g.Fragment,{children:[g.jsx(pg,{className:"w-4 h-4"}),g.jsx("span",{children:"Pull"})]}):Ee.type==="publish"?g.jsxs(g.Fragment,{children:[g.jsx(eu,{className:"w-4 h-4"}),g.jsx("span",{children:"Publish"})]}):g.jsxs(g.Fragment,{children:[g.jsx(eu,{className:"w-4 h-4"}),g.jsx("span",{children:"Push"})]})})]})]})})]})]}):g.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Select a project to view source control"})})}class RW extends Vn.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?g.jsx("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:g.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsx("h3",{className:"ml-3 text-sm font-medium text-red-800",children:"Something went wrong"})]}),g.jsxs("div",{className:"text-sm text-red-700",children:[g.jsx("p",{className:"mb-2",children:"An error occurred while loading the chat interface."}),this.props.showDetails&&this.state.error&&g.jsxs("details",{className:"mt-4",children:[g.jsx("summary",{className:"cursor-pointer text-xs font-mono",children:"Error Details"}),g.jsxs("pre",{className:"mt-2 text-xs bg-red-100 p-2 rounded overflow-auto max-h-40",children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]})]}),g.jsx("div",{className:"mt-4",children:g.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()},className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Try Again"})})]})}):this.props.children}}function $W({selectedProject:r,selectedSession:e,activeTab:t,setActiveTab:i,ws:n,sendMessage:s,messages:a,isMobile:o,onMenuClick:l,isLoading:u,onInputFocusChange:d,onSessionActive:f,onSessionInactive:p,onReplaceTemporarySession:v,onNavigateToSession:S,onShowSettings:x,autoExpandTools:m,showRawParameters:y,autoScrollToBottom:b,sendByCtrlEnter:_}){const[P,T]=F.useState(null),C=(k,E=null)=>{const $={name:k.split("/").pop(),path:k,projectName:r?.name,diffInfo:E};T($)},R=()=>{T(null)};return u?g.jsxs("div",{className:"h-full flex flex-col",children:[o&&g.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4 flex-shrink-0",children:g.jsx("button",{onClick:l,className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),g.jsx("div",{className:"flex-1 flex items-center justify-center",children:g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[g.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:g.jsx("div",{className:"w-full h-full rounded-full border-4 border-gray-200 border-t-blue-500",style:{animation:"spin 1s linear infinite",WebkitAnimation:"spin 1s linear infinite",MozAnimation:"spin 1s linear infinite"}})}),g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Claude Code UI"}),g.jsx("p",{children:"Setting up your workspace..."})]})})]}):r?g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o&&g.jsx("button",{onClick:l,onTouchStart:k=>{k.preventDefault(),l()},className:"p-2.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 touch-manipulation active:scale-95",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),g.jsx("div",{className:"min-w-0",children:t==="chat"&&e?g.jsxs("div",{children:[g.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.summary}),g.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[r.displayName," ",g.jsxs("span",{className:"hidden sm:inline",children:[" ",e.id]})]})]}):t==="chat"&&!e?g.jsxs("div",{children:[g.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"New Session"}),g.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:r.displayName})]}):g.jsxs("div",{children:[g.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:t==="files"?"Project Files":t==="git"?"Source Control":"Project"}),g.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:r.displayName})]})})]}),g.jsx("div",{className:"flex-shrink-0 hidden sm:block",children:g.jsxs("div",{className:"relative flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[g.jsx("button",{onClick:()=>i("chat"),className:`relative px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium rounded-md ${t==="chat"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:g.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[g.jsx("svg",{className:"w-3 sm:w-3.5 h-3 sm:h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),g.jsx("span",{className:"hidden sm:inline",children:"Chat"})]})}),g.jsx("button",{onClick:()=>i("shell"),className:`relative px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium rounded-md transition-all duration-200 ${t==="shell"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:g.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[g.jsx("svg",{className:"w-3 sm:w-3.5 h-3 sm:h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"})}),g.jsx("span",{className:"hidden sm:inline",children:"Shell"})]})}),g.jsx("button",{onClick:()=>i("files"),className:`relative px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium rounded-md transition-all duration-200 ${t==="files"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:g.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[g.jsx("svg",{className:"w-3 sm:w-3.5 h-3 sm:h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-5l-2-2H5a2 2 0 00-2 2z"})}),g.jsx("span",{className:"hidden sm:inline",children:"Files"})]})}),g.jsx("button",{onClick:()=>i("git"),className:`relative px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium rounded-md transition-all duration-200 ${t==="git"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:g.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5",children:[g.jsx("svg",{className:"w-3 sm:w-3.5 h-3 sm:h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),g.jsx("span",{className:"hidden sm:inline",children:"Source Control"})]})})]})})]})}),g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[g.jsx("div",{className:`h-full ${t==="chat"?"block":"hidden"}`,children:g.jsx(RW,{showDetails:!0,children:g.jsx(Ej,{selectedProject:r,selectedSession:e,ws:n,sendMessage:s,messages:a,onFileOpen:C,onInputFocusChange:d,onSessionActive:f,onSessionInactive:p,onReplaceTemporarySession:v,onNavigateToSession:S,onShowSettings:x,autoExpandTools:m,showRawParameters:y,autoScrollToBottom:b,sendByCtrlEnter:_})})}),g.jsx("div",{className:`h-full overflow-hidden ${t==="files"?"block":"hidden"}`,children:g.jsx(xW,{selectedProject:r})}),g.jsx("div",{className:`h-full overflow-hidden ${t==="shell"?"block":"hidden"}`,children:g.jsx(EW,{selectedProject:r,selectedSession:e,isActive:t==="shell"})}),g.jsx("div",{className:`h-full overflow-hidden ${t==="git"?"block":"hidden"}`,children:g.jsx(QW,{selectedProject:r,isMobile:o})}),g.jsx("div",{className:`h-full overflow-hidden ${t==="preview"?"block":"hidden"}`})]}),P&&g.jsx(sT,{file:P,onClose:R,projectPath:r?.path})]}):g.jsxs("div",{className:"h-full flex flex-col",children:[o&&g.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4 flex-shrink-0",children:g.jsx("button",{onClick:l,className:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),g.jsx("div",{className:"flex-1 flex items-center justify-center",children:g.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 max-w-md mx-auto px-6",children:[g.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:g.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-5l-2-2H5a2 2 0 00-2 2z"})})}),g.jsx("h2",{className:"text-2xl font-semibold mb-3 text-gray-900 dark:text-white",children:"Choose Your Project"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:"Select a project from the sidebar to start coding with Claude. Each project contains your chat sessions and file history."}),g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:g.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[" ",g.jsx("strong",{children:"Tip:"})," ",o?"Tap the menu button above to access projects":"Create a new project by clicking the folder icon in the sidebar"]})})]})})]})}const AW=Vn.memo($W);function LW({activeTab:r,setActiveTab:e,isInputFocused:t}){const i=document.documentElement.classList.contains("dark"),n=[{id:"chat",icon:co,onClick:()=>e("chat")},{id:"shell",icon:qw,onClick:()=>e("shell")},{id:"files",icon:Ps,onClick:()=>e("files")},{id:"git",icon:mg,onClick:()=>e("git")}];return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
          .mobile-nav-container {
            background-color: ${i?"#1f2937":"#ffffff"} !important;
          }
          .mobile-nav-container:hover {
            background-color: ${i?"#1f2937":"#ffffff"} !important;
          }
        `}),g.jsx("div",{className:`mobile-nav-container fixed bottom-0 left-0 right-0 border-t border-gray-200 dark:border-gray-700 z-50 ios-bottom-safe transform transition-transform duration-300 ease-in-out shadow-lg ${t?"translate-y-full":"translate-y-0"}`,children:g.jsx("div",{className:"flex items-center justify-around py-1",children:n.map(s=>{const a=s.icon,o=r===s.id;return g.jsxs("button",{onClick:s.onClick,onTouchStart:l=>{l.preventDefault(),s.onClick()},className:`flex items-center justify-center p-2 rounded-lg min-h-[40px] min-w-[40px] relative touch-manipulation ${o?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,"aria-label":s.id,children:[g.jsx(a,{className:"w-5 h-5"}),o&&g.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-blue-600 dark:bg-blue-400 rounded-full"})]},s.id)})})})]})}const aT=F.createContext(),av=()=>{const r=F.useContext(aT);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},MW=({children:r})=>{const[e,t]=F.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1});F.useEffect(()=>{if(e){document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark");const s=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');s&&s.setAttribute("content","black-translucent");const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content","#0c1117")}else{document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light");const s=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');s&&s.setAttribute("content","default");const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content","#ffffff")}},[e]),F.useEffect(()=>{if(!window.matchMedia)return;const s=window.matchMedia("(prefers-color-scheme: dark)"),a=o=>{localStorage.getItem("theme")||t(o.matches)};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[]);const n={isDarkMode:e,toggleDarkMode:()=>{t(s=>!s)}};return g.jsx(aT.Provider,{value:n,children:r})};function jW({isOpen:r,onClose:e}){const{isDarkMode:t,toggleDarkMode:i}=av(),[n,s]=F.useState([]),[a,o]=F.useState([]),[l,u]=F.useState(""),[d,f]=F.useState(""),[p,v]=F.useState(!1),[S,x]=F.useState(!1),[m,y]=F.useState(null),[b,_]=F.useState("name"),[P,T]=F.useState([]),[C,R]=F.useState(!1),[k,E]=F.useState(null),[$,D]=F.useState({name:"",type:"stdio",scope:"user",config:{command:"",args:[],env:{},url:"",headers:{},timeout:3e4}}),[A,N]=F.useState(!1),[q,V]=F.useState({}),[K,Y]=F.useState(null),[L,z]=F.useState(!1),[M,I]=F.useState(!1),[U,W]=F.useState({}),[se,le]=F.useState({}),[ae,B]=F.useState("tools"),ee=["Bash(git log:*)","Bash(git diff:*)","Bash(git status:*)","Write","Read","Edit","Glob","Grep","MultiEdit","Task","TodoWrite","TodoRead","WebFetch","WebSearch"],ie=async()=>{try{const H=localStorage.getItem("auth-token"),de=await fetch("/api/mcp/cli/list",{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(de.ok){const pe=await de.json();if(pe.success&&pe.servers){const ot=pe.servers.map(Pt=>({id:Pt.name,name:Pt.name,type:Pt.type,scope:"user",config:{command:Pt.command||"",args:Pt.args||[],env:Pt.env||{},url:Pt.url||"",headers:Pt.headers||{},timeout:3e4},created:new Date().toISOString(),updated:new Date().toISOString()}));T(ot);return}}const Oe=await fetch("/api/mcp/servers?scope=user",{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(Oe.ok){const pe=await Oe.json();T(pe.servers||[])}else console.error("Failed to fetch MCP servers")}catch(H){console.error("Error fetching MCP servers:",H)}},G=async H=>{try{const de=localStorage.getItem("auth-token");k&&await me(k.id,"user");const Oe=await fetch("/api/mcp/cli/add",{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({name:H.name,type:H.type,command:H.config?.command,args:H.config?.args||[],url:H.config?.url,headers:H.config?.headers||{},env:H.config?.env||{}})});if(Oe.ok){const pe=await Oe.json();if(pe.success)return await ie(),!0;throw new Error(pe.error||"Failed to save server via Claude CLI")}else{const pe=await Oe.json();throw new Error(pe.error||"Failed to save server")}}catch(de){throw console.error("Error saving MCP server:",de),de}},me=async(H,de="user")=>{try{const Oe=localStorage.getItem("auth-token"),pe=await fetch(`/api/mcp/cli/remove/${H}`,{method:"DELETE",headers:{Authorization:`Bearer ${Oe}`,"Content-Type":"application/json"}});if(pe.ok){const ot=await pe.json();if(ot.success)return await ie(),!0;throw new Error(ot.error||"Failed to delete server via Claude CLI")}else{const ot=await pe.json();throw new Error(ot.error||"Failed to delete server")}}catch(Oe){throw console.error("Error deleting MCP server:",Oe),Oe}},be=async(H,de="user")=>{try{const Oe=localStorage.getItem("auth-token"),pe=await fetch(`/api/mcp/servers/${H}/test?scope=${de}`,{method:"POST",headers:{Authorization:`Bearer ${Oe}`,"Content-Type":"application/json"}});if(pe.ok)return(await pe.json()).testResult;{const ot=await pe.json();throw new Error(ot.error||"Failed to test server")}}catch(Oe){throw console.error("Error testing MCP server:",Oe),Oe}},Ie=async H=>{try{const de=localStorage.getItem("auth-token"),Oe=await fetch("/api/mcp/servers/test",{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify(H)});if(Oe.ok)return(await Oe.json()).testResult;{const pe=await Oe.json();throw new Error(pe.error||"Failed to test configuration")}}catch(de){throw console.error("Error testing MCP configuration:",de),de}},qe=async(H,de="user")=>{try{const Oe=localStorage.getItem("auth-token"),pe=await fetch(`/api/mcp/servers/${H}/tools?scope=${de}`,{method:"POST",headers:{Authorization:`Bearer ${Oe}`,"Content-Type":"application/json"}});if(pe.ok)return(await pe.json()).toolsResult;{const ot=await pe.json();throw new Error(ot.error||"Failed to discover tools")}}catch(Oe){throw console.error("Error discovering MCP tools:",Oe),Oe}};F.useEffect(()=>{r&&st()},[r]);const st=async()=>{try{const H=localStorage.getItem("claude-tools-settings");if(H){const de=JSON.parse(H);s(de.allowedTools||[]),o(de.disallowedTools||[]),v(de.skipPermissions||!1),_(de.projectSortOrder||"name")}else s([]),o([]),v(!1),_("name");await ie()}catch(H){console.error("Error loading tool settings:",H),s([]),o([]),v(!1),_("name")}},_e=()=>{x(!0),y(null);try{const H={allowedTools:n,disallowedTools:a,skipPermissions:p,projectSortOrder:b,lastUpdated:new Date().toISOString()};localStorage.setItem("claude-tools-settings",JSON.stringify(H)),y("success"),setTimeout(()=>{e()},1e3)}catch(H){console.error("Error saving tool settings:",H),y("error")}finally{x(!1)}},Se=H=>{H&&!n.includes(H)&&(s([...n,H]),u(""))},Ee=H=>{s(n.filter(de=>de!==H))},et=H=>{H&&!a.includes(H)&&(o([...a,H]),f(""))},Be=H=>{o(a.filter(de=>de!==H))},Xe=()=>{D({name:"",type:"stdio",scope:"user",config:{command:"",args:[],env:{},url:"",headers:{},timeout:3e4}}),E(null),R(!1),Y(null),I(!1),z(!1)},$e=(H=null)=>{H?(E(H),D({name:H.name,type:H.type,scope:H.scope,config:{...H.config}})):Xe(),R(!0)},Qe=async H=>{H.preventDefault(),N(!0);try{await G($),Xe(),y("success")}catch(de){alert(`Error: ${de.message}`),y("error")}finally{N(!1)}},ve=async(H,de)=>{if(confirm("Are you sure you want to delete this MCP server?"))try{await me(H,de),y("success")}catch(Oe){alert(`Error: ${Oe.message}`),y("error")}},Pe=async(H,de)=>{try{V({...q,[H]:{loading:!0}});const Oe=await be(H,de);V({...q,[H]:Oe})}catch(Oe){V({...q,[H]:{success:!1,message:Oe.message,details:[]}})}},oe=async(H,de)=>{try{le({...se,[H]:!0});const Oe=await qe(H,de);W({...U,[H]:Oe})}catch{W({...U,[H]:{success:!1,tools:[],resources:[],prompts:[]}})}finally{le({...se,[H]:!1})}},xe=(H,de)=>{D(Oe=>({...Oe,config:{...Oe.config,[H]:de}})),Y(null),I(!1)},je=async()=>{z(!0);try{const H=await Ie($);Y(H),I(!0)}catch(H){Y({success:!1,message:H.message,details:[]}),I(!0)}finally{z(!1)}},te=H=>{switch(H){case"stdio":return g.jsx(qw,{className:"w-4 h-4"});case"sse":return g.jsx(s$,{className:"w-4 h-4"});case"http":return g.jsx(O3,{className:"w-4 h-4"});default:return g.jsx(a1,{className:"w-4 h-4"})}};return r?g.jsx("div",{className:"modal-backdrop fixed inset-0 flex items-center justify-center z-[100] md:p-4 bg-background/95",children:g.jsxs("div",{className:"bg-background border border-border md:rounded-lg shadow-xl w-full md:max-w-4xl h-full md:h-[90vh] flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-border flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Gu,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"}),g.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground",children:"Settings"})]}),g.jsx(bt,{variant:"ghost",size:"sm",onClick:e,className:"text-muted-foreground hover:text-foreground touch-manipulation",children:g.jsx(Fi,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsx("div",{className:"border-b border-border",children:g.jsxs("div",{className:"flex px-4 md:px-6",children:[g.jsx("button",{onClick:()=>B("tools"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ae==="tools"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Tools"}),g.jsx("button",{onClick:()=>B("appearance"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ae==="appearance"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Appearance"})]})}),g.jsxs("div",{className:"p-4 md:p-6 space-y-6 md:space-y-8 pb-safe-area-inset-bottom",children:[ae==="appearance"&&g.jsx("div",{className:"space-y-6 md:space-y-8",children:ae==="appearance"&&g.jsxs("div",{className:"space-y-6 md:space-y-8",children:[g.jsx("div",{className:"space-y-4",children:g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-foreground",children:"Dark Mode"}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"Toggle between light and dark themes"})]}),g.jsxs("button",{onClick:i,className:"relative inline-flex h-8 w-14 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",role:"switch","aria-checked":t,"aria-label":"Toggle dark mode",children:[g.jsx("span",{className:"sr-only",children:"Toggle dark mode"}),g.jsx("span",{className:`${t?"translate-x-7":"translate-x-1"} inline-block h-6 w-6 transform rounded-full bg-white shadow-lg transition-transform duration-200 flex items-center justify-center`,children:t?g.jsx(Iw,{className:"w-3.5 h-3.5 text-gray-700"}):g.jsx(zw,{className:"w-3.5 h-3.5 text-yellow-500"})})]})]})})}),g.jsx("div",{className:"space-y-4",children:g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-foreground",children:"Project Sorting"}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"How projects are ordered in the sidebar"})]}),g.jsxs("select",{value:b,onChange:H=>_(H.target.value),className:"text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2 w-32",children:[g.jsx("option",{value:"name",children:"Alphabetical"}),g.jsx("option",{value:"date",children:"Recent Activity"})]})]})})})]})}),ae==="tools"&&g.jsxs("div",{className:"space-y-6 md:space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Og,{className:"w-5 h-5 text-orange-500"}),g.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Permission Settings"})]}),g.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:g.jsxs("label",{className:"flex items-center gap-3",children:[g.jsx("input",{type:"checkbox",checked:p,onChange:H=>v(H.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Skip permission prompts (use with caution)"}),g.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Equivalent to --dangerously-skip-permissions flag"})]})]})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(V3,{className:"w-5 h-5 text-green-500"}),g.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Allowed Tools"})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Tools that are automatically allowed without prompting for permission"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx(Wn,{value:l,onChange:H=>u(H.target.value),placeholder:'e.g., "Bash(git log:*)" or "Write"',onKeyPress:H=>{H.key==="Enter"&&Se(l)},className:"flex-1 h-10 touch-manipulation",style:{fontSize:"16px"}}),g.jsxs(bt,{onClick:()=>Se(l),disabled:!l,size:"sm",className:"h-10 px-4 touch-manipulation",children:[g.jsx(mo,{className:"w-4 h-4 mr-2 sm:mr-0"}),g.jsx("span",{className:"sm:hidden",children:"Add Tool"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quick add common tools:"}),g.jsx("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2",children:ee.map(H=>g.jsx(bt,{variant:"outline",size:"sm",onClick:()=>Se(H),disabled:n.includes(H),className:"text-xs h-8 touch-manipulation truncate",children:H},H))})]}),g.jsxs("div",{className:"space-y-2",children:[n.map(H=>g.jsxs("div",{className:"flex items-center justify-between bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[g.jsx("span",{className:"font-mono text-sm text-green-800 dark:text-green-200",children:H}),g.jsx(bt,{variant:"ghost",size:"sm",onClick:()=>Ee(H),className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",children:g.jsx(Fi,{className:"w-4 h-4"})})]},H)),n.length===0&&g.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No allowed tools configured"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Og,{className:"w-5 h-5 text-red-500"}),g.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Disallowed Tools"})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Tools that are automatically blocked without prompting for permission"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsx(Wn,{value:d,onChange:H=>f(H.target.value),placeholder:'e.g., "Bash(rm:*)" or "Write"',onKeyPress:H=>{H.key==="Enter"&&et(d)},className:"flex-1 h-10 touch-manipulation",style:{fontSize:"16px"}}),g.jsxs(bt,{onClick:()=>et(d),disabled:!d,size:"sm",className:"h-10 px-4 touch-manipulation",children:[g.jsx(mo,{className:"w-4 h-4 mr-2 sm:mr-0"}),g.jsx("span",{className:"sm:hidden",children:"Add Tool"})]})]}),g.jsxs("div",{className:"space-y-2",children:[a.map(H=>g.jsxs("div",{className:"flex items-center justify-between bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[g.jsx("span",{className:"font-mono text-sm text-red-800 dark:text-red-200",children:H}),g.jsx(bt,{variant:"ghost",size:"sm",onClick:()=>Be(H),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:g.jsx(Fi,{className:"w-4 h-4"})})]},H)),a.length===0&&g.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No disallowed tools configured"})]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[g.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Tool Pattern Examples:"}),g.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[g.jsxs("li",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'"Bash(git log:*)"'})," ","- Allow all git log commands"]}),g.jsxs("li",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'"Bash(git diff:*)"'})," ","- Allow all git diff commands"]}),g.jsxs("li",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'"Write"'})," ","- Allow all Write tool usage"]}),g.jsxs("li",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'"Read"'})," ","- Allow all Read tool usage"]}),g.jsxs("li",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'"Bash(rm:*)"'})," ","- Block all rm commands (dangerous)"]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(a1,{className:"w-5 h-5 text-purple-500"}),g.jsx("h3",{className:"text-lg font-medium text-foreground",children:"MCP Servers"})]}),g.jsx("div",{className:"space-y-2",children:g.jsx("p",{className:"text-sm text-muted-foreground",children:"Model Context Protocol servers provide additional tools and data sources to Claude"})}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsxs(bt,{onClick:()=>$e(),className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[g.jsx(mo,{className:"w-4 h-4 mr-2"}),"Add MCP Server"]})}),g.jsxs("div",{className:"space-y-2",children:[P.map(H=>g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te(H.type),g.jsx("span",{className:"font-medium text-foreground",children:H.name}),g.jsx(ya,{variant:"outline",className:"text-xs",children:H.type}),g.jsx(ya,{variant:"outline",className:"text-xs",children:H.scope})]}),g.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[H.type==="stdio"&&H.config.command&&g.jsxs("div",{children:["Command:"," ",g.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded text-xs",children:H.config.command})]}),(H.type==="sse"||H.type==="http")&&H.config.url&&g.jsxs("div",{children:["URL:"," ",g.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded text-xs",children:H.config.url})]}),H.config.args&&H.config.args.length>0&&g.jsxs("div",{children:["Args:"," ",g.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded text-xs",children:H.config.args.join(" ")})]})]}),q[H.id]&&g.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${q[H.id].success?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:[g.jsx("div",{className:"font-medium",children:q[H.id].message}),q[H.id].details&&q[H.id].details.length>0&&g.jsx("ul",{className:"mt-1 space-y-0.5",children:q[H.id].details.map((de,Oe)=>g.jsxs("li",{children:[" ",de]},Oe))})]}),U[H.id]&&g.jsxs("div",{className:"mt-2 p-2 rounded text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 border border-blue-200 dark:border-blue-800",children:[g.jsx("div",{className:"font-medium mb-2",children:"Available Tools & Resources"}),U[H.id].tools&&U[H.id].tools.length>0&&g.jsxs("div",{className:"mb-2",children:[g.jsxs("div",{className:"font-medium text-xs mb-1",children:["Tools (",U[H.id].tools.length,"):"]}),g.jsx("ul",{className:"space-y-0.5",children:U[H.id].tools.map((de,Oe)=>g.jsxs("li",{className:"flex items-start gap-1",children:[g.jsx("span",{className:"text-blue-400 mt-0.5",children:""}),g.jsxs("div",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:de.name}),de.description&&de.description!=="No description provided"&&g.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["- ",de.description]})]})]},Oe))})]}),U[H.id].resources&&U[H.id].resources.length>0&&g.jsxs("div",{className:"mb-2",children:[g.jsxs("div",{className:"font-medium text-xs mb-1",children:["Resources (",U[H.id].resources.length,"):"]}),g.jsx("ul",{className:"space-y-0.5",children:U[H.id].resources.map((de,Oe)=>g.jsxs("li",{className:"flex items-start gap-1",children:[g.jsx("span",{className:"text-blue-400 mt-0.5",children:""}),g.jsxs("div",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:de.name}),de.description&&de.description!=="No description provided"&&g.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["- ",de.description]})]})]},Oe))})]}),U[H.id].prompts&&U[H.id].prompts.length>0&&g.jsxs("div",{children:[g.jsxs("div",{className:"font-medium text-xs mb-1",children:["Prompts (",U[H.id].prompts.length,"):"]}),g.jsx("ul",{className:"space-y-0.5",children:U[H.id].prompts.map((de,Oe)=>g.jsxs("li",{className:"flex items-start gap-1",children:[g.jsx("span",{className:"text-blue-400 mt-0.5",children:""}),g.jsxs("div",{children:[g.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:de.name}),de.description&&de.description!=="No description provided"&&g.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["- ",de.description]})]})]},Oe))})]}),(!U[H.id].tools||U[H.id].tools.length===0)&&(!U[H.id].resources||U[H.id].resources.length===0)&&(!U[H.id].prompts||U[H.id].prompts.length===0)&&g.jsx("div",{className:"text-xs opacity-75",children:"No tools, resources, or prompts discovered"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[g.jsx(bt,{onClick:()=>Pe(H.id,H.scope),variant:"ghost",size:"sm",disabled:q[H.id]?.loading,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"Test connection",children:q[H.id]?.loading?g.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):g.jsx(s1,{className:"w-4 h-4"})}),g.jsx(bt,{onClick:()=>oe(H.id,H.scope),variant:"ghost",size:"sm",disabled:se[H.id],className:"text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300",title:"Discover tools",children:se[H.id]?g.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-purple-600 border-t-transparent"}):g.jsx(Gu,{className:"w-4 h-4"})}),g.jsx(bt,{onClick:()=>$e(H),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:g.jsx(gg,{className:"w-4 h-4"})}),g.jsx(bt,{onClick:()=>ve(H.id,H.scope),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:g.jsx(Zn,{className:"w-4 h-4"})})]})]})},H.id)),P.length===0&&g.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No MCP servers configured"})]})]}),C&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4",children:g.jsxs("div",{className:"bg-background border border-border rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[g.jsx("h3",{className:"text-lg font-medium text-foreground",children:k?"Edit MCP Server":"Add MCP Server"}),g.jsx(bt,{variant:"ghost",size:"sm",onClick:Xe,children:g.jsx(Fi,{className:"w-4 h-4"})})]}),g.jsxs("form",{onSubmit:Qe,className:"p-4 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Server Name *"}),g.jsx(Wn,{value:$.name,onChange:H=>{D(de=>({...de,name:H.target.value})),Y(null),I(!1)},placeholder:"my-server",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Transport Type *"}),g.jsxs("select",{value:$.type,onChange:H=>{D(de=>({...de,type:H.target.value})),Y(null),I(!1)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"stdio",children:"stdio"}),g.jsx("option",{value:"sse",children:"SSE"}),g.jsx("option",{value:"http",children:"HTTP"})]})]})]}),$.type==="stdio"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Command *"}),g.jsx(Wn,{value:$.config.command,onChange:H=>xe("command",H.target.value),placeholder:"/path/to/mcp-server",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Arguments (one per line)"}),g.jsx("textarea",{value:Array.isArray($.config.args)?$.config.args.join(`
`):"",onChange:H=>xe("args",H.target.value.split(`
`).filter(de=>de.trim())),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:`--api-key
abc123`})]})]}),($.type==="sse"||$.type==="http")&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"URL *"}),g.jsx(Wn,{value:$.config.url,onChange:H=>xe("url",H.target.value),placeholder:"https://api.example.com/mcp",type:"url",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Environment Variables (KEY=value, one per line)"}),g.jsx("textarea",{value:Object.entries($.config.env||{}).map(([H,de])=>`${H}=${de}`).join(`
`),onChange:H=>{const de={};H.target.value.split(`
`).forEach(Oe=>{const[pe,...ot]=Oe.split("=");pe&&pe.trim()&&(de[pe.trim()]=ot.join("=").trim())}),xe("env",de)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:`API_KEY=your-key
DEBUG=true`})]}),($.type==="sse"||$.type==="http")&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Headers (KEY=value, one per line)"}),g.jsx("textarea",{value:Object.entries($.config.headers||{}).map(([H,de])=>`${H}=${de}`).join(`
`),onChange:H=>{const de={};H.target.value.split(`
`).forEach(Oe=>{const[pe,...ot]=Oe.split("=");pe&&pe.trim()&&(de[pe.trim()]=ot.join("=").trim())}),xe("headers",de)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:`Authorization=Bearer token
X-API-Key=your-key`})]}),g.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h4",{className:"font-medium text-foreground",children:"Configuration Test"}),g.jsx(bt,{type:"button",onClick:je,disabled:L||!$.name.trim(),variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:L?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent mr-2"}),"Testing..."]}):g.jsxs(g.Fragment,{children:[g.jsx(s1,{className:"w-4 h-4 mr-2"}),"Test Configuration"]})})]}),g.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"You can test your configuration to verify it's working correctly."}),K&&g.jsxs("div",{className:`p-3 rounded-lg text-sm ${K.success?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.jsxs("div",{className:"font-medium flex items-center gap-2",children:[K.success?g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),K.message]}),K.details&&K.details.length>0&&g.jsx("ul",{className:"mt-2 space-y-1 text-xs",children:K.details.map((H,de)=>g.jsxs("li",{className:"flex items-start gap-1",children:[g.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),g.jsx("span",{children:H})]},de))})]})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[g.jsx(bt,{type:"button",variant:"outline",onClick:Xe,children:"Cancel"}),g.jsx(bt,{type:"submit",disabled:A,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:A?"Saving...":k?"Update Server":"Add Server"})]})]})]})})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 md:p-6 border-t border-border flex-shrink-0 gap-3 pb-safe-area-inset-bottom",children:[g.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 order-2 sm:order-1",children:[m==="success"&&g.jsxs("div",{className:"text-green-600 dark:text-green-400 text-sm flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Settings saved successfully!"]}),m==="error"&&g.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Failed to save settings"]})]}),g.jsxs("div",{className:"flex items-center gap-3 order-1 sm:order-2",children:[g.jsx(bt,{variant:"outline",onClick:e,disabled:S,className:"flex-1 sm:flex-none h-10 touch-manipulation",children:"Cancel"}),g.jsx(bt,{onClick:_e,disabled:S,className:"flex-1 sm:flex-none h-10 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 touch-manipulation",children:S?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving..."]}):"Save Settings"})]})]})]})}):null}function NW(){const{isDarkMode:r,toggleDarkMode:e}=av();return g.jsxs("button",{onClick:e,className:"relative inline-flex h-8 w-14 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",role:"switch","aria-checked":r,"aria-label":"Toggle dark mode",children:[g.jsx("span",{className:"sr-only",children:"Toggle dark mode"}),g.jsx("span",{className:`${r?"translate-x-7":"translate-x-1"} inline-block h-6 w-6 transform rounded-full bg-white shadow-lg transition-transform duration-200 flex items-center justify-center`,children:r?g.jsx("svg",{className:"w-3.5 h-3.5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):g.jsx("svg",{className:"w-3.5 h-3.5 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}const DW=({isOpen:r,onToggle:e,autoExpandTools:t,onAutoExpandChange:i,showRawParameters:n,onShowRawParametersChange:s,autoScrollToBottom:a,onAutoScrollChange:o,sendByCtrlEnter:l,onSendByCtrlEnterChange:u,isMobile:d})=>{const[f,p]=F.useState(r),[v,S]=F.useState(()=>localStorage.getItem("whisperMode")||"default"),{isDarkMode:x}=av();F.useEffect(()=>{p(r)},[r]);const m=()=>{const y=!f;p(y),e(y)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed ${d?"bottom-44":"top-1/2 -translate-y-1/2"} ${f?"right-64":"right-0"} z-50 transition-all duration-150 ease-out`,children:g.jsx("button",{onClick:m,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-l-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors shadow-lg","aria-label":f?"Close settings panel":"Open settings panel",children:f?g.jsx(ha,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):g.jsx(YR,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})}),g.jsx("div",{className:`fixed top-0 right-0 h-full w-64 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 shadow-xl transform transition-transform duration-150 ease-out z-40 ${f?"translate-x-0":"translate-x-full"} ${d?"h-screen":""}`,children:g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(F3,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),"Quick Settings"]})}),g.jsxs("div",{className:`flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 bg-white dark:bg-gray-900 ${d?"pb-20":""}`,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Appearance"}),g.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-white",children:[x?g.jsx(Iw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}):g.jsx(zw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Dark Mode"]}),g.jsx(NW,{})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Tool Display"}),g.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-white",children:[g.jsx(Dw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Auto-expand tools"]}),g.jsx("input",{type:"checkbox",checked:t,onChange:y=>i(y.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"})]}),g.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-white",children:[g.jsx(F0,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Show raw parameters"]}),g.jsx("input",{type:"checkbox",checked:n,onChange:y=>s(y.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"View Options"}),g.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-white",children:[g.jsx(WR,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Auto-scroll to bottom"]}),g.jsx("input",{type:"checkbox",checked:a,onChange:y=>o(y.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Input Settings"}),g.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm text-gray-900 dark:text-white",children:[g.jsx(_3,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Send by Ctrl+Enter"]}),g.jsx("input",{type:"checkbox",checked:l,onChange:y=>u(y.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-3",children:"When enabled, pressing Ctrl+Enter will send the message instead of just Enter. This is useful for IME users to avoid accidental sends."})]}),g.jsxs("div",{className:"space-y-2",style:{display:"none"},children:[g.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Whisper Dictation"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"flex items-start p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsx("input",{type:"radio",name:"whisperMode",value:"default",checked:v==="default",onChange:()=>{S("default"),localStorage.setItem("whisperMode","default"),window.dispatchEvent(new Event("whisperModeChanged"))},className:"mt-0.5 h-4 w-4 border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"}),g.jsxs("div",{className:"ml-3 flex-1",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[g.jsx($u,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Default Mode"]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Direct transcription of your speech"})]})]}),g.jsxs("label",{className:"flex items-start p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsx("input",{type:"radio",name:"whisperMode",value:"prompt",checked:v==="prompt",onChange:()=>{S("prompt"),localStorage.setItem("whisperMode","prompt"),window.dispatchEvent(new Event("whisperModeChanged"))},className:"mt-0.5 h-4 w-4 border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"}),g.jsxs("div",{className:"ml-3 flex-1",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[g.jsx(Bw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Prompt Enhancement"]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Transform rough ideas into clear, detailed AI prompts"})]})]}),g.jsxs("label",{className:"flex items-start p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[g.jsx("input",{type:"radio",name:"whisperMode",value:"vibe",checked:v==="vibe"||v==="instructions"||v==="architect",onChange:()=>{S("vibe"),localStorage.setItem("whisperMode","vibe"),window.dispatchEvent(new Event("whisperModeChanged"))},className:"mt-0.5 h-4 w-4 border-gray-300 dark:border-gray-600 text-blue-600 dark:text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400 dark:bg-gray-800 dark:checked:bg-blue-600"}),g.jsxs("div",{className:"ml-3 flex-1",children:[g.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[g.jsx(Z0,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),"Vibe Mode"]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format ideas as clear agent instructions with details"})]})]})]})]})]})]})}),f&&g.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-30 transition-opacity duration-150 ease-out",onClick:m})]})};function IW(){const[r,e]=F.useState(null),[t,i]=F.useState([]),[n,s]=F.useState(!1),a=F.useRef(null);F.useEffect(()=>(o(),()=>{a.current&&clearTimeout(a.current),r&&r.close()}),[]);const o=async()=>{try{const u=localStorage.getItem("auth-token");if(!u){console.warn("No authentication token found for WebSocket connection");return}let d;try{if(d=(await(await fetch("/api/config",{headers:{Authorization:`Bearer ${u}`}})).json()).wsUrl,d.includes("localhost")&&!window.location.hostname.includes("localhost")){console.warn("Config returned localhost, using current host with API server port instead");const x=window.location.protocol==="https:"?"wss:":"ws:",m=window.location.port==="3001"?"3002":window.location.port;d=`${x}//${window.location.hostname}:${m}`}}catch{console.warn("Could not fetch server config, falling back to current host with API server port");const S=window.location.protocol==="https:"?"wss:":"ws:",x=window.location.port==="3001"?"3002":window.location.port;d=`${S}//${window.location.hostname}:${x}`}const f=`${d}/ws?token=${encodeURIComponent(u)}`,p=new WebSocket(f);p.onopen=()=>{s(!0),e(p)},p.onmessage=v=>{try{const S=JSON.parse(v.data);i(x=>[...x,S])}catch(S){console.error("Error parsing WebSocket message:",S)}},p.onclose=()=>{s(!1),e(null),a.current=setTimeout(()=>{o()},3e3)},p.onerror=v=>{console.error("WebSocket error:",v)}}catch(u){console.error("Error creating WebSocket connection:",u)}};return{ws:r,sendMessage:u=>{r&&n?r.send(JSON.stringify(u)):console.warn("WebSocket not connected")},messages:t,isConnected:n}}const lT=F.createContext({user:null,token:null,login:()=>{},register:()=>{},logout:()=>{},isLoading:!0,needsSetup:!1,error:null}),lv=()=>{const r=F.useContext(lT);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},BW=({children:r})=>{const[e,t]=F.useState(null),[i,n]=F.useState(localStorage.getItem("auth-token")),[s,a]=F.useState(!0),[o,l]=F.useState(!1),[u,d]=F.useState(null);F.useEffect(()=>{f()},[]);const f=async()=>{try{if(a(!0),d(null),(await(await br.auth.status()).json()).needsSetup){l(!0),a(!1);return}if(i)try{const b=await br.auth.user();if(b.ok){const _=await b.json();t(_.user),l(!1)}else localStorage.removeItem("auth-token"),n(null),t(null)}catch(b){console.error("Token verification failed:",b),localStorage.removeItem("auth-token"),n(null),t(null)}}catch(m){console.error("Auth status check failed:",m),d("Failed to check authentication status")}finally{a(!1)}},x={user:e,token:i,login:async(m,y)=>{try{d(null);const b=await br.auth.login(m,y),_=await b.json();return b.ok?(n(_.token),t(_.user),localStorage.setItem("auth-token",_.token),{success:!0}):(d(_.error||"Login failed"),{success:!1,error:_.error||"Login failed"})}catch(b){console.error("Login error:",b);const _="Network error. Please try again.";return d(_),{success:!1,error:_}}},register:async(m,y)=>{try{d(null);const b=await br.auth.register(m,y),_=await b.json();return b.ok?(n(_.token),t(_.user),l(!1),localStorage.setItem("auth-token",_.token),{success:!0}):(d(_.error||"Registration failed"),{success:!1,error:_.error||"Registration failed"})}catch(b){console.error("Registration error:",b);const _="Network error. Please try again.";return d(_),{success:!1,error:_}}},logout:()=>{n(null),t(null),localStorage.removeItem("auth-token"),i&&br.auth.logout().catch(m=>{console.error("Logout endpoint error:",m)})},isLoading:s,needsSetup:o,error:u};return g.jsx(lT.Provider,{value:x,children:r})},zW=()=>{const[r,e]=F.useState(""),[t,i]=F.useState(""),[n,s]=F.useState(""),[a,o]=F.useState(!1),[l,u]=F.useState(""),{register:d}=lv(),f=async p=>{if(p.preventDefault(),u(""),t!==n){u("Passwords do not match");return}if(r.length<3){u("Username must be at least 3 characters long");return}if(t.length<6){u("Password must be at least 6 characters long");return}o(!0);const v=await d(r,t);v.success||u(v.error),o(!1)};return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsx("div",{className:"w-full max-w-md",children:g.jsxs("div",{className:"bg-card rounded-lg shadow-lg border border-border p-8 space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx(Xw,{size:64})}),g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Welcome to Claude Code UI"}),g.jsx("p",{className:"text-muted-foreground mt-2",children:"Set up your account to get started"})]}),g.jsxs("form",{onSubmit:f,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-1",children:"Username"}),g.jsx("input",{type:"text",id:"username",value:r,onChange:p=>e(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",required:!0,disabled:a})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-1",children:"Password"}),g.jsx("input",{type:"password",id:"password",value:t,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:a})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-1",children:"Confirm Password"}),g.jsx("input",{type:"password",id:"confirmPassword",value:n,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",required:!0,disabled:a})]}),l&&g.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800 rounded-md",children:g.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:l})}),g.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200",children:a?"Setting up...":"Create Account"})]}),g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a single-user system. Only one account can be created."})})]})})})},qW=()=>{const[r,e]=F.useState(""),[t,i]=F.useState(""),[n,s]=F.useState(!1),[a,o]=F.useState(""),{login:l}=lv(),u=async d=>{if(d.preventDefault(),o(""),!r||!t){o("Please enter both username and password");return}s(!0);const f=await l(r,t);f.success||o(f.error),s(!1)};return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsx("div",{className:"w-full max-w-md",children:g.jsxs("div",{className:"bg-card rounded-lg shadow-lg border border-border p-8 space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center shadow-sm",children:g.jsx(co,{className:"w-8 h-8 text-primary-foreground"})})}),g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),g.jsx("p",{className:"text-muted-foreground mt-2",children:"Sign in to your Claude Code UI account"})]}),g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-1",children:"Username"}),g.jsx("input",{type:"text",id:"username",value:r,onChange:d=>e(d.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",required:!0,disabled:n})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-1",children:"Password"}),g.jsx("input",{type:"password",id:"password",value:t,onChange:d=>i(d.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:n})]}),a&&g.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800 rounded-md",children:g.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:a})}),g.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200",children:n?"Signing in...":"Sign In"})]}),g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your credentials to access Claude Code UI"})})]})})})},XW=()=>g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center shadow-sm",children:g.jsx(co,{className:"w-8 h-8 text-primary-foreground"})})}),g.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Claude Code UI"}),g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),g.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),g.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),g.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading..."})]})}),WW=({children:r})=>{const{user:e,isLoading:t,needsSetup:i}=lv();return t?g.jsx(XW,{}):i?g.jsx(zW,{}):e?r:g.jsx(qW,{})},cw="1.5.0",FW=(r,e)=>{const[t,i]=F.useState(!1),[n,s]=F.useState(null);return F.useEffect(()=>{const a=async()=>{try{const u=await(await fetch(`https://api.github.com/repos/${r}/${e}/releases/latest`)).json();if(u.tag_name){const d=u.tag_name.replace(/^v/,"");s(d),i(cw!==d)}else i(!1),s(null)}catch(l){console.error("Version check failed:",l),i(!1),s(null)}};a();const o=setInterval(a,5*60*1e3);return()=>clearInterval(o)},[r,e]),{updateAvailable:t,latestVersion:n,currentVersion:cw}};function hw(){const r=LQ(),{sessionId:e}=jQ(),{updateAvailable:t,latestVersion:i,currentVersion:n}=FW("siteboon","claudecodeui"),[s,a]=F.useState(!1),[o,l]=F.useState([]),[u,d]=F.useState(null),[f,p]=F.useState(null),[v,S]=F.useState("chat"),[x,m]=F.useState(!1),[y,b]=F.useState(!1),[_,P]=F.useState(!0),[T,C]=F.useState(!1),[R,k]=F.useState(!1),[E,$]=F.useState(!1),[D,A]=F.useState(()=>{const _e=localStorage.getItem("autoExpandTools");return _e!==null?JSON.parse(_e):!1}),[N,q]=F.useState(()=>{const _e=localStorage.getItem("showRawParameters");return _e!==null?JSON.parse(_e):!1}),[V,K]=F.useState(()=>{const _e=localStorage.getItem("autoScrollToBottom");return _e!==null?JSON.parse(_e):!0}),[Y,L]=F.useState(()=>{const _e=localStorage.getItem("sendByCtrlEnter");return _e!==null?JSON.parse(_e):!1}),[z,M]=F.useState(new Set),{ws:I,sendMessage:U,messages:W}=IW();F.useEffect(()=>{const _e=()=>{m(window.innerWidth<768)};return _e(),window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),F.useEffect(()=>{le()},[]);const se=(_e,Se,Ee,et)=>{if(!Ee||!et)return!0;const Be=_e?.find(Pe=>Pe.name===Ee.name),Xe=Se?.find(Pe=>Pe.name===Ee.name);if(!Be||!Xe)return!1;const $e=Be.sessions?.find(Pe=>Pe.id===et.id),Qe=Xe.sessions?.find(Pe=>Pe.id===et.id);return!$e||!Qe?!1:$e.id===Qe.id&&$e.title===Qe.title&&$e.created_at===Qe.created_at&&$e.updated_at===Qe.updated_at};F.useEffect(()=>{if(W.length>0){const _e=W[W.length-1];if(_e.type==="projects_updated"){if(f&&z.has(f.id)||z.size>0&&Array.from(z).some(et=>et.startsWith("new-session-"))){const et=_e.projects;if(!se(o,et,u,f))return}const Ee=_e.projects;if(l(Ee),u){const et=Ee.find(Be=>Be.name===u.name);et&&(d(et),f&&(et.sessions?.find(Xe=>Xe.id===f.id)||p(null)))}}}},[W,u,f,z]);const le=async()=>{try{P(!0);const Se=await(await br.projects()).json();l(Ee=>Ee.length===0||Se.some((Be,Xe)=>{const $e=Ee[Xe];return $e?Be.name!==$e.name||Be.displayName!==$e.displayName||Be.fullPath!==$e.fullPath||JSON.stringify(Be.sessionMeta)!==JSON.stringify($e.sessionMeta)||JSON.stringify(Be.sessions)!==JSON.stringify($e.sessions):!0})||Se.length!==Ee.length?Se:Ee)}catch(_e){console.error("Error fetching projects:",_e)}finally{P(!1)}};window.refreshProjects=le,F.useEffect(()=>{if(e&&o.length>0){const _e=!f||f.id!==e;for(const Se of o){const Ee=Se.sessions?.find(et=>et.id===e);if(Ee){d(Se),p(Ee),_e&&S("chat");return}}}},[e,o,r]);const ae=_e=>{d(_e),p(null),r("/"),x&&b(!1)},B=_e=>{p(_e),v!=="git"&&v!=="preview"&&S("chat"),x&&b(!1),r(`/session/${_e.id}`)},ee=_e=>{d(_e),p(null),S("chat"),r("/"),x&&b(!1)},ie=_e=>{f?.id===_e&&(p(null),r("/")),l(Se=>Se.map(Ee=>({...Ee,sessions:Ee.sessions?.filter(et=>et.id!==_e)||[],sessionMeta:{...Ee.sessionMeta,total:Math.max(0,(Ee.sessionMeta?.total||0)-1)}})))},G=async()=>{try{const Se=await(await br.projects()).json();if(l(Ee=>Se.some((Be,Xe)=>{const $e=Ee[Xe];return $e?Be.name!==$e.name||Be.displayName!==$e.displayName||Be.fullPath!==$e.fullPath||JSON.stringify(Be.sessionMeta)!==JSON.stringify($e.sessionMeta)||JSON.stringify(Be.sessions)!==JSON.stringify($e.sessions):!0})||Se.length!==Ee.length?Se:Ee),u){const Ee=Se.find(et=>et.name===u.name);if(Ee&&(JSON.stringify(Ee)!==JSON.stringify(u)&&d(Ee),f)){const et=Ee.sessions?.find(Be=>Be.id===f.id);et&&JSON.stringify(et)!==JSON.stringify(f)&&p(et)}}}catch(_e){console.error("Error refreshing sidebar:",_e)}},me=_e=>{u?.name===_e&&(d(null),p(null),r("/")),l(Se=>Se.filter(Ee=>Ee.name!==_e))},be=_e=>{_e&&M(Se=>new Set([...Se,_e]))},Ie=_e=>{_e&&M(Se=>{const Ee=new Set(Se);return Ee.delete(_e),Ee})},qe=_e=>{_e&&M(Se=>{const Ee=new Set;for(const et of Se)et.startsWith("new-session-")||Ee.add(et);return Ee.add(_e),Ee})},st=()=>s?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),g.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full max-w-md mx-4 p-6 space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:g.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Update Available"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"A new version is ready"})]})]}),g.jsx("button",{onClick:()=>a(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Version"}),g.jsx("span",{className:"text-sm text-gray-900 dark:text-white font-mono",children:n})]}),g.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[g.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Latest Version"}),g.jsx("span",{className:"text-sm text-blue-900 dark:text-blue-100 font-mono",children:i})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"How to upgrade:"}),g.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3 border",children:g.jsx("code",{className:"text-sm text-gray-800 dark:text-gray-200 font-mono",children:"git checkout main && git pull && npm install"})}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Run this command in your Claude Code UI directory to update to the latest version."})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Later"}),g.jsx("button",{onClick:()=>{navigator.clipboard.writeText("git checkout main && git pull && npm install"),a(!1)},className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Copy Command"})]})]})]}):null;return g.jsxs("div",{className:"fixed inset-0 flex bg-background",children:[!x&&g.jsx("div",{className:"w-80 flex-shrink-0 border-r border-border bg-card",children:g.jsx("div",{className:"h-full overflow-hidden",children:g.jsx(h1,{projects:o,selectedProject:u,selectedSession:f,onProjectSelect:ae,onSessionSelect:B,onNewSession:ee,onSessionDelete:ie,onProjectDelete:me,isLoading:_,onRefresh:G,onShowSettings:()=>k(!0),updateAvailable:t,latestVersion:i,currentVersion:n,onShowVersionModal:()=>a(!0)})})}),x&&g.jsxs("div",{className:`fixed inset-0 z-50 flex transition-all duration-150 ease-out ${y?"opacity-100 visible":"opacity-0 invisible"}`,children:[g.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm transition-opacity duration-150 ease-out",onClick:_e=>{_e.stopPropagation(),b(!1)},onTouchStart:_e=>{_e.preventDefault(),_e.stopPropagation(),b(!1)}}),g.jsx("div",{className:`relative w-[85vw] max-w-sm sm:w-80 bg-card border-r border-border h-full transform transition-transform duration-150 ease-out ${y?"translate-x-0":"-translate-x-full"}`,onClick:_e=>_e.stopPropagation(),onTouchStart:_e=>_e.stopPropagation(),children:g.jsx(h1,{projects:o,selectedProject:u,selectedSession:f,onProjectSelect:ae,onSessionSelect:B,onNewSession:ee,onSessionDelete:ie,onProjectDelete:me,isLoading:_,onRefresh:G,onShowSettings:()=>k(!0),updateAvailable:t,latestVersion:i,currentVersion:n,onShowVersionModal:()=>a(!0)})})]}),g.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:g.jsx(AW,{selectedProject:u,selectedSession:f,activeTab:v,setActiveTab:S,ws:I,sendMessage:U,messages:W,isMobile:x,onMenuClick:()=>b(!0),isLoading:_,onInputFocusChange:C,onSessionActive:be,onSessionInactive:Ie,onReplaceTemporarySession:qe,onNavigateToSession:_e=>r(`/session/${_e}`),onShowSettings:()=>k(!0),autoExpandTools:D,showRawParameters:N,autoScrollToBottom:V,sendByCtrlEnter:Y})}),x&&g.jsx(LW,{activeTab:v,setActiveTab:S,isInputFocused:T}),v==="chat"&&g.jsx(DW,{isOpen:E,onToggle:$,autoExpandTools:D,onAutoExpandChange:_e=>{A(_e),localStorage.setItem("autoExpandTools",JSON.stringify(_e))},showRawParameters:N,onShowRawParametersChange:_e=>{q(_e),localStorage.setItem("showRawParameters",JSON.stringify(_e))},autoScrollToBottom:V,onAutoScrollChange:_e=>{K(_e),localStorage.setItem("autoScrollToBottom",JSON.stringify(_e))},sendByCtrlEnter:Y,onSendByCtrlEnterChange:_e=>{L(_e),localStorage.setItem("sendByCtrlEnter",JSON.stringify(_e))},isMobile:x}),g.jsx(jW,{isOpen:R,onClose:()=>k(!1)}),g.jsx(st,{})]})}function ZW(){return g.jsx(MW,{children:g.jsx(BW,{children:g.jsx(WW,{children:g.jsx(tR,{children:g.jsxs(KQ,{children:[g.jsx(lg,{path:"/",element:g.jsx(hw,{})}),g.jsx(lg,{path:"/session/:sessionId",element:g.jsx(hw,{})})]})})})})})}nQ.createRoot(document.getElementById("root")).render(g.jsx(Vn.StrictMode,{children:g.jsx(ZW,{})}));
