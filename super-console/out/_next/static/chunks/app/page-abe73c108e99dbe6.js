(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3775:function(e,t,n){Promise.resolve().then(n.bind(n,346))},5775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=n(7043);n(7437),n(2265);let r=s._(n(5602));function l(e,t){var n;let s={loading:e=>{let{error:t,isLoading:n,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,r.default)({...l,modules:null==(n=l.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=n(8993);function r(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return n}},5602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let s=n(7437),r=n(2265),l=n(1523),a=n(49);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},n=(0,r.lazy)(()=>t.loader().then(o)),c=t.loading;function d(e){let o=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,s.jsx)(n,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(n,{...e})});return(0,s.jsx)(r.Suspense,{fallback:o,children:i})}return d.displayName="LoadableComponent",d}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let s=n(7437),r=n(544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,r.getExpectedRequestStore)("next/dynamic css"),l=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},346:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var s=n(7437),r=n(2265),l=n(5775),a=n.n(l),o=n(1628),i=n(4297),c=n(5658);let d=a()(()=>Promise.all([n.e(525),n.e(68),n.e(736)]).then(n.bind(n,5770)),{loadableGenerated:{webpack:()=>[5770]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"flex-1 bg-terminal-bg p-4 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Loading terminal..."})})});function u(e){let{sessionId:t}=e,{executeCommand:n}=function(e){let[t,n]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),{databases:a,functions:d}=(0,o.C)();return{executeCommand:async t=>{l(!0);let s=await a.createDocument(i.Eo,i.Ul.COMMANDS,c.ID.unique(),{sessionId:e,command:t,status:"executing",timestamp:new Date().toISOString(),toolsUsed:[]});try{let r=await d.createExecution(i.r8.CLAUDE_EXECUTOR,JSON.stringify({sessionId:e,command:t,commandId:s.$id}),!1),l=JSON.parse(r.responseBody),o=await a.updateDocument(i.Eo,i.Ul.COMMANDS,s.$id,{output:l.output,status:l.success?"completed":"failed",executionTime:1e3*r.duration,toolsUsed:l.toolsUsed||[],error:l.error});return n(e=>[...e,o]),l}catch(e){throw await a.updateDocument(i.Eo,i.Ul.COMMANDS,s.$id,{status:"failed",error:String(e)}),e}finally{l(!1)}},cancelCommand:async e=>{try{await a.updateDocument(i.Eo,i.Ul.COMMANDS,e,{status:"failed",error:"Cancelled by user"})}catch(e){console.error("Failed to cancel command:",e)}},commandHistory:t,executing:s}}(t),l=async e=>{try{return await n(e)}catch(e){throw console.error("Command execution failed:",e),e}};return(0,s.jsx)(d,{sessionId:t,onCommand:l})}var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),x=(e,t)=>{let n=(0,r.forwardRef)((n,s)=>{let{color:l="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,...u}=n;return(0,r.createElement)("svg",{ref:s,...f,width:a,height:a,stroke:l,strokeWidth:i?24*Number(o)/Number(a):o,className:["lucide","lucide-".concat(m(e)),c].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(d)?d:[d]])});return n.displayName="".concat(e),n},h=x("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),p=x("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),y=x("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),w=x("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),g=x("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),j=x("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function b(e){let{sessionId:t}=e,[n,l]=(0,r.useState)([]),[a,d]=(0,r.useState)(new Set),[u,f]=(0,r.useState)(null),{databases:m}=(0,o.C)();(0,r.useEffect)(()=>{t&&x()},[t]);let x=async()=>{if(t)try{let e=await m.listDocuments(i.Eo,i.Ul.FILES,[c.AE.equal("sessionId",t),c.AE.orderAsc("path")]),n=b(e.documents);l(n)}catch(e){console.error("Failed to load files:",e)}},b=e=>{let t=[],n=new Map;return e.forEach(e=>{let s={$id:e.$id,name:e.name,path:e.path,type:e.type,size:e.size,content:e.content,children:"folder"===e.type?[]:void 0};n.set(e.path,s);let r=e.path.substring(0,e.path.lastIndexOf("/"));if(r&&n.has(r)){let e=n.get(r);e.children&&e.children.push(s)}else t.push(s)}),t},v=e=>{d(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a.has(e.$id),r=u===e.$id;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 hover:bg-accent cursor-pointer ".concat(r?"bg-accent":""),style:{paddingLeft:"".concat(16*t+8,"px")},onClick:()=>{"folder"===e.type?v(e.$id):f(e.$id)},children:["folder"===e.type?(0,s.jsxs)(s.Fragment,{children:[n?(0,s.jsx)(h,{className:"w-4 h-4"}):(0,s.jsx)(p,{className:"w-4 h-4"}),(0,s.jsx)(y,{className:"w-4 h-4 text-blue-500"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4"}),(0,s.jsx)(w,{className:"w-4 h-4 text-gray-500"})]}),(0,s.jsx)("span",{className:"text-sm",children:e.name})]}),"folder"===e.type&&n&&e.children&&(0,s.jsx)("div",{children:e.children.map(e=>N(e,t+1))})]},e.$id)};return t?(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"p-2 border-b border-border flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Files"}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("button",{className:"p-1 hover:bg-accent rounded",title:"Upload",children:(0,s.jsx)(g,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"p-1 hover:bg-accent rounded",title:"Download",children:(0,s.jsx)(j,{className:"w-4 h-4"})})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:n.length>0?n.map(e=>N(e)):(0,s.jsx)("div",{className:"p-4 text-muted-foreground text-sm text-center",children:"No files yet"})})]}):(0,s.jsx)("div",{className:"p-4 text-muted-foreground text-sm",children:"Select a session to view files"})}let v=x("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),N=x("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function S(e){let{sessions:t,activeSession:n,onSessionChange:r,onNewSession:l}=e,a=t.find(e=>e.$id===n);return(0,s.jsxs)("header",{className:"h-14 border-b border-border bg-card flex items-center px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Claude Super Console"})]}),(0,s.jsxs)("div",{className:"ml-8 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-accent transition",children:[(0,s.jsx)("span",{className:"text-sm",children:(null==a?void 0:a.sessionName)||"No Session"}),(0,s.jsx)(h,{className:"w-4 h-4"})]}),t.length>0&&(0,s.jsx)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-popover border border-border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:t.map(e=>(0,s.jsxs)("button",{onClick:()=>r(e.$id),className:"w-full text-left px-3 py-2 hover:bg-accent transition flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm",children:e.sessionName}),e.$id===n&&(0,s.jsx)("span",{className:"text-xs text-primary",children:"Active"})]},e.$id))})]}),(0,s.jsxs)("button",{onClick:l,className:"flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition text-sm",children:[(0,s.jsx)(N,{className:"w-4 h-4"}),"New Session"]})]})]})}let C=x("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function E(e){let{isConnected:t}=e;return(0,s.jsxs)("div",{className:"h-8 border-t border-border bg-card flex items-center px-4 text-xs text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{className:"w-2 h-2 fill-current ".concat(t?"text-green-500":"text-red-500")}),(0,s.jsx)("span",{children:t?"Connected":"Disconnected"})]}),(0,s.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,s.jsx)("span",{children:"Appwrite Cloud"}),(0,s.jsx)("span",{children:"v1.0.0"})]})]})}function k(){let[e,t]=(0,r.useState)(null),[n,l]=(0,r.useState)(!1),{account:a}=(0,o.C)(),{sessions:d,createSession:f,deleteSession:m}=function(){let[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),{databases:l,account:a}=(0,o.C)();(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await a.get(),n=await l.listDocuments(i.Eo,i.Ul.SESSIONS,[c.AE.equal("userId",e.$id),c.AE.orderDesc("lastActiveAt")]);t(n.documents)}catch(e){console.error("Failed to load sessions:",e)}finally{s(!1)}};return{sessions:e,loading:n,createSession:async e=>{try{let n=await a.get(),s=await l.createDocument(i.Eo,i.Ul.SESSIONS,c.ID.unique(),{userId:n.$id,sessionName:e,status:"active",context:{},workspace:{},createdAt:new Date().toISOString(),lastActiveAt:new Date().toISOString()});return t(e=>[s,...e]),s}catch(e){throw console.error("Failed to create session:",e),e}},deleteSession:async e=>{try{await l.deleteDocument(i.Eo,i.Ul.SESSIONS,e),t(t=>t.filter(t=>t.$id!==e))}catch(e){throw console.error("Failed to delete session:",e),e}},updateSession:async(e,n)=>{try{let s=await l.updateDocument(i.Eo,i.Ul.SESSIONS,e,{...n,lastActiveAt:new Date().toISOString()});return t(t=>t.map(t=>t.$id===e?s:t)),s}catch(e){throw console.error("Failed to update session:",e),e}},refreshSessions:d}}();(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{await a.get(),l(!0)}catch(e){console.error("Connection failed:",e),l(!1)}},h=async()=>{t((await f("New Session")).$id)};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-background",children:[(0,s.jsx)(S,{sessions:d,activeSession:e,onSessionChange:t,onNewSession:h}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)("div",{className:"w-64 border-r border-border bg-card",children:(0,s.jsx)(b,{sessionId:e})}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:e?(0,s.jsx)(u,{sessionId:e}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to Claude Super Console"}),(0,s.jsx)("p",{className:"mb-6",children:"Create a new session to start using Claude Code"}),(0,s.jsx)("button",{onClick:h,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition",children:"Create New Session"})]})})})]}),(0,s.jsx)(E,{isConnected:n})]})}},1628:function(e,t,n){"use strict";n.d(t,{AppwriteProvider:function(){return o},C:function(){return i}});var s=n(7437),r=n(2265),l=n(4297);let a=(0,r.createContext)(void 0);function o(e){let{children:t}=e;return(0,s.jsx)(a.Provider,{value:{account:l.JT,databases:l.UA,functions:l.wk,storage:l.tO,realtime:l.ud},children:t})}function i(){let e=(0,r.useContext)(a);if(!e)throw Error("useAppwrite must be used within AppwriteProvider");return e}},4297:function(e,t,n){"use strict";n.d(t,{Eo:function(){return d},JT:function(){return l},UA:function(){return a},Ul:function(){return u},r8:function(){return f},tO:function(){return i},ud:function(){return c},wk:function(){return o}});var s=n(5658);let r=new s.KU().setEndpoint("https://nyc.cloud.appwrite.io/v1").setProject("68a4e3da0022f3e129d0"),l=new s.mR(r),a=new s.Lg(r),o=new s.FI(r),i=new s.Ke(r),c=null;c={subscribe:()=>()=>{}};let d="super-console",u={SESSIONS:"sessions",COMMANDS:"commands",FILES:"files",TOOLS:"tools"},f={CLAUDE_EXECUTOR:"claude-executor",TOOL_RUNNER:"tool-runner"}}},function(e){e.O(0,[658,971,117,744],function(){return e(e.s=3775)}),_N_E=e.O()}]);